(this["webpackJsonprasa-frontend"]=this["webpackJsonprasa-frontend"]||[]).push([[0],{1:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"d",(function(){return f})),n.d(t,"j",(function(){return E})),n.d(t,"k",(function(){return j})),n.d(t,"m",(function(){return w})),n.d(t,"y",(function(){return R})),n.d(t,"x",(function(){return N})),n.d(t,"g",(function(){return U})),n.d(t,"t",(function(){return V})),n.d(t,"u",(function(){return ee})),n.d(t,"p",(function(){return ae})),n.d(t,"e",(function(){return P})),n.d(t,"a",(function(){return ie})),n.d(t,"c",(function(){return ue})),n.d(t,"h",(function(){return pe})),n.d(t,"i",(function(){return he})),n.d(t,"n",(function(){return ye})),n.d(t,"o",(function(){return Ee})),n.d(t,"q",(function(){return je})),n.d(t,"v",(function(){return we})),n.d(t,"w",(function(){return B})),n.d(t,"A",(function(){return _e})),n.d(t,"l",(function(){return Ne})),n.d(t,"r",(function(){return Be})),n.d(t,"s",(function(){return Ge})),n.d(t,"f",(function(){return Qe})),n.d(t,"z",(function(){return lt})),n.d(t,"C",(function(){return st})),n.d(t,"B",(function(){return bt}));var r=n(0),a=n(18),o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},c=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};var i=function(e){var t,n=e.sx,i=e.variant,s=void 0===i?"medium":i,l=e.children,u=e.username,d=c(e,["sx","variant","children","username"]);return r.createElement(a.d,o({variant:"avatar."+s,justifyContent:"center",alignItems:"center",fontSize:4,color:"neutral_0",bg:"cyan_2"},d,{sx:o({textAlign:"center",borderRadius:"50%",lineHeight:"1em"},n||{})}),l||((t=u)?t.split(" ").slice(0,2).map((function(e){return e.slice(0,1).toUpperCase()})).join(""):null)||null)},s=n(328),l=n.n(s),u=function(){return(u=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},d=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},f=r.forwardRef((function(e,t){var n=e.showWhenDisabled,o=e.active,c=e.hover,i=e.fullWidth,s=e.large,f=e.block,p=e.variant,m=void 0===p?"primary":p,b=d(e,["showWhenDisabled","active","hover","fullWidth","large","block","variant"]),h=["icon","headerIcon"].includes(m)&&!n,g=b.disabled||!b.onClick&&!b.href;return r.createElement(a.b,u({as:"button",variant:"button."+m,className:l()({active:o,hover:c,large:s,disabled:b.disabled}),ref:t,sx:u(u({},f?{borderRadius:0}:{}),{alignSelf:"center",cursor:g?"not-allowed":"pointer",letterSpacing:0,outline:0,position:"relative",transition:"all .2s ease","&:disabled, &.disabled":{boxShadow:"none",display:h?"none":void 0},width:i?"100%":null})},b))})),p=n(187),m=n(732),b=n(16),h=function(){return(h=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},g=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},v=Object(p.default)((function(e){e.color,e.fontSize,e.opacity;var t=g(e,["color","fontSize","opacity"]);return r.createElement(m.a,h({},t))}))(Object(b.compose)(b.space,b.color,b.fontSize));function y(e){var t=e.icon,n=g(e,["icon"]),a="string"===typeof t?["fal",t]:t;return r.createElement(v,h({icon:a,style:{width:"1em"}},n))}y.defaultProps={color:"inherit",fontSize:"inherit"};var E=y,x=function(){return(x=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},O=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};var j=function(e){e.ref;var t=e.src,n=e.placeholder,o=O(e,["ref","src","placeholder"]),c=r.useState(!1),i=c[0],s=c[1];return r.useEffect((function(){var e,n=new Image;t&&(e=[t,function(){return s(!0)},function(){return s(!1)}],n.src=e[0],n.onerror=e[1],n.onload=e[2])}),[t]),r.createElement(r.Fragment,null,i&&n?n:r.createElement(a.f,x({src:t},o)))},C=function(){return(C=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},S=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};var w=function(e){var t=e.loading,n=void 0===t||t,o=e.onClick,c=e.children,i=S(e,["loading","onClick","children"]);return r.createElement(f,C({onClick:n?void 0:o},i),r.createElement(a.a,{sx:{visibility:n?"hidden":"visible"}},c),n&&r.createElement(a.d,{alignItems:"center",justifyContent:"center",sx:{position:"absolute",left:0,top:0,width:"100%",height:"100%"}},r.createElement(E,{icon:"spinner-third",spin:!0,ml:1,fontSize:"16px"})))},k=function(){return(k=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},T=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},R=r.forwardRef((function(e,t){var n=e.sx,o=e.loading,c=e.inheritColor,i=e.variant,s=void 0===i?"bodyPrimary":i,l=T(e,["sx","loading","inheritColor","variant"]);return r.createElement(a.g,k({as:"code"===s?"code":"p",variant:"text."+s},l,{ref:t,sx:k(k(k({display:"block",fontWeight:400,letterSpacing:o?"0px important":0,m:0,maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis"},c?{color:"inherit !important"}:{}),o?{color:function(e){return e.colours.neutral_1+" !important"}}:{}),n||{})}))})),A=n(733),_=n(734),I=function(){return(I=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},F=r.memo((function(e){var t=e.forwardRef,n=e.columns,o=e.data,c=e.metadata,i=e.highlighted,s=e.index,l=e.listStyle,u=e.rowHeight,d=l.top,f=l.height,p=r.Children.map(n,(function(e){return r.cloneElement(e,{asHeader:!1,data:o,highlighted:i,index:s,metadata:c})}));return r.createElement(a.d,{ref:t,px:4,sx:{position:"absolute",width:"100%",left:0,top:d,minHeight:u,height:f,boxSizing:"border-box",borderBottomStyle:"solid",borderWidth:"1px",borderColor:"neutral_2","&:hover":{backgroundColor:"neutral_1"},"&:last-of-type":{border:"none",borderBottomLeftRadius:"large",borderBottomRightRadius:"large"},"&:before":I({content:'""',width:"4px",height:"100%",backgroundColor:"primary_2",position:"absolute",left:"0",borderRadius:"2px"},i?{}:{display:"none"})}},p)}));var U=r.memo((function(e){var t=e.asHeader,n=e.title,o=e.data,c=e.metadata,i=e.highlighted,s=e.width,l=e.children,u=e.index;return t?r.createElement(a.a,{width:s},n):r.createElement(a.a,{width:s,alignSelf:"center"},l(o,{index:u,highlighted:i,metadata:c}))})),N=function(e){var t=e.rows,n=e.rowHeight,o=void 0===n?64:n,c=e.metadata,i=e.children,s=e.variant,l=void 0===s?"default":s,u=e.onLoadMore,d=e.highlight,f=void 0===d?0:d,p=r.useCallback((function(e){var t=e.overscanStopIndex;u&&u(t)}),[u]),m=r.useState(null),b=m[0],h=m[1];r.useEffect((function(){b&&b.scrollToItem(f,"center")}),[b,f]);var g=r.useMemo((function(){return r.forwardRef((function(e,n){var a=e.index,s=e.style;return r.createElement(F,{forwardRef:n,key:a,index:a,highlighted:f===a,columns:i,data:t[a],metadata:c,listStyle:s,rowHeight:o})}))}),[i,t,f,c,o]),v=r.useMemo((function(){return r.Children.map(i,(function(e){return r.cloneElement(e,{asHeader:!0})}))}),[i]);return r.createElement(a.a,{sx:{color:"neutral_8",fontSize:2,backgroundColor:"neutral_0",height:"100%"},variant:"table."+l},r.createElement(a.d,{p:4,sx:{fontWeight:"bold",borderBottomStyle:"solid",borderWidth:"1px",borderColor:"neutral_2"}},v),r.createElement(_.a,null,(function(e){var n=e.height,a=e.width;return r.createElement(A.a,{ref:h,height:n-o,width:a,itemCount:t.length,onItemsRendered:p},g)})))},L=function(){return(L=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},D=Object(p.default)(a.c)(Object(b.compose)(b.borderRadius,b.boxShadow)),M=r.forwardRef((function(e,t){return r.createElement(D,L({ref:t},e))}));M.defaultProps={bg:"neutral_0",borderRadius:"normal",boxShadow:"card",p:3};var P=M;var B=function(e){var t,n=e.children,o=e.spacing,c=e.variant,i=void 0===c?"row":c,s=e.fullSize,l=void 0!==s&&s,u="row"===i,d=r.useMemo((function(){var e,t;return{margin:u?"0 "+o/2+"px":o/2+"px 0","&:first-of-type":(e={},e[u?"marginLeft":"marginTop"]=0,e),"&:last-of-type":(t={},t[u?"marginRight":"marginBottom"]=0,t.flexGrow=l?1:0,t)}}),[o]),f=l?((t={})[u?"width":"height"]="100%",t):{};return r.createElement(a.d,{alignItems:"center",flexDirection:i,sx:f},r.Children.map(n,(function(e){return r.createElement(a.a,{sx:d},e)})))},H=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},q=p.default.input(G||(G=H(["\n  border: none;\n  background-color: transparent;\n  font-size: 13px;\n  width: 100%;\n"],["\n  border: none;\n  background-color: transparent;\n  font-size: 13px;\n  width: 100%;\n"])));var G,V=r.memo((function(e){var t=e.buttons,n=e.count,o=e.query,c=e.label,i=e.onChange,s=r.useMemo((function(){return c(n)}),[c,n]),l=r.useCallback((function(e){return i(e.target.value)}),[i]);return r.createElement(a.d,{alignItems:"center",justifyContent:"space-between",sx:{width:"100%",height:"56px",borderTopLeftRadius:"large",borderTopRightRadius:"large",borderBottomStyle:"solid",borderBottomWidth:"1px",borderColor:"neutral_2",backgroundColor:"neutral_0",overflow:"hidden"}},r.createElement(a.d,{alignItems:"center",justifyContent:"space-between",width:"100%",height:"100%",sx:{paddingLeft:"24px","&:hover":{backgroundColor:"neutral_1"}}},r.createElement(B,{spacing:16,fullSize:!0},r.createElement(E,{icon:"search",color:"neutral_6"}),r.createElement(q,{type:"text",placeholder:s,width:"100%",value:o,onChange:l}))),t&&t.map((function(e,t){return r.createElement(P,{p:0,key:t,sx:{borderColor:"neutral_4",borderLeftStyle:"solid",borderLeftWidth:"1px",minWidth:"auto"}},e)})))})),z=n(85),W=n(325),Y=n(1436),K=function(){return(K=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Q=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},X=W.a.stateChangeTypes,Z=r.forwardRef((function(e,t){return r.createElement(f,K({variant:"plainDropdown",ref:t},e),r.createElement(E,{icon:"chevron-down",fontSize:"12px"}))})),J=r.forwardRef((function(e,t){return r.createElement(P,K({p:0,m:0,boxShadow:"selectBox",sx:{overflow:"hidden",border:0,zIndex:99999,display:"inline-block",minWidth:"240px",maxWidth:"480px"},ref:t},e))})),$=function(e){var t=e.onClick,n=e.onHover,a=e.children;return r.createElement(r.Fragment,null,r.createElement(we,null),r.createElement(je,{onClick:t,onMouseMove:n,tabIndex:0,variant:"primary"},a))};var ee=function(e){var t=e.block,n=e.createNewText,o=void 0===n?"Create new":n,c=e.disabled,i=e.fullWidth,s=e.fullHeight,l=e.hideSelected,u=e.invalid,d=e.items,f=void 0===d?[]:d,p=e.itemsAreEqual,m=void 0===p?function(e,t){return e&&t?e.value===t.value:e===t}:p,b=e.itemToString,h=void 0===b?function(e){return e?e.label:""}:b,g=e.menuIsOpen,v=e.onBackspaceEmpty,y=e.onChange,E=e.onCreate,x=e.onEscape,O=e.onMenuOpen,j=e.onReturn,C=e.placeholder,S=e.prefix,w=e.renderItem,k=void 0===w?function(e,t){return t}:w,T=e.suffix,R=e.toggleButtonProps,A=void 0===R?{}:R,_=e.value,I=Q(e,["block","createNewText","disabled","fullWidth","fullHeight","hideSelected","invalid","items","itemsAreEqual","itemToString","menuIsOpen","onBackspaceEmpty","onChange","onCreate","onEscape","onMenuOpen","onReturn","placeholder","prefix","renderItem","suffix","toggleButtonProps","value"]),F=r.useState(f),U=F[0],N=F[1],L=r.useState(""),D=L[0],M=L[1],P=r.useState(_||void 0),B=P[0],H=P[1];r.useEffect((function(){var e=new RegExp((D||"").replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),"i");N(f.filter((function(t){return h(t).match(e)})))}),[D,f]);var q=r.useState(null),G=q[0],V=q[1],ee=r.useState(null),te=ee[0],ne=ee[1],re=Object(Y.a)(G,te,{placement:"bottom-start",modifiers:[{name:"flip",options:{fallbackPlacements:["bottom-end","top-start","top-end","right","left"]}},{name:"offset",options:{offset:[0,8]}}]}),ae=re.styles,oe=re.attributes,ce=re.update,ie=Object(W.a)({items:U,inputValue:D,itemToString:h,selectedItem:B,onStateChange:function(e){switch(e.type){case X.InputChange:return ce&&ce(),void M(e.inputValue||"");case X.InputKeyDownEnter:case X.ItemClick:if(M(""),e.selectedItem)y(e.selectedItem);else{var t=f.find((function(t){return h(t)==e.inputValue}));y(t||null)}return;case X.FunctionOpenMenu:return void(e.isOpen&&(ce&&ce(),O&&O()));case X.FunctionSelectItem:return void H(e.selectedItem)}}}),se=ie.getComboboxProps,le=ie.getInputProps,ue=ie.getItemProps,de=ie.getMenuProps,fe=ie.getToggleButtonProps,pe=ie.highlightedIndex,me=ie.isOpen,be=ie.setHighlightedIndex,he=ie.openMenu,ge=r.createElement(r.Fragment,null,T,r.createElement(Z,K({},fe(K(K(K({},A),{disabled:c}),"inverse"===I.variant?{variant:"plain"}:{})),{ml:3}))),ve=z.createPortal(r.createElement(J,K({},de({ref:ne}),oe.popper,{style:ae.popper}),(me||g)&&r.createElement(r.Fragment,null,r.createElement(a.a,{sx:{maxHeight:"240px",overflow:"auto",display:"grid"}},U.map((function(e,t){var n=m(B,e),a=pe===t;if(n&&l)return null;var o=h(e);return r.createElement(je,K({isSelected:n,isFocused:a,key:""+o+t,children:k(e,o)},ue({item:e,index:t,disabled:c})))}))),E&&r.createElement($,{onClick:function(){return E(D)},onHover:function(){return be(-1)}},o))),document.body);return r.createElement(r.Fragment,null,r.createElement(Ne,K({block:t,prefix:S,suffix:ge,containerProps:se({ref:V}),fullWidth:i,fullHeight:s,invalid:u,placeholder:_?k(_,h(_)):C,darkenPlaceholder:!!_},le({disabled:c,onKeyDown:function(e){switch(e.key){case"Enter":return void(!me&&j&&j());case"Escape":return void(!me&&x&&x());case"Backspace":return void(""===D&&v&&v())}},onFocus:he}),I)),ve)},te=function(){return(te=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},ne=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},re=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),a=0;for(t=0;t<n;t++)for(var o=arguments[t],c=0,i=o.length;c<i;c++,a++)r[a]=o[c];return r};var ae=function(e){var t=e.itemsAreEqual,n=void 0===t?function(e,t){return e&&t?e.value===t.value:e===t}:t,a=e.itemToString,o=void 0===a?function(e){return e?e.label:""}:a,c=e.items,i=void 0===c?[]:c,s=e.value,l=e.onChange,u=ne(e,["itemsAreEqual","itemToString","items","value","onChange"]),d=Object(W.b)({selectedItems:s}),f=d.getSelectedItemProps,p=d.getDropdownProps,m=r.useCallback((function(e){return e&&l(re(s,[e]))}),[l]),b=r.useCallback((function(){return l(s.slice(0,-1))}),[l]),h=r.useMemo((function(){return i.filter((function(e){return!s.find((function(t){return n(e,t)}))}))}),[s,i]),g=s.map((function(e,t){return r.createElement(Ge,te({active:!0,color:"neutral_8",bg:"neutral_2",key:"selected-item-"+t,py:"6px",my:"2px",flex:"0 0 120px",label:o(e)},f({selectedItem:e,index:t,onChange:function(){return l(s.filter((function(e,n){return n!=t})))}})))}));return r.createElement(ee,te({itemToString:o,onChange:m,prefix:g,toggleButtonProps:p(),onBackspaceEmpty:b,items:h},u))},oe=function(){return(oe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},ce=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};var ie=function(e){var t=e.block,n=e.variant,o=void 0===n?"primary":n,c=ce(e,["block","variant"]);return r.createElement(a.d,oe({sx:{m:3,px:3,py:"12px",fontSize:2,letterSpacing:0,lineHeight:"normal",borderRadius:t?0:"normal"}},c,{variant:"alert."+o}))},se=function(){return(se=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},le=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};var ue=function(e){var t=e.sx,n=le(e,["sx"]);return r.createElement(a.g,se({as:"span"},n,{sx:se({display:"flex",justifyContent:"center",alignItems:"center",width:"16px",height:"16px",borderRadius:"8px",fontSize:"11px",lineHeight:"normal",textAlign:"center",bg:"primary_1",color:"neutral_0"},t||{})}))},de=n(521),fe=function(){return(fe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};var pe=function(e){var t=e.children,n=e.height,a=e.show,o=(e.overlay,Object(de.b)(a,null,{from:{height:"0px"},enter:{height:n},leave:{height:"0px"}}));return r.createElement(r.Fragment,null," ",o.map((function(e){var n=e.item,a=e.key,o=e.props;return n&&r.createElement(de.a.div,{key:a,style:fe({width:"100%",position:"absolute",top:0,left:0,zIndex:1,overflow:"hidden"},o)},t)}))," ")},me=function(){return(me=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},be=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};var he=function(e){var t=e.sx,n=e.inheritColor,o=e.variant,c=void 0===o?"h3":o,i=e.loading,s=be(e,["sx","inheritColor","variant","loading"]);return r.createElement(a.e,me({as:c,variant:"heading."+c},s,{sx:me(me(me({fontFamily:"Lato",fontWeight:1,letterSpacing:0,lineHeight:"normal",m:0,color:"neutral_8"},t||{}),n?{color:"inherit !important"}:{}),i?{letterSpacing:"0px",color:"neutral_2 !important"}:{})}))};var ge=function(){return(ge=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},ve=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};var ye=function(e){var t=e.sx,n=e.reverseAlign,o=void 0!==n&&n,c=e.variant,i=void 0===c?"primary":c,s=e.borderRadius,l=ve(e,["sx","reverseAlign","variant","borderRadius"]);return r.createElement(a.a,ge({maxWidth:"408px",width:[0,"stretch"],fontSize:2,variant:"messageBubble."+i,sx:ge(ge(ge({letterSpacing:0,lineHeight:"normal",overflowWrap:"break-word"},t||{}),o?{alignSelf:"flex-end"}:{alignSelf:"flex-start"}),s?{borderRadius:s}:o?{borderRadius:"20px 4px 20px 20px"}:{borderRadius:"4px 20px 20px 20px"})},l))};var Ee=function(e){var t=e.onClick,n=e.buttons,o=void 0===n?[]:n;return o&&0!==o.length?r.createElement(r.Fragment,null,Array.isArray(o)&&r.createElement(a.d,{mt:2,px:"12px",flexWrap:"wrap"},o.map((function(e,n){return r.createElement(f,{disabled:!t,key:e&&e.payload||"new-button-"+n,onClick:function(n){n.stopPropagation(),t&&t(e?e.payload:"")},mr:1,mb:1,variant:"primary"},e&&e.title||"New Button")})))):null},xe=function(){return(xe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Oe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},je=r.forwardRef((function(e,t){var n=e.isSelected,o=e.isFocused,c=e.hideSelected,i=e.variant,s=void 0===i?"default":i,l=Oe(e,["isSelected","isFocused","hideSelected","variant"]);return r.createElement(a.b,xe({ref:t,py:"14px",px:4,bg:n||o?"neutral_1":"transparent",tabIndex:0,variant:"option."+s},l,{sx:{border:"none",borderRadius:0,cursor:"pointer",display:c&&n?"none":null,fontSize:"13px",lineHeight:"normal",outline:0,textAlign:"left",transition:"all ease .2s",width:"100%"}}))})),Ce=function(){return(Ce=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Se=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};var we=function(e){var t=e.barColor,n=void 0===t?"neutral_4":t,o=e.variant,c=void 0===o?"center":o,i=Se(e,["barColor","variant"]),s={bg:n,content:'" "',height:"1px",display:"block",flex:"1 1 auto"};return r.createElement(a.d,Ce({variant:"separator."+c,m:0},i,{sx:{width:"100%",alignItems:"center",whiteSpace:"nowrap","&::before":s,"&::after":s}}))},ke=n(736),Te=n.n(ke),Re=function(){return(Re=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Ae=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};var _e=function(e){var t=e.accept,n=void 0===t?"*":t,o=e.id,c=void 0===o?Te()():o,i=e.onUpload,s=e.width,l=Ae(e,["accept","id","onUpload","width"]);return r.createElement(r.Fragment,null,r.createElement(a.a,{as:"label",htmlFor:c,width:s},r.createElement(f,Re({as:"span",onClick:function(){}},l))),r.createElement(a.a,{as:"input",id:c,accept:n,type:"file",onChange:i,sx:{display:"none"}}))},Ie=function(){return(Ie=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Fe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},Ue=Ie({border:"1px solid",borderRadius:"normal",boxSizing:"border-box",outline:0,"input&":{minHeight:"40px"},"& input":{minHeight:"38px"},px:3,resize:"none",transition:"all ease .2s","&.block":{borderRadius:0},"&.darkenPlaceholder::placeholder, &.darkenPlaceholder input::placeholder":{color:"inherit !important",opacity:"1 !important"},"&.noBorder":{bg:"transparent",border:"none"},"&.widthAuto":{minWidth:"208px"},"&.fullHeight":{height:"100%"},"textarea&":{overflowY:"auto",py:2,"&:not(.fullHeight)":{maxHeight:"60px"}}},Object.fromEntries(Object.entries({default:{bg:"neutral_0",borderColor:"neutral_5","&:focus-within:not(:disabled):not(.disabled), &:focus:not(:disabled):not(.disabled)":{borderColor:"primary_2"},"&::placeholder, & input::placeholder":{color:"neutral_6"},"&:hover":{borderColor:"neutral_6"},"&:invalid, &.invalid":{borderColor:"secondary_2"},"&:disabled, &.disabled":{bg:"neutral_1",color:"neutral_6"}},search:{color:"neutral_6",border:"none",bg:"transparent","&.active":{bg:"neutral_1"}},inverse:{color:"neutral_0",bg:"primary_2",borderColor:"neutral_5","&:focus-within:not(:disabled):not(.disabled), &:focus:not(:disabled):not(.disabled)":{borderColor:"neutral_0"},"&::placeholder, & input::placeholder":{color:"neutral_5"},"&:hover":{borderColor:"neutral_3"},"&:invalid, &.invalid":{borderColor:"secondary_3"},"&:disabled, &.disabled":{color:"neutral_5"}}}).map((function(e){return["&.variant--"+e[0],e[1]]})))),Ne=r.forwardRef((function(e,t){var n,o=e.active,c=e.block,i=e.containerProps,s=e.darkenPlaceholder,u=e.fullHeight,d=e.fullWidth,f=e.invalid,p=e.noBorder,m=e.onChange,b=e.onChangeValue,h=e.onReturn,g=e.onKeyDown,v=e.prefix,y=e.rows,E=e.suffix,x=e.variant,O=void 0===x?"default":x,j=e.value,C=e.width,S=e.placeholder,w=Fe(e,["active","block","containerProps","darkenPlaceholder","fullHeight","fullWidth","invalid","noBorder","onChange","onChangeValue","onReturn","onKeyDown","prefix","rows","suffix","variant","value","width","placeholder"]),k=Ie({as:w.textarea?"textarea":"input"},w.textarea?{rows:void 0===y?1:y}:{}),T=d?"100%":C,A=l()(((n={active:o,block:c,invalid:f,disabled:w.disabled,widthAuto:!T,fullHeight:u,noBorder:p,darkenPlaceholder:s})["variant--"+O]=!!O,n)),_=w.p,I=w.px,F=w.py,U=w.pt,N=w.pr,L=w.pb,D=w.pl,M=w.m,P=w.mx,B=w.my,H=w.mt,q=w.mr,G=w.mb,V=w.ml,z=Fe(w,["p","px","py","pt","pr","pb","pl","m","mx","my","mt","mr","mb","ml"]),W=Ie({m:M,mx:P,my:B,mt:H,mr:q,mb:G,ml:V,p:_,px:I,py:F,pt:U,pr:N,pb:L,pl:D,className:A,width:T,sx:Ue},i),Y={py:2},K=Ie(Ie(Ie(Ie(Ie({},Y),z),{ref:t,value:j}),k),{onChange:function(e){m&&m(e),b&&b(e.currentTarget.value)},onKeyDown:function(e){var t;g&&g(e),h&&(t=h,function(e){t&&"Enter"===e.key&&(e.preventDefault(),t(e.currentTarget.value))})(e)}});if(!v&&!E)return r.createElement(R,Ie({},W,K,{placeholder:S,variant:"bodySecondary"}));var Q="string"!==typeof S;return r.createElement(R,Ie({as:"div",display:"inline-block"},W,{variant:"bodySecondary"}),r.createElement(a.d,{alignItems:"center",sx:{height:"100%"}},r.createElement(a.d,{flex:"1 1",flexWrap:"wrap",alignItems:"center"},v||null,r.createElement(a.a,{flex:"1 1",sx:{position:"relative"}},Q&&""==j&&r.createElement(R,Ie({},Y,{as:"div",children:S,sx:{position:"absolute",height:"100%",width:"100%",zIndex:1,whiteSpace:"nowrap"}})),r.createElement(R,Ie({placeholder:Q?void 0:S,flex:"1 1",sx:{position:"relative",zIndex:2,border:"0 none",bg:"transparent",color:"inherit",fontSize:"inherit",outline:0,width:"100%"}},K)))),E&&r.createElement(a.d,{flex:"0 0 auto"},E)))})),Le=function(){return(Le=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},De=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},Me=Object(p.default)(a.c)(Object(b.compose)(b.border,b.maxWidth)),Pe=r.forwardRef((function(e,t){var n=e.as,a=e.fontSize,o=e.fontWeight,c=e.children,i=e.color,s=(e.tooltipContent,e.onClick),l=De(e,["as","fontSize","fontWeight","children","color","tooltipContent","onClick"]);return r.createElement(Me,Le({sx:{display:"inline-block",borderRadius:"100px",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",cursor:s?"pointer":void 0},onClick:s},l,{ref:t}),r.createElement(R,{as:n,color:i,fontWeight:o,fontSize:a},c))}));Pe.defaultProps={px:3,py:2,mr:2,fontSize:"12px",fontWeight:"bold"};var Be=r.memo(Pe),He=function(){return(He=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},qe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},Ge=r.forwardRef((function(e,t){var n=e.active,o=e.label,c=e.content,i=e.onChange,s=e.onClick,l=e.permanent,u=e.total,d=e.bg,f=void 0===d?"primary_2":d,p=e.color,m=void 0===p?"neutral_0":p,b=qe(e,["active","label","content","onChange","onClick","permanent","total","bg","color"]);if(!l&&!n&&0===u)return null;var h=o+(void 0!==u?" ("+u+")":""),g=r.createElement(a.a,{flex:"1",style:{textOverflow:"ellipsis",overflow:"hidden"}},r.createElement("b",null,h),c&&" "+c);return r.createElement(Be,He({ref:t,display:"inline-block",bg:n?f:"transparent",color:n?m:f,maxWidth:"250px",borderColor:n?"transparent":f,borderWidth:"1px",borderStyle:"solid",fontWeight:"normal",onClick:function(e){i&&i(!n),s&&s(e)}},b),r.createElement(a.d,{alignItems:"center"},g,i&&n&&r.createElement(a.a,{ml:2},r.createElement(E,{icon:"times"}))))})),Ve=n(139),ze=function(){return(ze=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},We=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},Ye=Object(Ve.c)();function Ke(e){var t=e.checked,n=e.disabled,o=e.fontSize,c=e.icon,i=void 0===c?"check":c,s=e.m,l=e.mb,u=e.ml,d=e.mr,f=e.mt,p=e.mx,m=e.my,b=e.onChange,h=e.partial,g=(e.ref,e.variant),v=void 0===g?"default":g,y=e.width,x=We(e,["checked","disabled","fontSize","icon","m","mb","ml","mr","mt","mx","my","onChange","partial","ref","variant","width"]),O=r.useCallback((function(e){e.shiftKey&&b(e)}),[b]),j=Object.fromEntries(Object.entries({m:s,mb:l,ml:u,mr:d,mt:f,mx:p,my:m}).filter((function(e){e[0];return void 0!==e[1]}))),C=i;"radio"==v?C="circle":h&&(C="minus");var S=o||("radio"==v?"10px":"6px");return r.createElement(a.a,{sx:ze(ze(ze({},j),void 0!==y?{width:y,height:y}:{}),{position:"relative",zIndex:0})},r.createElement(a.a,{as:"input",type:"checkbox",sx:Ye,checked:t,onChange:b,disabled:n}),r.createElement(a.a,ze({variant:"checkbox."+v,fontSize:S,onClick:O},x,{sx:ze({userSelect:"none",bg:"neutral_0",border:"1px solid",borderColor:"neutral_4",display:"inline-flex",alignItems:"center",justifyContent:"center",position:"absolute",top:0,transition:"all 150ms",width:y,height:y,cursor:"pointer","& > svg":{visibility:"hidden"},"input:checked + & > svg":{visibility:"visible"}},n?{pointerEvents:"none"}:{})}),r.createElement(E,{icon:["fas",C]})))}Ke.defaultProps={width:"16px"};var Qe=Ke,Xe=n(737),Ze=function(){return(Ze=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Je={bg:"primary_2",border:"none",borderRadius:"normal",boxShadow:"button",color:"neutral_0",fontSize:1,fontWeight:1,lineHeight:"normal",px:3,py:"6px","&.large":{fontSize:2,py:"10px"},"&:hover":{bg:"primary_1"},"&:disabled, &.disabled":{color:"neutral_6",bg:"neutral_3",boxShadow:"none"}},$e={bg:"transparent",border:"none",color:"neutral_0",fontSize:1,fontWeight:1,lineHeight:"small",p:0,"&.large":{fontSize:2}},et={bg:"transparent",border:"none",borderRadius:"normal",color:"neutral_6",fontSize:"10px",lineHeight:0,p:2,"&:hover":{color:"neutral_7"},"&.active":{color:"primary_1"}},tt={bg:"transparent",border:"none",borderRadius:"normal",color:"neutral_6",fontSize:"16px",lineHeight:0,p:"12px","&.active":{bg:"transparent",color:"primary_2"},"&:hover, &.hover":{bg:"primary_2",color:"neutral_0"}},nt={primary:Je,primaryDark:Ze(Ze({},Je),{boxShadow:"none"}),login:Ze(Ze({},Je),{letterSpacing:"1.1px !important",lineHeight:"28px"}),secondary:{bg:"transparent",border:"1px solid",borderColor:"primary_2",borderRadius:"normal",color:"primary_2",fontSize:1,fontWeight:1,lineHeight:"normal",px:3,py:"5px","&.large":{fontSize:2,py:"9px"},"&:hover, &.hover":{borderColor:"primary_1",color:"primary_1"},"&:disabled, &.disabled":{borderColor:"neutral_5",color:"neutral_6"}},dark:{bg:"neutral_8",borderRadius:"normal",color:"neutral_0",fontSize:1,fontWeight:1,lineHeight:"normal",px:3,py:"6px","&.large":{fontSize:2,py:"10px"}},inverse:{bg:"transparent",border:"1px solid",borderColor:"neutral_0",borderRadius:"normal",color:"neutral_0",fontSize:1,fontWeight:1,lineHeight:"normal",px:3,py:"6px","&.large":{fontSize:2,py:"10px"}},plain:$e,plainDropdown:Ze(Ze({},$e),{color:"neutral_8","&:disabled, &.disabled":{color:"neutral_6"}}),icon:tt,iconInverse:Ze(Ze({},tt),{color:"neutral_0","&:hover, &.hover":Ze(Ze({},tt["&:hover, &.hover"]),{color:"primary_1",bg:"neutral_0"})}),headerIcon:{bg:"neutral_0",border:"none",borderRadius:0,color:"neutral_6",fontSize:"16px",lineHeight:0,p:"28px","&.active":{bg:"primary_2",color:"neutral_0"},"&:hover, &.hover":{"&.active":{bg:"primary_1",color:"neutral_0"},bg:"neutral_1",color:"neutral_6"}},plainIcon:et,plainIconDark:Ze(Ze({},et),{"&:hover, &.hover":Ze(Ze({},et["&:hover"]),{color:"neutral_1"})}),barIcon:{bg:"transparent",border:"none",borderRadius:0,color:"primary_2",fontSize:"16px",lineHeight:0,p:"24px","&.active":{bg:"primary_2",color:"neutral_0"},"&:hover, &.hover":{"&.active":{bg:"primary_1",color:"neutral_0"},bg:"neutral_1",color:"primary_1"}},onboardingIcon:Ze(Ze({},Je),{bg:"neutral_0",color:"primary_2",padding:0,border:"1px solid",borderColor:"primary_4",borderRadius:50,fontSize:"20px",width:"48px",height:"48px","&:hover, &.hover":{bg:"neutral_1",color:"neutral_7"},"&.active":{color:"primary_1"}})},rt=function(){return(rt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},at={content:'""',borderRadius:"1000px",position:"absolute",top:"-4px",bottom:"-4px",left:"-4px",right:"-4px",zIndex:-1},ot={default:{color:"neutral_0",borderRadius:"4px","input:checked + &":{bg:"primary_2",border:"none",borderColor:"transparent"},"input:focus + &::before":rt(rt({},at),{bg:"primary_4"})},primary:{color:"primary_2",borderRadius:"4px","input:checked + &":{bg:"neutral_0"},"input:focus + &::before":rt(rt({},at),{bg:"primary_3"})},radio:{color:"primary_2",borderRadius:"20px","input:checked + &":{bg:"neutral_0",border:"1px solid",borderColor:"primary_2"}}},ct=[400,700],it={primary_1:"#4A3DD4",primary_2:"#574AE2",primary_3:"#6C5EF9",primary_4:"#DDDCF6",neutral_0:"#FFFFFF",neutral_1:"#F6F7FB",neutral_2:"#F2F4FA",neutral_3:"#ECEFF7",neutral_4:"#DDE2EF",neutral_5:"#CED5E7",neutral_6:"#979FB4",neutral_7:"#2C3951",neutral_8:"#252D40",secondary_1:"#972422",secondary_2:"#C6423F",secondary_3:"#E85653",secondary_4:"#F8CBCA",orange_1:"#EB9015",orange_2:"#FF9F1C",orange_3:"#F8DEBB",yellow_1:"#E4B912",yellow_2:"#FFD121",yellow_3:"#FBF2D1",green_1:"#48A9A6",green_2:"#4DD6D2",green_3:"#D6EBEA",blue_1:"#3158D6",blue_2:"#446FF8",blue_3:"#D0E3FC",cyan_1:"#4DD6D2",cyan_2:"#87E5E2",cyan_3:"#DEFBFA",dark_1:"#2C3951",dark_2:"#263146",grey:"#dde2ef",black:"#333333",white:"#ffffff",active:"#e6f7ff"},st={breakpoints:["0","500px","800px","1200px","1900px"],colors:it,colours:it,fontSizes:[11,12,13,14,16,20,24,32,48,64,72],fontWeights:ct,gradients:{primary_1:"linear-gradient(56deg, rgba(113, 22, 208, 0.95), #4e61e1)"},heights:[32,40,48,56,64],letterSpacings:[.6,.7,.9,1.4],lineHeights:{large:"36px",big:"24px",normal:"20px",small:"16px",tight:"12px"},space:[0,4,8,16,24,32,40,48,56,64,72,80,128,256,512],fonts:{mono:'"IBM Plex Mono", "Courier New", Courier, monospace',sansSerif:'"Lato", -apple-system, BlinkMacSystemFont, "avenir next", avenir, "helvetica neue", helvetica, ubuntu, roboto, noto, "segoe ui", arial, sans-serif'},active:{background:it.active},radii:{tiny:"2px",small:"4px",normal:"8px",large:"16px"},actions:{default:{color:it.neutral_6},incorrect:{color:it.neutral_6,textDecoration:"line-through"},correct:{color:it.primary_2,fontWeight:ct[1]}},shadows:{sm:"0 6px 21px 0 rgba(152, 152, 152, 0.06)",md:"0 3px 6px 0 rgba(96,97,149,0.20)",lg:"0 11px 43px 0 rgba(120, 119, 150, 0.1)",selectBox:"0 2px 8px 0 "+it.neutral_5,card:"0 2px 4px 0 rgba(207, 207, 207, 0.21)",button:"0 2px 4px 0 rgba(207, 207, 207, 0.67)"},menuItem:{default:{color:it.neutral_6,backgroundColor:"transparent","&:hover":{color:it.neutral_0,backgroundColor:it.dark_2}}},text:{heading:{h1:{fontSize:6},h2:{fontSize:4},h3:{fontSize:3},h4:{fontSize:2},h5:{fontSize:1}},text:{bodyPrimary:{color:"neutral_8",fontSize:3,lineHeight:"normal"},bodySecondary:{color:"neutral_8",fontSize:2,lineHeight:"normal"},captionPrimary:{color:"neutral_6",fontSize:2,lineHeight:"small"},captionSecondary:{color:"neutral_6",fontSize:0,lineHeight:"tight"},metadata:{color:"neutral_7",fontSize:0,lineHeight:"tight"},code:{color:"neutral_8",fontFamily:"IBM Plex Mono",fontSize:1,lineHeight:"normal"},inverse:{color:"neutral_0",fontSize:3,lineHeight:"normal"}}},buttons:{button:nt,option:{default:{color:"neutral_8","&:hover":{bg:"neutral_1"}},primary:{color:"primary_2","&:hover":{bg:"neutral_1",color:"primary_1","&.active":{bg:"primary_1",color:"neutral_0"}}}}},variants:{alert:{primary:{bg:"primary_2",color:"neutral_0"},error:{bg:"secondary_2",color:"neutral_0"},warning:{bg:"yellow_3",color:"yellow_1",borderColor:"yellow_2",border:"solid 1px"},success:{bg:"cyan_3",color:"#56bdba",borderColor:"cyan_2",border:"solid 1px"},alertThatUsesColoursThatArentInTheStyleguide:{bg:"#e8fff7",color:"#56bdba",border:"solid 1px",borderColor:"#88deca"}},avatar:{small:{width:"28px",height:"28px"},medium:{width:"32px",height:"32px"},large:{width:"40px",height:"40px"},xl:{width:"56px",height:"56px"}},checkbox:ot,messageBubble:{primary:{bg:"primary_2",color:"neutral_0",px:"20px",py:"10px"},secondary:{bg:"neutral_3",color:"neutral_8",px:"20px",py:"10px"},flagged:{bg:"secondary_2",color:"neutral_0",px:"20px",py:"10px"},neutral:{bg:"neutral_0",color:"neutral_8",px:"20px",py:"10px"},custom:{bg:"neutral_3",color:"neutral_8",padding:0}},separator:{left:{"& > :first-of-type":{pr:"12px"},"&:before":{display:"none"}},center:{"& > :first-of-type":{px:"12px"}},right:{"& > :first-of-type":{pl:"12px"},"&:after":{display:"none"}}},table:{default:{borderRadius:"large"},flattened:{borderRadius:0}}}},lt=function(e){var t=e.children;return r.createElement(Xe.a,{theme:st},t)},ut=n(140),dt=n(326),ft=n(39),pt=n(280),mt=[ft.a,ut.a,ft.b,ft.c,ft.d,ut.b,ft.e,ft.f,ft.g,ft.h,dt.a,ut.d,ut.c,ft.i,ut.e,ft.j,ft.k,dt.b,ft.l,ft.m,ft.n,ft.o,ft.p,ft.q,ft.r,ft.s,ut.f,ft.t,ut.g,dt.c,ft.u,ft.v,ft.w,ft.x,ft.y,ft.z,ft.A,ft.B,ft.C,ut.h,ft.E,ft.D,ft.F,ft.G,ft.H,ut.i,ft.I,ft.J,ft.K,ft.L,ft.M,ft.N,ft.O,ut.j,ft.P,dt.d,ft.Q,ft.R,ft.S,ft.T,ft.U,ft.V,ft.W,ut.k];function bt(){pt.b.add.apply(pt.b,mt)}},10:function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return v})),n.d(t,"c",(function(){return y}));var r=n(4),a=n.n(r),o=n(2),c=n(5),i=n(220),s=n(28),l=a.a.mark(b),u=a.a.mark(h),d=(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n]}(s.c.success,s.f.success,s.g.success),[i.a,Object(o.getType)(s.c.success),Object(o.getType)(s.g.success)]),f=[i.a,Object(o.getType)(s.f.success)];function p(e){switch(e.type){case Object(o.getType)(s.c.success):case Object(o.getType)(s.g.success):return e.payload.access_token;case i.a:return e.payload&&e.payload.auth&&e.payload.auth.accessToken||null;default:return null}}function m(e){switch(e.type){case Object(o.getType)(s.f.success):return e.payload.access_token;case i.a:return e.payload&&e.payload.auth&&e.payload.auth.guestAccessToken||null;default:return null}}function b(e,t,n,r){var o;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return o=p(r),a.next=3,n(e,t,o);case 3:case"end":return a.stop()}}),l)}function h(e,t,n,r){var o;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return o=m(r),a.next=3,n(e,t,o);case 3:case"end":return a.stop()}}),u)}function g(e,t,n,r){var o,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(o=r?!0===r?c.k:r:c.j,!n)return a.a.mark((function n(){return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o(e,t);case 2:case"end":return n.stop()}}),n)}));var s=i?h:b,l=i?f:d;return a.a.mark((function n(){return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(c.k)(l,s,e,t,o);case 2:case"end":return n.stop()}}),n)}))}function v(e,t){return g(Object(o.getType)(e),t,!0)}function y(e,t){return g(Object(o.getType)(e),t,!0,!1,!0)}},100:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return c}));var r=n(2),a=Object(r.createAsyncAction)("FETCH TELEMETRY DATA","FETCH TELEMETRY DATA SUCCESS","FETCH TELEMETRY DATA FAILURE")(),o=Object(r.createAsyncAction)("SAVE POWERUSER FORM","SAVE POWERUSER FORM SUCCESS","SAVE POWERUSER FORM FAILURE")(),c=Object(r.createAsyncAction)("SAVE TELEMETRY EVENT","SAVE TELEMETRY EVENT SUCCESS","SAVE TELEMETRY EVENT FAILURE")()},101:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(13),a=n(0),o=n(3),c=Object(r.default)(o.Box).withConfig({displayName:"HoverBox",componentId:"sc-4bv4l0-0"})(["display:",";"],(function(e){return e.show?"block":"none"}));t.b=a.memo(c)},11:function(e,t,n){"use strict";n.d(t,"c",(function(){return p})),n.d(t,"zb",(function(){return h})),n.d(t,"Hb",(function(){return g})),n.d(t,"Tb",(function(){return v})),n.d(t,"Ib",(function(){return y})),n.d(t,"j",(function(){return E})),n.d(t,"tb",(function(){return x})),n.d(t,"U",(function(){return O})),n.d(t,"Ab",(function(){return j})),n.d(t,"Bb",(function(){return C})),n.d(t,"tc",(function(){return S})),n.d(t,"dc",(function(){return w})),n.d(t,"Cb",(function(){return k})),n.d(t,"A",(function(){return T})),n.d(t,"e",(function(){return R})),n.d(t,"ob",(function(){return A})),n.d(t,"mb",(function(){return _})),n.d(t,"nb",(function(){return I})),n.d(t,"Vb",(function(){return F})),n.d(t,"oc",(function(){return U})),n.d(t,"v",(function(){return N})),n.d(t,"Wb",(function(){return L})),n.d(t,"eb",(function(){return D})),n.d(t,"Db",(function(){return M})),n.d(t,"ab",(function(){return P})),n.d(t,"Rb",(function(){return B})),n.d(t,"W",(function(){return H})),n.d(t,"jb",(function(){return q})),n.d(t,"ec",(function(){return G})),n.d(t,"s",(function(){return V})),n.d(t,"gc",(function(){return z})),n.d(t,"r",(function(){return W})),n.d(t,"Z",(function(){return Y})),n.d(t,"Y",(function(){return K})),n.d(t,"fb",(function(){return Q})),n.d(t,"E",(function(){return X})),n.d(t,"Lb",(function(){return Z})),n.d(t,"Qb",(function(){return J})),n.d(t,"ic",(function(){return $})),n.d(t,"o",(function(){return ee})),n.d(t,"B",(function(){return te})),n.d(t,"uc",(function(){return ne})),n.d(t,"Fb",(function(){return re})),n.d(t,"V",(function(){return ae})),n.d(t,"rb",(function(){return oe})),n.d(t,"Yb",(function(){return ce})),n.d(t,"ac",(function(){return ie})),n.d(t,"S",(function(){return se})),n.d(t,"Nb",(function(){return le})),n.d(t,"T",(function(){return ue})),n.d(t,"fc",(function(){return de})),n.d(t,"X",(function(){return fe})),n.d(t,"xb",(function(){return pe})),n.d(t,"wb",(function(){return me})),n.d(t,"y",(function(){return be})),n.d(t,"yb",(function(){return he})),n.d(t,"bc",(function(){return ge})),n.d(t,"cc",(function(){return ve})),n.d(t,"sc",(function(){return ye})),n.d(t,"z",(function(){return Ee})),n.d(t,"rc",(function(){return xe})),n.d(t,"db",(function(){return Oe})),n.d(t,"Ub",(function(){return je})),n.d(t,"lc",(function(){return Ce})),n.d(t,"mc",(function(){return Se})),n.d(t,"u",(function(){return we})),n.d(t,"bb",(function(){return ke})),n.d(t,"sb",(function(){return Te})),n.d(t,"h",(function(){return Re})),n.d(t,"jc",(function(){return Ae})),n.d(t,"p",(function(){return _e})),n.d(t,"f",(function(){return Ie})),n.d(t,"d",(function(){return Fe})),n.d(t,"cb",(function(){return Ue})),n.d(t,"vb",(function(){return Ne})),n.d(t,"Eb",(function(){return Le})),n.d(t,"Zb",(function(){return De})),n.d(t,"qc",(function(){return Me})),n.d(t,"x",(function(){return Pe})),n.d(t,"b",(function(){return Be})),n.d(t,"Kb",(function(){return He})),n.d(t,"D",(function(){return qe})),n.d(t,"pb",(function(){return Ge})),n.d(t,"qb",(function(){return Ve})),n.d(t,"Xb",(function(){return ze})),n.d(t,"pc",(function(){return We})),n.d(t,"w",(function(){return Ye})),n.d(t,"a",(function(){return Ke})),n.d(t,"Jb",(function(){return Qe})),n.d(t,"C",(function(){return Xe})),n.d(t,"vc",(function(){return Ze})),n.d(t,"L",(function(){return Je})),n.d(t,"K",(function(){return $e})),n.d(t,"I",(function(){return et})),n.d(t,"M",(function(){return tt})),n.d(t,"N",(function(){return nt})),n.d(t,"O",(function(){return rt})),n.d(t,"J",(function(){return at})),n.d(t,"H",(function(){return ot})),n.d(t,"G",(function(){return ct})),n.d(t,"R",(function(){return it})),n.d(t,"Q",(function(){return st})),n.d(t,"i",(function(){return lt})),n.d(t,"m",(function(){return ut})),n.d(t,"Gb",(function(){return dt})),n.d(t,"hc",(function(){return ft})),n.d(t,"nc",(function(){return pt})),n.d(t,"Mb",(function(){return mt})),n.d(t,"n",(function(){return bt})),n.d(t,"P",(function(){return ht})),n.d(t,"ub",(function(){return gt})),n.d(t,"kb",(function(){return vt})),n.d(t,"ib",(function(){return yt})),n.d(t,"hb",(function(){return Et})),n.d(t,"k",(function(){return xt})),n.d(t,"q",(function(){return Ot})),n.d(t,"lb",(function(){return jt})),n.d(t,"l",(function(){return Ct})),n.d(t,"kc",(function(){return St})),n.d(t,"t",(function(){return wt})),n.d(t,"Ob",(function(){return kt})),n.d(t,"Sb",(function(){return Tt})),n.d(t,"Pb",(function(){return Rt})),n.d(t,"gb",(function(){return At})),n.d(t,"g",(function(){return _t})),n.d(t,"F",(function(){return It}));var r=n(6),a=n(4),o=n.n(a),c=n(15),i=n(741),s=n.n(i),l=n(281),u=n.n(l),d=window.SERVER_DATA,f=(null===d||void 0===d?void 0:d.api_url)||"/",p=u()(f,"/api"),m=s.a.create({baseURL:p}),b=function(e){return{Authorization:"Bearer ".concat(e)}};var h=function(){var e=Object(c.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.get("/telemetry?include_user_groups=true",{headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(c.a)(o.a.mark((function e(t,n,a,c){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.post("/telemetry",Object(r.a)({event_name:n},a?{properties:a}:{},{},c?{context:c}:{}),{headers:b(t)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),v=function(){var e=Object(c.a)(o.a.mark((function e(t,n,r,a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.post("https://rasa.com/.netlify/functions/rasa-x-submit-feedback",{records:[{fields:{telemetry_id:t,name:n,email:r,checkboxChecked:a}}]});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),y=function(){var e=Object(c.a)(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.post("/auth",{username:t,password:n});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),E=function(){var e=Object(c.a)(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.patch("/user",{username:n},{headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),x=function(){var e=Object(c.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.get("/auth/saml");case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(c.a)(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.post("/auth/enterpriseTokenLogin",{single_use_token:n},{headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),j=function(){var e=Object(c.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.post("/auth/jwt",{chat_token:t});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(c.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.get("/user",{headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(c.a)(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.put("/users/".concat(n.username),n,{headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),w=function(){var e=Object(c.a)(o.a.mark((function e(t,n,r){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.put("/users/".concat(n.username,"/roles"),r.map((function(e){return e.role})),{headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),k=function(){var e=Object(c.a)(o.a.mark((function e(t,n,r,a,c){var i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.get("/users",{params:{username:n,role:r,limit:a,offset:c},headers:b(t)});case 2:return i=e.sent,e.abrupt("return",{users:i.data,total:Number(i.headers["x-total-count"])});case 4:case"end":return e.stop()}}),e)})));return function(t,n,r,a,o){return e.apply(this,arguments)}}(),T=function(){var e=Object(c.a)(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.delete("/users/".concat(n.username),{headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),R=function(){var e=Object(c.a)(o.a.mark((function e(t,n,r,a,c){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.post("/user/password",{username:n,old_password:r,new_password:a,new_password_confirm:c},{headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r,a,o){return e.apply(this,arguments)}}(),A=function(){var e=Object(c.a)(o.a.mark((function e(t,n,r,a){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.get("/roles",{params:{q:n,limit:r,offset:a},headers:b(t)});case 2:return c=e.sent,e.abrupt("return",{roles:c.data,total:Number(c.headers["x-total-count"])});case 4:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),_=function(){var e=Object(c.a)(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.get("/roles/".concat(n),{headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),I=function(){var e=Object(c.a)(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.get("/roles/".concat(n,"/users"),{headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),F=function(){var e=Object(c.a)(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.post("/roles",n,{headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),U=function(){var e=Object(c.a)(o.a.mark((function e(t,n,r){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.put("/roles/".concat(r||n.role),n,{headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),N=function(){var e=Object(c.a)(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.delete("/roles/".concat(n.role),{headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),L=function(){var e=Object(c.a)(o.a.mark((function e(t,n,r){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.put("/roles/".concat(n.role,"/users"),r.map((function(e){return e.username})),{headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),D=function(){var e=Object(c.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.get("/health",{headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(c.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.get("/version",{headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(c.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.get("/features",{headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=Object(c.a)(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.post("/features",n,{headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),H=function(){var e=Object(c.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.get("/environments",{headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Object(c.a)(o.a.mark((function e(t,n,r,a,c){var i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.get("/projects/".concat(n,"/models"),{params:{limit:r,offset:a,tag:c},headers:b(t)});case 2:return i=e.sent,e.abrupt("return",{models:i.data,total:Number(i.headers["x-total-count"])});case 4:case"end":return e.stop()}}),e)})));return function(t,n,r,a,o){return e.apply(this,arguments)}}(),G=function(){var e=Object(c.a)(o.a.mark((function e(t,n,r,a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.put("/projects/".concat(n,"/models/").concat(r,"/tags/").concat(a),{},{headers:b(t)});case 2:return e.abrupt("return",{model:r});case 3:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),V=function(){var e=Object(c.a)(o.a.mark((function e(t,n,r,a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.delete("/projects/".concat(n,"/models/").concat(r,"/tags/").concat(a),{headers:b(t)});case 2:return e.abrupt("return",{model:r});case 3:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),z=function(){var e=Object(c.a)(o.a.mark((function e(t,n){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.post("/projects/".concat(n,"/models/jobs"),{},{headers:b(t)});case 2:return r=e.sent,e.abrupt("return",{data:r.data,status:r.status});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),W=function(){var e=Object(c.a)(o.a.mark((function e(t,n,r){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.delete("/projects/".concat(n,"/models/").concat(r),{headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),Y=function(){var e=Object(c.a)(o.a.mark((function e(t,n,r,a,c,i){var s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.get("/projects/".concat(n,"/training_examples"),{params:{q:r,intent:a,limit:c,offset:i},headers:b(t)});case 2:return s=e.sent,e.abrupt("return",{examples:s.data,total:Number(s.headers["x-total-count"])});case 4:case"end":return e.stop()}}),e)})));return function(t,n,r,a,o,c){return e.apply(this,arguments)}}(),K=function(){var e=Object(c.a)(o.a.mark((function e(t,n,r){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.get("/projects/".concat(n,"/training_examples/").concat(r),{headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),Q=function(){var e=Object(c.a)(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.get("/projects/".concat(n,"/intents"),{headers:b(t),params:{"fields[example_hashes]":!1,"fields[suggestions]":!1}});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),X=function(){var e=Object(c.a)(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.get("/projects/".concat(n,"/actions"),{headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Z=function(){var e=Object(c.a)(o.a.mark((function e(t,n,r){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.post("/projects/".concat(n,"/actions"),r,{headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),J=function(){var e=Object(c.a)(o.a.mark((function e(t,n,r){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.post("/projects/".concat(n,"/training_examples"),r,{headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),$=function(){var e=Object(c.a)(o.a.mark((function e(t,n,r){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.put("/projects/".concat(n,"/training_examples/").concat(r.id),r,{headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),ee=function(){var e=Object(c.a)(o.a.mark((function e(t,n,r){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.delete("/projects/".concat(n,"/training_examples/").concat(r.id),{headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),te=function(){var e=Object(c.a)(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.get("/projects/".concat(n,"/training_data"),{headers:Object(r.a)({},b(t),{Accept:"text/markdown"}),transformResponse:[function(e){return e}]});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ne=function(){var e=Object(c.a)(o.a.mark((function e(t,n,a,c){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.put("/projects/".concat(n,"/training_examples"),a,{headers:Object(r.a)({},b(t),{"Content-Type":c})});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),re=function(){var e=Object(c.a)(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.get("/projects/".concat(n,"/training_data_warnings"),{headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ae=function(){var e=Object(c.a)(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.get("/projects/".concat(n,"/entities"),{headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),oe=function(){var e=Object(c.a)(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.get("/projects/".concat(n,"/settings"),{headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ce=function(){var e=Object(c.a)(o.a.mark((function e(t,n,a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.put("/projects/".concat(n,"/settings"),a,{headers:Object(r.a)({},b(t),{"Content-Type":"application/x-yaml"})});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),ie=function(){var e=Object(c.a)(o.a.mark((function e(t,n,r){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.post("/projects/".concat(n,"/logs"),{},{params:{q:r},headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),se=function(){var e=Object(c.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.get("/domain",{headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),le=function(){var e=Object(c.a)(o.a.mark((function e(t,n,a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.put("/domain",n,{headers:Object(r.a)({},b(t),{"Content-Type":"application/x-yaml"}),params:{store_responses:a}});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),ue=function(){var e=Object(c.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.get("/domainWarnings",{headers:b(t)});case 2:return n=e.sent,e.abrupt("return",Object(r.a)({},n.data,{total:Number(n.headers["x-total-count"])}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),de=function(){var e=Object(c.a)(o.a.mark((function e(t,n,r){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.put("/projects/".concat(n,"/evaluations/").concat(r),{},{headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),fe=function(){var e=Object(c.a)(o.a.mark((function e(t,n,r){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.get("/projects/".concat(n,"/evaluations/").concat(r),{headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),pe=function(){var e=Object(c.a)(o.a.mark((function e(t,n,r,a,c,i,s,l){var u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.get("/projects/".concat(n,"/logs"),{params:{q:r,intent:a,limit:c,offset:i,sort_by:s||void 0,sort_order:l||void 0},headers:b(t)});case 2:return u=e.sent,e.abrupt("return",{suggestions:u.data,total:Number(u.headers["x-total-count"])});case 4:case"end":return e.stop()}}),e)})));return function(t,n,r,a,o,c,i,s){return e.apply(this,arguments)}}(),me=function(){var e=Object(c.a)(o.a.mark((function e(t,n,r){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.get("/projects/".concat(n,"/logs/").concat(r),{headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),be=function(){var e=Object(c.a)(o.a.mark((function e(t,n,r){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.delete("/projects/".concat(n,"/logs/").concat(r.id),{headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),he=function(){var e=Object(c.a)(o.a.mark((function e(t,n,r,a,c){var i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.get("/projects/".concat(n,"/synonyms"),{params:{q:r,reference:a,mapped_value:c},headers:b(t)});case 2:return i=e.sent,e.abrupt("return",{synonyms:i.data,total:Number(i.headers["x-total-count"])});case 4:case"end":return e.stop()}}),e)})));return function(t,n,r,a,o){return e.apply(this,arguments)}}(),ge=function(){var e=Object(c.a)(o.a.mark((function e(t,n,r){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.post("/projects/".concat(n,"/synonyms"),r,{headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),ve=function(){var e=Object(c.a)(o.a.mark((function e(t,n,r,a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.post("/projects/".concat(n,"/synonyms/").concat(r),a,{headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),ye=function(){var e=Object(c.a)(o.a.mark((function e(t,n,r,a,c){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.put("/projects/".concat(n,"/synonyms/").concat(r,"/").concat(a),{value:c},{headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r,a,o){return e.apply(this,arguments)}}(),Ee=function(){var e=Object(c.a)(o.a.mark((function e(t,n,r,a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.delete("/projects/".concat(n,"/synonyms/").concat(r,"/").concat(a),{headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),xe=function(){var e=Object(c.a)(o.a.mark((function e(t,n,r,a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.put("/projects/".concat(n,"/synonyms/").concat(r),{synonym_reference:a},{headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),Oe=function(){var e=Object(c.a)(o.a.mark((function e(t,n,r,a,c){var i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.get("/responseGroups",{params:{q:n,response_name:r,limit:a,offset:c},headers:b(t)});case 2:return i=e.sent,e.abrupt("return",{responses:i.data,total:Number(i.headers["x-total-count"])});case 4:case"end":return e.stop()}}),e)})));return function(t,n,r,a,o){return e.apply(this,arguments)}}(),je=function(){var e=Object(c.a)(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.post("/responses",n,{headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ce=function(){var e=Object(c.a)(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.put("/responses/".concat(n.id),n,{headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Se=function(){var e=Object(c.a)(o.a.mark((function e(t,n,r){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.put("/responseGroups/".concat(n),{name:r},{headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),we=function(){var e=Object(c.a)(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.delete("/responses/".concat(n.id),{headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ke=function(){var e=Object(c.a)(o.a.mark((function e(t,n){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.get("/projects/".concat(n,"/git_repositories"),{headers:b(t)});case 2:return r=e.sent,e.abrupt("return",{gitRepositories:r.data,total:Number(r.headers["x-total-count"])});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Te=function(){var e=Object(c.a)(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.get("/projects/".concat(n,"/git_repositories/public_ssh_key"),{headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Re=function(){var e=Object(c.a)(o.a.mark((function e(t,n,r,a,c,i,s){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.post("/projects/".concat(n,"/git_repositories/"),{repository_url:r,target_branch:a,is_target_branch_protected:c,use_generated_ssh_keys:!0,username:i||void 0,password:s||void 0},{headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r,a,o,c,i){return e.apply(this,arguments)}}(),Ae=function(){var e=Object(c.a)(o.a.mark((function e(t,n,r,a,c,i,s){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.put("/projects/".concat(n,"/git_repositories/").concat(r),{target_branch:a,is_target_branch_protected:c,username:i||void 0,password:s||void 0},{headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r,a,o,c,i){return e.apply(this,arguments)}}(),_e=function(){var e=Object(c.a)(o.a.mark((function e(t,n,r){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.delete("/projects/".concat(n,"/git_repositories/").concat(r),{headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),Ie=function(){var e=Object(c.a)(o.a.mark((function e(t,n,r,a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.post("/projects/".concat(n,"/git_repositories/").concat(r,"/branches/").concat(encodeURIComponent(a),"/commits"),{},{headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),Fe=function(){var e=Object(c.a)(o.a.mark((function e(t,n,r,a,c){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.put("/projects/".concat(n,"/git_repositories/").concat(r,"/branches/").concat(encodeURIComponent(a)),{},{params:{force:c},headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r,a,o){return e.apply(this,arguments)}}(),Ue=function(){var e=Object(c.a)(o.a.mark((function e(t,n,r){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.get("/projects/".concat(n,"/git_repositories/").concat(r,"/status"),{headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),Ne=function(){var e=Object(c.a)(o.a.mark((function e(t,n,r,a){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.get("/stories",{params:{q:n,limit:r,offset:a},headers:b(t)});case 2:return c=e.sent,e.abrupt("return",{stories:c.data,total:Number(c.headers["x-total-count"])});case 4:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),Le=function(){var e=Object(c.a)(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.get("/stories",{params:{id:n.join(",")},headers:Object(r.a)({},b(t),{Accept:"text/vnd.graphviz"})});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),De=function(){var e=Object(c.a)(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.post("/stories",n.story,{headers:Object(r.a)({},b(t),{"Content-Type":"text/markdown"})});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Me=function(){var e=Object(c.a)(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.put("/stories/".concat(n.id),n.story,{headers:Object(r.a)({},b(t),{"Content-Type":"text/markdown"})});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Pe=function(){var e=Object(c.a)(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.delete("/stories/".concat(n.id),{headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Be=function(){var e=Object(c.a)(o.a.mark((function e(t,n,a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.post("/stories",n,{headers:Object(r.a)({},b(t),{"Content-Type":a})});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),He=function(){var e=Object(c.a)(o.a.mark((function e(t,n,a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.put("/stories",n,{headers:Object(r.a)({},b(t),{"Content-Type":a})});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),qe=function(){var e=Object(c.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.get("/stories.md",{headers:Object(r.a)({},b(t)),responseType:"text",transformResponse:[function(e){return e}]});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ge=function(){var e=Object(c.a)(o.a.mark((function e(t,n,r,a){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.get("/rules",{params:{q:n,limit:r,offset:a},headers:b(t)});case 2:return c=e.sent,e.abrupt("return",{rules:c.data,total:Number(c.headers["x-total-count"])});case 4:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),Ve=function(){var e=Object(c.a)(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.get("/rules",{params:{id:n.join(",")},headers:Object(r.a)({},b(t),{Accept:"text/vnd.graphviz"})});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ze=function(){var e=Object(c.a)(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.post("/rules",n.story,{headers:Object(r.a)({},b(t),{"Content-Type":"text/yaml"})});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),We=function(){var e=Object(c.a)(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.put("/rules/".concat(n.id),n.story,{headers:Object(r.a)({},b(t),{"Content-Type":"text/yaml"})});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ye=function(){var e=Object(c.a)(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.delete("/rules/".concat(n.id),{headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ke=function(){var e=Object(c.a)(o.a.mark((function e(t,n,a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.post("/rules",n,{headers:Object(r.a)({},b(t),{"Content-Type":a})});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),Qe=function(){var e=Object(c.a)(o.a.mark((function e(t,n,a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.put("/rules",n,{headers:Object(r.a)({},b(t),{"Content-Type":a})});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),Xe=function(){var e=Object(c.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.get("/rules",{headers:Object(r.a)({},b(t),{Accept:"text/yaml"}),responseType:"text",transformResponse:[function(e){return e}]});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ze=function(){var e=Object(c.a)(o.a.mark((function e(t,n,a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.post("/projects/".concat(n,"/models"),a,{headers:Object(r.a)({},b(t),{"Content-Type":"multipart/form-data","Content-Encoding":"gzip"})});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),Je=function(){var e=Object(c.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.get("/conversationIntents",{headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$e=function(){var e=Object(c.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.get("/conversationEntities",{headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),et=function(){var e=Object(c.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.get("/conversationActions",{headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),tt=function(){var e=Object(c.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.get("/conversationPolicies",{headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),nt=function(){var e=Object(c.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.get("/conversations/slotNames",{headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),rt=function(){var e=Object(c.a)(o.a.mark((function e(t,n,r){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.get("/conversations/slotValues",{params:{slot:n,q:r},headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),at=function(){var e=Object(c.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.get("/conversations/inputChannels",{headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ot=function(){var e=Object(c.a)(o.a.mark((function e(t,n,r){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.put("/chatToken",{bot_name:n,description:r},{headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),ct=function(){var e=Object(c.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.get("/chatToken",{headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),it=function(){var e=Object(c.a)(o.a.mark((function e(t,n,r,a,c,i,s,l,u,d,f,p,h,g,v,y,E,x){var O;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.get("/conversations",{params:{limit:n,offset:r,start:a||void 0,until:c||void 0,maximumConfidence:"max"===(null===i||void 0===i?void 0:i.operator)?i.value:void 0,minimumConfidence:"min"===(null===i||void 0===i?void 0:i.operator)?i.value:void 0,maximumNluConfidence:"max"===(null===s||void 0===s?void 0:s.operator)?s.value:void 0,minimumNluConfidence:"min"===(null===s||void 0===s?void 0:s.operator)?s.value:void 0,minimumUserMessages:l&&l>0?l:1,is_flagged:E||void 0,in_training_data:!x&&void 0,intent:u?u.join(","):void 0,entity:d?d.join(","):void 0,action:f?f.join(","):void 0,policies:v?v.join(","):void 0,slots:h?h.join(","):void 0,input_channels:y?y.join(","):void 0,review_status:p||void 0,tags_any:g?g.map((function(e){return e.id})).join(","):void 0,with_tags:!0,interactive:!0,exclude_self:!1},headers:b(t)});case 2:return O=e.sent,e.abrupt("return",{conversations:O.data,total:Number(O.headers["x-total-count"])});case 4:case"end":return e.stop()}}),e)})));return function(t,n,r,a,o,c,i,s,l,u,d,f,p,m,b,h,g,v){return e.apply(this,arguments)}}(),st=function(){var e=Object(c.a)(o.a.mark((function e(t,n,a,c,i){var s,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=c?{until:c,history:!1}:{},l=Object(r.a)({},s,{since:i,environment:a}),e.next=4,m.get("/conversations/".concat(n,"/tracker?format=full_conversation"),{params:l,headers:b(t)});case 4:return e.abrupt("return",e.sent.data);case 5:case"end":return e.stop()}}),e)})));return function(t,n,r,a,o){return e.apply(this,arguments)}}(),lt=function(){var e=Object(c.a)(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.post("/conversations",n,{headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ut=function(){var e=Object(c.a)(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.delete("/conversations/".concat(n),{headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),dt=function(){var e=Object(c.a)(o.a.mark((function e(t,n,r){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.put("/conversations/".concat(n,"/messages/").concat(r,"/flag"),{},{headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),ft=function(){var e=Object(c.a)(o.a.mark((function e(t,n,r){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.delete("/conversations/".concat(n,"/messages/").concat(r,"/flag"),{headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),pt=function(){var e=Object(c.a)(o.a.mark((function e(t,n,r){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.put("/conversations/".concat(n,"/reviewStatus"),{review_status:r},{headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),mt=function(){var e=Object(c.a)(o.a.mark((function e(t,n,r){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.post("/conversations/".concat(n,"/tags"),r,{headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),bt=function(){var e=Object(c.a)(o.a.mark((function e(t,n,r){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.delete("/conversations/".concat(n,"/tags/").concat(r.id),{headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),ht=function(){var e=Object(c.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.get("/conversations/tags",{headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),gt=function(){var e=Object(c.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.get("/statistics",{headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),vt=function(){var e=Object(c.a)(o.a.mark((function e(t,n,r){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.get("/projects/".concat(n,"/regexes/").concat(r),{headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),yt=function(){var e=Object(c.a)(o.a.mark((function e(t,n){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.get("/projects/".concat(n,"/lookupTables"),{headers:b(t)});case 2:return r=e.sent,e.abrupt("return",{lookupTables:r.data,total:Number(r.headers["x-total-count"])});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Et=function(){var e=Object(c.a)(o.a.mark((function e(t,n,r){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.get("/projects/".concat(n,"/lookupTables/").concat(r),{headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),xt=function(){var e=Object(c.a)(o.a.mark((function e(t,n,r){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.post("/projects/".concat(n,"/lookupTables"),r,{headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),Ot=function(){var e=Object(c.a)(o.a.mark((function e(t,n,r){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.delete("/projects/".concat(n,"/lookupTables/").concat(r.id),{headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),jt=function(){var e=Object(c.a)(o.a.mark((function e(t,n,r,a){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.get("/projects/".concat(n,"/regexes"),{params:{limit:r,offset:a},headers:b(t)});case 2:return c=e.sent,e.abrupt("return",{regexes:c.data,total:Number(c.headers["x-total-count"])});case 4:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),Ct=function(){var e=Object(c.a)(o.a.mark((function e(t,n,r){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.post("/projects/".concat(n,"/regexes"),r,{headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),St=function(){var e=Object(c.a)(o.a.mark((function e(t,n,r){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.put("/projects/".concat(n,"/regexes/").concat(r.id),r,{headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),wt=function(){var e=Object(c.a)(o.a.mark((function e(t,n,r){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.delete("/projects/".concat(n,"/regexes/").concat(r.id),{headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),kt=function(){var e=Object(c.a)(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.post("/tests/",n,{headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Tt=function(){var e=Object(c.a)(o.a.mark((function e(t,n,r,a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.post("/conversations/".concat(n,"/messages"),{message:r},{params:{environment:a},headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),Rt=function(){var e=Object(c.a)(o.a.mark((function e(t,n,r,a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.post("/conversations/".concat(n,"/events"),r,{params:{environment:a},headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),At=function(){var e=Object(c.a)(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.post("/conversations/".concat(n,"/predict"),{},{headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),_t=function(){var e=Object(c.a)(o.a.mark((function e(t,n,r){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.post("/conversations/".concat(n,"/execute"),{name:r},{headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),It=function(){var e=Object(c.a)(o.a.mark((function e(t,n,r,a){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={start:r,end:a,window:n},e.next=3,m.get("/analytics",{params:c,headers:b(t)});case 3:return e.abrupt("return",e.sent.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}()},113:function(e,t,n){"use strict";n.d(t,"b",(function(){return Ua}));var r=n(115),a=n(767),o=n(220),c=n(739),i=n.n(c),s=n(740),l=n(14),u=n(4),d=n.n(u),f=n(2),p=n(5),m=n(10),b=n(20),h=n(11),g=n(213),v=d.a.mark(y);function y(e,t){var n,r,a,o,c;return d.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,n=t.payload,r=n.bucket,a=n.start,o=n.end,i.next=4,Object(p.b)(h.F,e,r,a,o);case 4:return c=i.sent,i.next=7,Object(p.f)(g.a.success(c));case 7:i.next=15;break;case 9:return i.prev=9,i.t0=i.catch(0),i.next=13,Object(b.a)(i.t0);case 13:return i.next=15,Object(p.f)(g.a.failure(i.t0));case 15:case"end":return i.stop()}}),v,null,[[0,9]])}var E=[Object(m.a)(Object(f.getType)(g.a.request),y,!0)],x=n(214),O=d.a.mark(j);function j(e){var t;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(p.b)(h.Db,e);case 3:return t=n.sent,n.next=6,Object(p.f)(x.a.success(t));case 6:n.next=14;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,Object(b.a)(n.t0);case 12:return n.next=14,Object(p.f)(x.a.failure(n.t0));case 14:case"end":return n.stop()}}),O,null,[[0,8]])}var C=[Object(m.a)(Object(f.getType)(x.a.request),j,!0)],S=n(28),w=d.a.mark(U),k=d.a.mark(N),T=d.a.mark(L),R=d.a.mark(D),A=d.a.mark(M),_=d.a.mark(P),I=d.a.mark(B),F=d.a.mark(H);function U(e,t){var n,r,a;return d.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(""!==(n=t.payload.username)){o.next=7;break}return(r=new Error).message="Please enter a username",o.next=6,Object(p.f)(S.b.failure(r));case 6:return o.abrupt("return");case 7:return o.prev=7,o.next=10,Object(p.b)(h.j,e,n);case 10:return a=o.sent,o.next=13,Object(p.f)(S.b.success(a));case 13:o.next=20;break;case 15:return o.prev=15,o.t0=o.catch(7),o.t0.response&&404===o.t0.response.status&&(o.t0.message=o.t0.response.data.details.message),o.next=20,Object(p.f)(S.b.failure(o.t0));case 20:case"end":return o.stop()}}),w,null,[[7,15]])}function N(e,t){var n,r,a,o,c,i;return d.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return n=t.payload,r=n.username,a=n.oldPassword,o=n.newPassword,c=n.newPasswordConfirm,s.prev=1,s.next=4,Object(p.b)(h.e,e,r,a,o,c);case 4:return i=s.sent,s.next=7,Object(p.f)(S.a.success(i));case 7:s.next=15;break;case 9:return s.prev=9,s.t0=s.catch(1),s.next=13,Object(b.a)(s.t0);case 13:return s.next=15,Object(p.f)(S.a.failure(s.t0));case 15:case"end":return s.stop()}}),k,null,[[1,9]])}function L(e){var t;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(p.b)(h.ab,e);case 3:return t=n.sent,n.next=6,Object(p.f)(S.d.success(t));case 6:n.next=14;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,Object(b.a)(n.t0);case 12:return n.next=14,Object(p.f)(S.d.failure(n.t0));case 14:case"end":return n.stop()}}),T,null,[[0,8]])}function D(){var e;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(p.b)(h.tb);case 3:return e=t.sent,t.next=6,Object(p.f)(S.e.success(e));case 6:window.location.assign(e.redirect_to),t.next=15;break;case 9:return t.prev=9,t.t0=t.catch(0),t.next=13,Object(b.a)(t.t0);case 13:return t.next=15,Object(p.f)(S.e.failure(t.t0));case 15:case"end":return t.stop()}}),R,null,[[0,9]])}function M(e,t){var n,r;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.payload.singleUseToken,a.prev=1,a.next=4,Object(p.b)(h.U,e,n);case 4:return r=a.sent,a.next=7,Object(p.f)(S.c.success(r));case 7:a.next=19;break;case 9:if(a.prev=9,a.t0=a.catch(1),!a.t0.response){a.next=17;break}if(401!==a.t0.response.status){a.next=17;break}return a.t0.message="Invalid token",a.next=17,Object(p.f)(S.g.failure(a.t0));case 17:return a.next=19,Object(p.f)(S.c.failure(a.t0));case 19:case"end":return a.stop()}}),A,null,[[1,9]])}function P(e){var t,n;return d.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,t=e.payload.chatToken,r.next=4,Object(p.b)(h.Ab,t);case 4:return n=r.sent,r.next=7,Object(p.f)(S.f.success(n));case 7:r.next=15;break;case 9:return r.prev=9,r.t0=r.catch(0),r.next=13,Object(b.a)(r.t0);case 13:return r.next=15,Object(p.f)(S.f.failure(r.t0));case 15:case"end":return r.stop()}}),_,null,[[0,9]])}function B(e,t){var n;return d.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(p.b)(h.Rb,e,t.payload);case 3:return n=r.sent,r.next=6,Object(p.f)(S.i.success(n));case 6:r.next=14;break;case 8:return r.prev=8,r.t0=r.catch(0),r.next=12,Object(b.a)(r.t0);case 12:return r.next=14,Object(p.f)(S.i.failure(r.t0));case 14:case"end":return r.stop()}}),I,null,[[0,8]])}function H(e){var t,n,r,a,o;return d.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(t=e.payload,n=t.username,r=t.password,""!==n&&""!==r){c.next=7;break}return(a=new Error).message="Please fill all the fields",c.next=6,Object(p.f)(S.g.failure(a));case 6:return c.abrupt("return");case 7:return c.prev=7,c.next=10,Object(p.b)(h.Ib,n,r);case 10:return o=c.sent,c.next=13,Object(p.f)(S.g.success(o));case 13:c.next=25;break;case 15:if(c.prev=15,c.t0=c.catch(7),!c.t0.response){c.next=23;break}if(401!==c.t0.response.status){c.next=23;break}return c.t0.message="Wrong credentials",c.next=23,Object(p.f)(S.g.failure(c.t0));case 23:return c.next=25,Object(p.f)(S.g.failure(c.t0));case 25:case"end":return c.stop()}}),F,null,[[7,15]])}var q=[Object(m.a)(Object(f.getType)(S.b.request),U,!0),Object(m.a)(Object(f.getType)(S.a.request),N,!0),Object(m.a)(Object(f.getType)(S.c.request),M,!0),Object(m.a)(Object(f.getType)(S.d.request),L,!0),Object(m.a)(Object(f.getType)(S.e.request),D),Object(m.a)(Object(f.getType)(S.f.request),P),Object(m.a)(Object(f.getType)(S.g.request),H),Object(m.a)(Object(f.getType)(S.i.request),B,!0)],G=n(6),V=n(116),z=n.n(V),W=n(209),Y=n(322),K=n.n(Y),Q=n(17),X=n(31),Z=n(47),J=n(114),$=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function(){var t=function(e){return e};return e.apply(void 0,n).then(t,t)}},ee=d.a.mark(me),te=d.a.mark(be),ne=d.a.mark(he),re=d.a.mark(ge),ae=d.a.mark(ve),oe=d.a.mark(ye),ce=d.a.mark(xe),ie=d.a.mark(Oe),se=d.a.mark(je),le=d.a.mark(Ce),ue=d.a.mark(Se),de=d.a.mark(we),fe=d.a.mark(ke),pe=d.a.mark(Te);function me(e,t){var n,r,a;return d.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return n=t.payload,o.prev=1,r=K()(n),o.next=5,Object(p.b)(h.Y,e,"default",r);case 5:return a=o.sent,o.next=8,Object(p.f)(Q.g.success(a));case 8:o.next=16;break;case 10:return o.prev=10,o.t0=o.catch(1),o.next=14,Object(b.a)(o.t0);case 14:return o.next=16,Object(p.f)(Q.g.failure(o.t0));case 16:case"end":return o.stop()}}),ee,null,[[1,10]])}function be(e,t){var n,r,a,o,c,i,s,l,u,f;return d.a.wrap((function(d){for(;;)switch(d.prev=d.next){case 0:return n=t.payload,r=n.search,a=n.offset,o=n.limit,d.prev=1,c=z.a.parse(r),i=c.getAllText(),s=c.getConditionArray().filter((function(e){return"intent"===e.keyword})).map((function(e){return e.value})).join(","),d.next=7,Object(p.b)(h.Z,e,"default",i,s,o,a);case 7:return l=d.sent,u=l.examples,f=l.total,d.next=12,Object(p.f)(Q.h.success({examples:u,total:f,offset:a}));case 12:d.next=20;break;case 14:return d.prev=14,d.t0=d.catch(1),d.next=18,Object(b.a)(d.t0);case 18:return d.next=20,Object(p.f)(Q.h.failure(d.t0));case 20:case"end":return d.stop()}}),te,null,[[1,14]])}function he(e,t){var n,r,a,o,c;return d.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return n=t.payload,r=K()(n),i.prev=2,i.next=5,Object(p.a)({example:Object(p.b)($(h.Y,e,"default",r))});case 5:return a=i.sent,o=a.example,c=[o].reduce((function(e,t){if("response"in t&&t.response){if(404!==t.response.status)throw t;return e}return!0}),!1),i.next=10,Object(p.f)(Q.c.success(c));case 10:i.next=18;break;case 12:return i.prev=12,i.t0=i.catch(2),i.next=16,Object(b.a)(i.t0);case 16:return i.next=18,Object(p.f)(Q.c.failure(i.t0));case 18:case"end":return i.stop()}}),ne,null,[[2,12]])}function ge(e){var t,n;return d.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(p.b)(h.fb,e,"default");case 3:return t=r.sent,n=t.map((function(e){return e.intent})),r.next=7,Object(p.f)(Q.i.success(n));case 7:r.next=15;break;case 9:return r.prev=9,r.t0=r.catch(0),r.next=13,Object(b.a)(r.t0);case 13:return r.next=15,Object(p.f)(Q.i.failure(r.t0));case 15:case"end":return r.stop()}}),re,null,[[0,9]])}function ve(e){var t,n;return d.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(p.b)(h.B,e,"default");case 3:t=r.sent,n=new Blob([t],{type:"text/markdown;charset=utf-8"}),Object(W.saveAs)(n,"nlu.md"),r.next=14;break;case 8:return r.prev=8,r.t0=r.catch(0),r.next=12,Object(b.a)(r.t0);case 12:return r.next=14,Object(p.f)(Q.h.failure(r.t0));case 14:case"end":return r.stop()}}),ae,null,[[0,8]])}function ye(e,t){var n,r;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.payload,a.prev=1,a.next=4,Object(p.b)(h.Qb,e,"default",n);case 4:return r=a.sent,a.next=7,Object(p.f)(Q.k.success(r));case 7:return a.next=9,Object(p.f)(Q.f.request());case 9:a.next=17;break;case 11:return a.prev=11,a.t0=a.catch(1),a.next=15,Object(b.a)(a.t0);case 15:return a.next=17,Object(p.f)(Q.k.failure(a.t0));case 17:case"end":return a.stop()}}),oe,null,[[1,11]])}var Ee=function(e){var t=e.user_input.intent&&e.user_input.intent.name;if(!t)throw new Error("Cannot save suggestion with null intent");return{entities:e.user_input.entities.map((function(e){return Object(G.a)({},e,{start:e.start,end:e.end})})),text:e.user_input.text,intent:t,project_id:e.project_id,team:e.team}};function xe(e){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(p.a)(e.entities.filter((function(e){return e.entity_synonym_id})).map((function(e){var t=e.entity_synonym_id,n=e.value;return t&&Object(p.f)(Z.d.request({id:t,mapped_values:[{value:n}]}))})));case 2:case"end":return t.stop()}}),ce)}function Oe(e,t){var n,r,a,o;return d.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(n=Array.isArray(t.payload)?t.payload:[t.payload],r=n.map(Ee),a=r.some((function(e){return e.entities.some((function(e){return e.entity_synonym_id}))})),c.prev=3,!a){c.next=7;break}return c.next=7,Object(p.a)(r.map((function(e){return xe(e)})));case 7:return c.next=9,Object(p.a)(r.map((function(t){return Object(p.b)(h.Qb,e,"default",t)})));case 9:return o=c.sent,c.next=12,Object(p.f)(Q.m.success(o));case 12:return c.next=14,Object(p.f)(Q.f.request());case 14:c.next=22;break;case 16:return c.prev=16,c.t0=c.catch(3),c.next=20,Object(b.a)(c.t0);case 20:return c.next=22,Object(p.f)(Q.m.failure(c.t0));case 22:case"end":return c.stop()}}),ie,null,[[3,16]])}function je(e,t){var n,r,a;return d.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return n=t.payload,r={entities:(c=n).entities,text:c.text,intent:c.intent,project_id:"default",team:"default"},o.prev=2,o.next=5,Object(p.b)(h.Qb,e,"default",r);case 5:return a=o.sent,o.next=8,Object(p.f)(Q.l.success(a));case 8:return o.next=10,Object(p.f)(Q.f.request());case 10:o.next=18;break;case 12:return o.prev=12,o.t0=o.catch(2),o.next=16,Object(b.a)(o.t0);case 16:return o.next=18,Object(p.f)(Q.l.failure(o.t0));case 18:case"end":return o.stop()}var c}),se,null,[[2,12]])}function Ce(e,t){var n,r,a;return d.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return n=Object(G.a)({},t.payload,{isDirty:void 0}),r=n.entities.some((function(e){return e.entity_synonym_id})),o.prev=2,o.next=5,Object(p.b)(h.ic,e,"default",n);case 5:if(a=o.sent,!r){o.next=9;break}return o.next=9,xe(n);case 9:return o.next=11,Object(p.f)(Q.o.success(a));case 11:return o.next=13,Object(p.f)(Q.f.request());case 13:o.next=21;break;case 15:return o.prev=15,o.t0=o.catch(2),o.next=19,Object(b.a)(o.t0);case 19:return o.next=21,Object(p.f)(Q.o.failure(o.t0));case 21:case"end":return o.stop()}}),le,null,[[2,15]])}function Se(e,t){var n;return d.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.payload,r.prev=1,r.next=4,Object(p.b)(h.o,e,"default",n);case 4:return r.next=6,Object(p.f)(Q.d.success(n));case 6:return r.next=8,Object(p.f)(Q.f.request());case 8:r.next=16;break;case 10:return r.prev=10,r.t0=r.catch(1),r.next=14,Object(b.a)(r.t0);case 14:return r.next=16,Object(p.f)(Q.d.failure(r.t0));case 16:case"end":return r.stop()}}),ue,null,[[1,10]])}function we(e,t){var n,r,a,o;return d.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:n=t.payload,r="application/json";try{JSON.parse(n)}catch(i){r="text/markdown"}return c.prev=3,c.next=6,Object(p.b)(h.uc,e,"default",n,r);case 6:return a=c.sent,c.next=9,Object(p.f)(Q.p.success(a));case 9:return c.next=11,Object(p.h)((function(e){return e.examples.searchQuery}));case 11:return o=c.sent,c.next=14,Object(p.f)(Q.i.request());case 14:return c.next=16,Object(p.f)(Q.f.request());case 16:return c.next=18,Object(p.f)(Q.h.request({search:o,offset:0,limit:20}));case 18:return c.next=20,Object(p.f)(X.h.request({offset:0,limit:20}));case 20:return c.next=22,Object(p.f)(X.f.request());case 22:c.next=30;break;case 24:return c.prev=24,c.t0=c.catch(3),c.next=28,Object(b.a)(c.t0);case 28:return c.next=30,Object(p.f)(Q.p.failure(c.t0));case 30:case"end":return c.stop()}}),de,null,[[3,24]])}function ke(e){var t;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(p.b)(h.Fb,e,"default");case 3:return t=n.sent,n.next=6,Object(p.f)(Q.j.success(t));case 6:n.next=14;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,Object(b.a)(n.t0);case 12:return n.next=14,Object(p.f)(Q.j.failure(n.t0));case 14:case"end":return n.stop()}}),fe,null,[[0,8]])}function Te(e){var t,n;return d.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(p.b)(h.V,e,"default");case 3:return t=r.sent,n=t.map((function(e){return e.entity})),r.next=7,Object(p.f)(Q.f.success(n));case 7:r.next=15;break;case 9:return r.prev=9,r.t0=r.catch(0),r.next=13,Object(b.a)(r.t0);case 13:return r.next=15,Object(p.f)(Q.f.failure(r.t0));case 15:case"end":return r.stop()}}),pe,null,[[0,9]])}var Re=[Object(m.a)(Object(f.getType)(Q.g.request),me,!0),Object(m.a)(Object(f.getType)(Q.h.request),be,!0,!0),Object(m.a)(Object(f.getType)(Q.c.request),he,!0),Object(m.a)(Object(f.getType)(Q.i.request),ge,!0),Object(m.a)(Object(f.getType)(Q.e),ve,!0),Object(m.a)(Object(f.getType)(Q.k.request),ye,!0),Object(m.a)(Object(f.getType)(Q.m.request),Oe,!0),Object(m.a)(Object(f.getType)(Q.l.request),je,!0),Object(m.a)(Object(f.getType)(Q.o.request),Ce,!0),Object(m.a)(Object(f.getType)(Q.d.request),Se,!0),Object(m.a)(Object(f.getType)(Q.p.request),we,!0),Object(m.a)(Object(f.getType)(Q.j.request),ke,!0),Object(m.a)(Object(f.getType)(Q.f.request),Te,!0,(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return p.l.apply(void 0,[1e3].concat(t))})),Object(m.a)([Object(f.getType)(Q.k.success),Object(f.getType)(Q.m.success),Object(f.getType)(Q.l.success),Object(f.getType)(Q.o.success),Object(f.getType)(Q.d.success),Object(f.getType)(Q.p.success)],J.b)],Ae=n(34),_e=n(12),Ie=d.a.mark(He),Fe=d.a.mark(qe),Ue=d.a.mark(Ve),Ne=d.a.mark(ze),Le=d.a.mark(We),De=d.a.mark(Ye),Me=d.a.mark(Ke),Pe=d.a.mark(Qe),Be=["action_listen","action_restart","action_session_started"];function He(e,t){var n,r;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.payload,a.prev=1,a.next=4,Object(p.b)(h.ac,e,"default",n);case 4:return r=a.sent,a.next=7,Object(p.f)(Ae.j.success(r));case 7:a.next=15;break;case 9:return a.prev=9,a.t0=a.catch(1),a.next=13,Object(b.a)(a.t0);case 13:return a.next=15,Object(p.f)(Ae.j.failure(a.t0));case 15:case"end":return a.stop()}}),Ie,null,[[1,9]])}function qe(e,t){var n,r,a,o,c,i,s,l,u,f;return d.a.wrap((function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,Object(p.e)("history");case 2:return n=d.sent,r=t.payload,a=r.data,o=r.storyName,c=r.strictMode,i=r.undoingEvent,d.prev=4,d.next=7,Object(p.b)(h.i,e,a);case 7:return s=d.sent,d.next=10,Object(p.f)(Ae.h.success(s));case 10:return d.next=12,Object(p.f)(_e.h.success({conversation:s}));case 12:if(l=s.events,u=s.sender_id,f=l[l.length-1],"/interactive"===n.location.pathname||!a.conversation_id_to_copy_from){d.next=18;break}return n.push("/interactive?strict=".concat(!!c)),d.next=18,Object(p.f)(Ae.e({conversationId:u,storyName:o,strictMode:c}));case 18:if(!i||!Ge(i)){d.next=23;break}return d.next=21,Object(p.f)(Ae.j.request(i.text));case 21:d.next=26;break;case 23:if(!a.conversation_id_to_copy_from||"action"===f.event&&Be.includes(f.name)){d.next=26;break}return d.next=26,Object(p.f)(Ae.i.request(u));case 26:d.next=34;break;case 28:return d.prev=28,d.t0=d.catch(4),d.next=32,Object(b.a)(d.t0);case 32:return d.next=34,Object(p.f)(Ae.h.failure(d.t0));case 34:case"end":return d.stop()}}),Fe,null,[[4,28]])}function Ge(e){return"user"===e.event}function Ve(e,t){var n,r,a,o,c,i,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.payload,r=n.events,a=n.createPayload,o=a.data.until,c=r.findIndex((function(e){return e.timestamp===o}))){e.next=5;break}return e.abrupt("return");case 5:if(i=r[c],s=r.slice(0,c).reverse(),!Ge(i))for(;s.length>0&&!Ge(s[0])&&"bot"!==s[0].event;)s=s.slice(1);if(0!==s.length){e.next=10;break}return e.abrupt("return");case 10:return e.next=12,Object(p.f)(Ae.h.request(Object(G.a)({},a,{data:Object(G.a)({},a.data,{until:s[0].timestamp}),undoingEvent:i})));case 12:case"end":return e.stop()}}),Ue)}function ze(e,t){var n,r,a,o;return d.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return n=t.payload,r=n.conversationId,a=n.event,c.prev=1,c.next=4,Object(p.b)(h.Pb,e,r,a);case 4:if("user"!==(o=c.sent).event){c.next=8;break}return c.next=8,Object(p.f)(_e.x.success({message:o,senderId:r}));case 8:return c.next=10,Object(p.f)(Ae.k.success(o));case 10:return c.next=12,Object(p.f)(Ae.i.request(r));case 12:c.next=20;break;case 14:return c.prev=14,c.t0=c.catch(1),c.next=18,Object(b.a)(c.t0);case 18:return c.next=20,Object(p.f)(_e.x.failure(c.t0));case 20:case"end":return c.stop()}}),Ne,null,[[1,14]])}function We(e,t){var n,r,a;return d.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,Object(p.a)({prediction:Object(p.b)(h.gb,e,t),domainActions:Object(p.b)(h.E,e,"default")});case 2:return n=o.sent,r=n.prediction,a=n.domainActions,o.next=7,Object(p.f)(Ae.i.success({prediction:r,actions:a}));case 7:case"end":return o.stop()}}),Le)}function Ye(e,t){var n;return d.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.payload,r.prev=1,r.next=4,We(e,n);case 4:r.next=12;break;case 6:return r.prev=6,r.t0=r.catch(1),r.next=10,Object(b.a)(r.t0);case 10:return r.next=12,Object(p.f)(Ae.i.failure(r.t0));case 12:case"end":return r.stop()}}),De,null,[[1,6]])}function Ke(e,t){var n,r,a,o,c;return d.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return n=t.payload,r=n.conversationId,a=n.confirmedAction,o=a.action,i.prev=2,i.next=5,Object(p.b)(h.g,e,r,o);case 5:return c=i.sent,i.next=8,Object(p.f)(Ae.f.success(c));case 8:if(!Be.includes(o)){i.next=10;break}return i.abrupt("return");case 10:return i.next=12,We(e,r);case 12:i.next=20;break;case 14:return i.prev=14,i.t0=i.catch(2),i.next=18,Object(b.a)(i.t0);case 18:return i.next=20,Object(p.f)(Ae.f.failure(i.t0));case 20:case"end":return i.stop()}}),Me,null,[[2,14]])}function Qe(e,t){var n,r,a,o,c,i;return d.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return n=t.payload,r=n.action,a=n.responses,o=n.conversationId,s.prev=1,s.next=4,Object(p.b)(h.Lb,e,"default",r);case 4:return c=s.sent,s.next=7,Object(p.a)(a.map((function(t){return Object(p.b)(h.Ub,e,Object(G.a)({},t,{response_name:c.name}))})));case 7:return s.next=9,Object(p.f)(Ae.g.success(c.name));case 9:return i={event:"action",name:c.name},s.next=12,Object(p.f)(Ae.k.request({conversationId:o,event:i}));case 12:s.next=20;break;case 14:return s.prev=14,s.t0=s.catch(1),s.next=18,Object(b.a)(s.t0);case 18:return s.next=20,Object(p.f)(Ae.g.failure(s.t0));case 20:case"end":return s.stop()}}),Pe,null,[[1,14]])}var Xe=[Object(m.a)(Object(f.getType)(Ae.h.request),qe,!0),Object(m.a)(Object(f.getType)(Ae.l),Ve,!0),Object(m.a)(Object(f.getType)(Ae.k.request),ze,!0),Object(m.a)(Object(f.getType)(Ae.j.request),He,!0),Object(m.a)(Object(f.getType)(Ae.i.request),Ye,!0),Object(m.a)(Object(f.getType)(Ae.f.request),Ke,!0),Object(m.a)(Object(f.getType)(Ae.g.request),Qe,!0)],Ze=n(411),Je=n(7),$e=n(27),et=d.a.mark(pt),tt=d.a.mark(mt),nt=d.a.mark(bt),rt=d.a.mark(ht),at=d.a.mark(gt),ot=d.a.mark(vt),ct=d.a.mark(yt),it=d.a.mark(Et),st=d.a.mark(xt),lt=d.a.mark(Ot),ut=d.a.mark(jt),dt=d.a.mark(Ct),ft=d.a.mark(St);function pt(e){var t;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(p.b)(h.W,e);case 3:return t=n.sent,n.next=6,Object(p.f)($e.c.success(t.environments));case 6:n.next=14;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,Object(b.a)(n.t0);case 12:return n.next=14,Object(p.f)($e.c.failure(n.t0));case 14:case"end":return n.stop()}}),et,null,[[0,8]])}function mt(e,t){var n,r,a,o,c,i,s,l,u,f,m,g;return d.a.wrap((function(d){for(;;)switch(d.prev=d.next){case 0:return n=t.payload,r=n.search,a=n.offset,o=n.limit,c=n.tag,i=0===o?[1,0]:[o,a],s=Object(Je.a)(i,2),l=s[0],u=s[1],d.prev=2,d.next=5,Object(p.b)(h.jb,e,"default",l,u,c);case 5:return f=d.sent,m=f.models,g=f.total,d.next=10,Object(p.f)($e.f.success({search:r,models:m,total:g,offset:a}));case 10:d.next=18;break;case 12:return d.prev=12,d.t0=d.catch(2),d.next=16,Object(b.a)(d.t0);case 16:return d.next=18,Object(p.f)($e.f.failure(d.t0));case 18:case"end":return d.stop()}}),tt,null,[[2,12]])}function bt(e,t){var n,r;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.payload,a.prev=1,r=n.map((function(t){return Object(p.b)(h.r,e,"default",t.model)})),a.next=5,Object(p.a)(r);case 5:return a.next=7,Object(p.f)($e.b.success(n));case 7:a.next=15;break;case 9:return a.prev=9,a.t0=a.catch(1),a.next=13,Object(b.a)(a.t0);case 13:return a.next=15,Object(p.f)($e.b.failure(a.t0));case 15:case"end":return a.stop()}}),nt,null,[[1,9]])}function ht(e,t){var n,r,a,o,c;return d.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return n=t.payload,r=n.model,a=n.environment,o=Array.isArray(a)?a:[a],i.prev=2,c=o.map((function(t){return Object(p.b)(h.ec,e,"default",r.model,t)})),i.next=6,Object(p.a)(c);case 6:return i.next=8,Object(p.f)($e.a.success({model:r,environment:a}));case 8:i.next=16;break;case 10:return i.prev=10,i.t0=i.catch(2),i.next=14,Object(b.a)(i.t0);case 14:return i.next=16,Object(p.f)($e.a.failure(i.t0));case 16:case"end":return i.stop()}}),rt,null,[[2,10]])}function gt(e,t){var n,r,a;return d.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return n=t.payload,r=n.model,a=n.environment,o.prev=1,o.next=4,Object(p.b)(h.s,e,"default",r.model,a);case 4:return o.next=6,Object(p.f)($e.h.success());case 6:return o.next=8,Object(p.f)($e.e.request());case 8:o.next=16;break;case 10:return o.prev=10,o.t0=o.catch(1),o.next=14,Object(b.a)(o.t0);case 14:return o.next=16,Object(p.f)($e.h.failure(o.t0));case 16:case"end":return o.stop()}}),at,null,[[1,10]])}function vt(e){var t;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(p.b)(h.gc,e,"default");case 3:return t=n.sent,n.next=6,Object(p.f)($e.k.success(t));case 6:n.next=14;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,Object(b.a)(n.t0);case 12:return n.next=14,Object(p.f)($e.k.failure(n.t0));case 14:case"end":return n.stop()}}),ot,null,[[0,8]])}function yt(e){var t;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(p.b)(h.eb,e);case 3:return t=n.sent,n.next=6,Object(p.f)($e.e.success(t));case 6:n.next=14;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,Object(b.a)(n.t0);case 12:return n.next=14,Object(p.f)($e.e.failure(n.t0));case 14:case"end":return n.stop()}}),ct,null,[[0,8]])}function Et(e,t){var n,r;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n=t.payload,a.next=4,Object(p.b)(h.vc,e,"default",n);case 4:return r=a.sent,a.next=7,Object(p.f)($e.l.success(r));case 7:a.next=15;break;case 9:return a.prev=9,a.t0=a.catch(0),a.next=13,Object(b.a)(a.t0);case 13:return a.next=15,Object(p.f)($e.l.failure(a.t0));case 15:case"end":return a.stop()}}),it,null,[[0,9]])}function xt(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,Object(p.f)($e.e.request());case 3:return e.next=5,Object(p.i)([Object(f.getType)($e.e.success),Object(f.getType)($e.e.failure)]);case 5:return e.next=7,Object(p.d)(3e4);case 7:e.next=0;break;case 9:case"end":return e.stop()}}),st)}function Ot(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(p.g)({poll:Object(p.b)(xt),cancel:Object(p.i)(Object(f.getType)(S.h))});case 2:case"end":return e.stop()}}),lt)}function jt(e,t){var n,r;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.payload,a.prev=1,a.next=4,Object(p.b)(h.X,e,"default",n.model);case 4:return r=a.sent,a.next=7,Object(p.f)($e.d.success(r));case 7:a.next=19;break;case 9:return a.prev=9,a.t0=a.catch(1),a.next=13,Object(b.a)(a.t0);case 13:if(!a.t0.response||404!==a.t0.response.status){a.next=17;break}return a.next=16,Object(p.f)($e.i(n));case 16:return a.abrupt("return");case 17:return a.next=19,Object(p.f)($e.d.failure(a.t0));case 19:case"end":return a.stop()}}),ut,null,[[1,9]])}function Ct(e,t){var n,r;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.payload,a.prev=1,a.next=4,Object(p.b)(h.fc,e,"default",n.model);case 4:return r=a.sent,a.next=7,Object(p.f)($e.d.success(r));case 7:a.next=15;break;case 9:return a.prev=9,a.t0=a.catch(1),a.next=13,Object(b.a)(a.t0);case 13:return a.next=15,Object(p.f)($e.d.failure(a.t0));case 15:case"end":return a.stop()}}),dt,null,[[1,9]])}function St(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(p.f)($e.f.request({search:"",limit:0,offset:0}));case 2:case"end":return e.stop()}}),ft)}var wt=[Object(m.a)(Object(f.getType)($e.c.request),pt,!0),Object(m.a)(Object(f.getType)($e.f.request),mt,!0,!0),Object(m.a)(Object(f.getType)($e.a.request),ht,!0),Object(m.a)(Object(f.getType)($e.h.request),gt,!0),Object(m.a)(Object(f.getType)($e.k.request),vt,!0),Object(m.a)(Object(f.getType)($e.b.request),bt,!0),Object(m.a)(Object(f.getType)($e.e.request),yt,!0),Object(m.a)(Object(f.getType)($e.j),Ot,!0),Object(m.a)(Object(f.getType)($e.d.request),jt,!0),Object(m.a)(Object(f.getType)($e.i),Ct,!0),Object(m.a)(Object(f.getType)($e.l.request),Et,!0),Object(m.a)([Object(f.getType)($e.l.success),Object(f.getType)($e.k.success)],St)],kt=n(54),Tt=d.a.mark(Ft),Rt=d.a.mark(Ut),At=d.a.mark(Nt),_t=d.a.mark(Lt),It=d.a.mark(Dt);function Ft(e,t){var n,r;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.payload,a.prev=1,a.next=4,Object(p.b)(h.Yb,e,"default",n);case 4:return a.next=6,Object(p.f)(kt.d.success(n));case 6:a.next=13;break;case 8:return a.prev=8,a.t0=a.catch(1),a.t0.response&&400===a.t0.response.status&&(r=["Invalid YAML file","It looks like something is wrong with your YAML file. Please update it and try saving again."],a.t0.name=r[0],a.t0.message=r[1]),a.next=13,Object(p.f)(kt.d.failure(a.t0));case 13:case"end":return a.stop()}}),Tt,null,[[1,8]])}function Ut(e){var t;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(p.b)(h.rb,e,"default");case 3:return t=n.sent,n.next=6,Object(p.f)(kt.a.success(t));case 6:n.next=14;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,Object(b.a)(n.t0);case 12:return n.next=14,Object(p.f)(kt.a.failure(n.t0));case 14:case"end":return n.stop()}}),Rt,null,[[0,8]])}function Nt(e,t){var n,r,a,o,c,i;return d.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return n=t.payload,r=n.domain,a=n.storeResponses,o=n.onSuccess,s.prev=1,s.next=4,Object(p.b)(h.Nb,e,r,a);case 4:return c=s.sent,s.next=7,o&&o();case 7:return s.next=9,Object(p.f)(kt.e.success(c));case 9:return s.next=11,Object(p.f)(kt.c.request());case 11:s.next=18;break;case 13:return s.prev=13,s.t0=s.catch(1),s.t0.response&&400===s.t0.response.status&&(i=["Invalid YAML file","It looks like something is wrong with your YAML file. Please update it and try saving again."],s.t0.name=i[0],s.t0.message=i[1]),s.next=18,Object(p.f)(kt.e.failure(s.t0));case 18:case"end":return s.stop()}}),At,null,[[1,13]])}function Lt(e){var t;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(p.b)(h.S,e);case 3:return t=n.sent,n.next=6,Object(p.f)(kt.b.success(t));case 6:return n.next=8,Object(p.f)(kt.c.request());case 8:n.next=16;break;case 10:return n.prev=10,n.t0=n.catch(0),n.next=14,Object(b.a)(n.t0);case 14:return n.next=16,Object(p.f)(kt.b.failure(n.t0));case 16:case"end":return n.stop()}}),_t,null,[[0,10]])}function Dt(e){var t;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(p.b)(h.T,e);case 3:return t=n.sent,n.next=6,Object(p.f)(kt.c.success(t));case 6:n.next=14;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,Object(b.a)(n.t0);case 12:return n.next=14,Object(p.f)(kt.c.failure(n.t0));case 14:case"end":return n.stop()}}),It,null,[[0,8]])}var Mt=[Object(m.a)(Object(f.getType)(kt.d.request),Ft,!0),Object(m.a)(Object(f.getType)(kt.a.request),Ut,!0),Object(m.a)(Object(f.getType)(kt.e.request),Nt,!0),Object(m.a)(Object(f.getType)(kt.b.request),Lt,!0),Object(m.a)(Object(f.getType)(kt.c.request),Dt,!0),Object(m.a)([Object(f.getType)(kt.e.success),Object(f.getType)(kt.d.success)],J.b)],Pt=d.a.mark(Kt),Bt=d.a.mark(Qt),Ht=d.a.mark(Xt),qt=d.a.mark(Zt),Gt=d.a.mark(Jt),Vt=d.a.mark($t),zt=d.a.mark(en),Wt=d.a.mark(tn),Yt=d.a.mark(nn);function Kt(e,t){var n;return d.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(p.b)(h.kb,e,"default",t);case 3:return n=r.sent,r.next=6,Object(p.f)(X.g.success(n));case 6:r.next=14;break;case 8:return r.prev=8,r.t0=r.catch(0),r.next=12,Object(b.a)(r.t0);case 12:return r.next=14,Object(p.f)(X.g.failure(r.t0));case 14:case"end":return r.stop()}}),Pt,null,[[0,8]])}function Qt(e,t){var n,r;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.payload,a.prev=1,a.next=4,Object(p.b)(h.l,e,"default",n);case 4:return r=a.sent,a.next=7,Object(p.f)(X.b.success(r));case 7:a.next=15;break;case 9:return a.prev=9,a.t0=a.catch(1),a.next=13,Object(b.a)(a.t0);case 13:return a.next=15,Object(p.f)(X.b.failure(a.t0));case 15:case"end":return a.stop()}}),Bt,null,[[1,9]])}function Xt(e,t){var n,r;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.payload,a.prev=1,a.next=4,Object(p.b)(h.kc,e,"default",n);case 4:return r=a.sent,a.next=7,Object(p.f)(X.i.success(r));case 7:a.next=15;break;case 9:return a.prev=9,a.t0=a.catch(1),a.next=13,Object(b.a)(a.t0);case 13:return a.next=15,Object(p.f)(X.i.failure(a.t0));case 15:case"end":return a.stop()}}),Ht,null,[[1,9]])}function Zt(e,t){var n,r,a,o,c,i,s;return d.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return n=t.payload,r=n.offset,a=n.limit,o=0===a?[1,0]:[a,r],l.prev=2,l.next=5,p.b.apply(void 0,[h.lb,e,"default"].concat(o));case 5:return c=l.sent,i=c.regexes,s=c.total,l.next=10,Object(p.f)(X.h.success({regexes:i,total:s,offset:r}));case 10:l.next=18;break;case 12:return l.prev=12,l.t0=l.catch(2),l.next=16,Object(b.a)(l.t0);case 16:return l.next=18,Object(p.f)(X.h.failure(l.t0));case 18:case"end":return l.stop()}}),qt,null,[[2,12]])}function Jt(e,t){var n;return d.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=Array.isArray(t.payload)?t.payload:[t.payload],r.prev=1,r.next=4,Object(p.a)(n.map((function(t){return Object(p.b)(h.t,e,"default",t)})));case 4:return r.next=6,Object(p.f)(X.d.success(n));case 6:r.next=14;break;case 8:return r.prev=8,r.t0=r.catch(1),r.next=12,Object(b.a)(r.t0);case 12:return r.next=14,Object(p.f)(X.d.failure(r.t0));case 14:case"end":return r.stop()}}),Gt,null,[[1,8]])}function $t(e,t){var n,r;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.payload,a.prev=1,a.next=4,Object(p.b)(h.k,e,"default",n);case 4:return r=a.sent,a.next=7,Object(p.f)(X.a.success(r));case 7:a.next=15;break;case 9:return a.prev=9,a.t0=a.catch(1),a.next=13,Object(b.a)(a.t0);case 13:return a.next=15,Object(p.f)(X.a.failure(a.t0));case 15:case"end":return a.stop()}}),Vt,null,[[1,9]])}function en(e){var t,n,r;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(p.b)(h.ib,e,"default");case 3:return t=a.sent,n=t.lookupTables,r=t.total,a.next=8,Object(p.f)(X.f.success({lookupTables:n,total:r}));case 8:a.next=16;break;case 10:return a.prev=10,a.t0=a.catch(0),a.next=14,Object(b.a)(a.t0);case 14:return a.next=16,Object(p.f)(X.f.failure(a.t0));case 16:case"end":return a.stop()}}),zt,null,[[0,10]])}function tn(e,t){var n,r,a,o,c;return d.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,n=t.payload,r=n.filename,a=n.lookupTableId,i.next=4,Object(p.b)(h.hb,e,"default",a);case 4:return o=i.sent,c=new Blob([o],{type:"text/*;charset=utf-8"}),Object(W.saveAs)(c,r),i.next=9,Object(p.f)(X.e.success(o));case 9:i.next=17;break;case 11:return i.prev=11,i.t0=i.catch(0),i.next=15,Object(b.a)(i.t0);case 15:return i.next=17,Object(p.f)(X.e.failure(i.t0));case 17:case"end":return i.stop()}}),Wt,null,[[0,11]])}function nn(e,t){var n;return d.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=Array.isArray(t.payload)?t.payload:[t.payload],r.prev=1,r.next=4,Object(p.a)(n.map((function(t){return Object(p.b)(h.q,e,"default",t)})));case 4:return r.next=6,Object(p.f)(X.c.success(n));case 6:r.next=14;break;case 8:return r.prev=8,r.t0=r.catch(1),r.next=12,Object(b.a)(r.t0);case 12:return r.next=14,Object(p.f)(X.c.failure(r.t0));case 14:case"end":return r.stop()}}),Yt,null,[[1,8]])}var rn=[Object(m.a)(Object(f.getType)(X.a.request),$t,!0,!0),Object(m.a)(Object(f.getType)(X.b.request),Qt,!0),Object(m.a)(Object(f.getType)(X.c.request),nn,!0,!0),Object(m.a)(Object(f.getType)(X.d.request),Jt,!0),Object(m.a)(Object(f.getType)(X.e.request),tn,!0,!0),Object(m.a)(Object(f.getType)(X.f.request),en,!0,!0),Object(m.a)(Object(f.getType)(X.g.request),Kt,!0),Object(m.a)(Object(f.getType)(X.h.request),Zt,!0,!0),Object(m.a)(Object(f.getType)(X.i.request),Xt,!0),Object(m.a)([Object(f.getType)(X.a.success),Object(f.getType)(X.b.success),Object(f.getType)(X.c.success),Object(f.getType)(X.d.success),Object(f.getType)(X.i.success)],J.b)],an=n(51),on=d.a.mark(dn),cn=d.a.mark(fn),sn=d.a.mark(pn),ln=d.a.mark(mn),un=d.a.mark(bn);function dn(e,t){var n,r,a,o,c,i,s,l;return d.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return n=t.payload,r=n.search,a=n.limit,o=n.offset,u.prev=1,c=z.a.parse(r),i=c.getAllText(),s=c.getConditionArray().filter((function(e){return"response_name"===e.keyword})).map((function(e){return e.value})).join(","),u.next=7,Object(p.b)(h.db,e,i,s,a,o);case 7:return l=u.sent,u.next=10,Object(p.f)(an.b.success(l));case 10:u.next=18;break;case 12:return u.prev=12,u.t0=u.catch(1),u.next=16,Object(b.a)(u.t0);case 16:return u.next=18,Object(p.f)(an.b.failure(u.t0));case 18:case"end":return u.stop()}}),on,null,[[1,12]])}function fn(e,t){var n,r;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=Object(G.a)({},t.payload,{isDirty:void 0}),a.prev=1,a.next=4,Object(p.b)(h.lc,e,n);case 4:return r=a.sent,a.next=7,Object(p.f)(an.e.success(r));case 7:a.next=15;break;case 9:return a.prev=9,a.t0=a.catch(1),a.next=13,Object(b.a)(a.t0);case 13:return a.next=15,Object(p.f)(an.e.failure(a.t0));case 15:case"end":return a.stop()}}),cn,null,[[1,9]])}function pn(e,t){var n,r,a;return d.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return n=t.payload,r=n.name,a=n.newName,o.prev=1,o.next=4,Object(p.b)(h.mc,e,r,a);case 4:return o.next=6,Object(p.f)(an.f.success({name:r,newName:a}));case 6:o.next=14;break;case 8:return o.prev=8,o.t0=o.catch(1),o.next=12,Object(b.a)(o.t0);case 12:return o.next=14,Object(p.f)(an.f.failure(o.t0));case 14:case"end":return o.stop()}}),sn,null,[[1,8]])}function mn(e,t){var n,r;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.payload,a.prev=1,a.next=4,Object(p.b)(h.Ub,e,n);case 4:return r=a.sent,a.next=7,Object(p.f)(an.c.success(r));case 7:a.next=15;break;case 9:return a.prev=9,a.t0=a.catch(1),a.next=13,Object(b.a)(a.t0);case 13:return a.next=15,Object(p.f)(an.c.failure(a.t0));case 15:case"end":return a.stop()}}),ln,null,[[1,9]])}function bn(e,t){var n,r;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.payload,a.prev=1,r=n.map((function(t){return Object(p.b)(h.u,e,t)})),a.next=5,Object(p.a)(r);case 5:return a.next=7,Object(p.f)(an.a.success(n));case 7:a.next=15;break;case 9:return a.prev=9,a.t0=a.catch(1),a.next=13,Object(b.a)(a.t0);case 13:return a.next=15,Object(p.f)(an.a.failure(a.t0));case 15:case"end":return a.stop()}}),un,null,[[1,9]])}var hn=[Object(m.a)(Object(f.getType)(an.b.request),dn,!0,!0),Object(m.a)(Object(f.getType)(an.c.request),mn,!0),Object(m.a)(Object(f.getType)(an.e.request),fn,!0),Object(m.a)(Object(f.getType)(an.f.request),pn,!0),Object(m.a)(Object(f.getType)(an.a.request),bn,!0),Object(m.a)([Object(f.getType)(an.c.success),Object(f.getType)(an.e.success),Object(f.getType)(an.f.success),Object(f.getType)(an.a.success)],J.b)],gn=n(68),vn=n(43),yn=d.a.mark(Sn),En=d.a.mark(wn),xn=d.a.mark(kn),On=d.a.mark(Tn),jn=d.a.mark(Rn),Cn=d.a.mark(An);function Sn(e,t){var n,r,a,o,c,i,s;return d.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return n=t.payload,r=n.search,a=n.limit,o=n.offset,l.prev=1,l.next=4,Object(p.b)(h.ob,e,r,a,o);case 4:return c=l.sent,i=c.roles,s=c.total,l.next=9,Object(p.f)(gn.d.success({roles:i,total:s,offset:o}));case 9:l.next=17;break;case 11:return l.prev=11,l.t0=l.catch(1),l.next=15,Object(b.a)(l.t0);case 15:return l.next=17,Object(p.f)(gn.d.failure(l.t0));case 17:case"end":return l.stop()}}),yn,null,[[1,11]])}function wn(e,t){var n,r;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.payload,a.prev=1,a.next=4,Object(p.b)(h.mb,e,n);case 4:return r=a.sent,a.next=7,Object(p.f)(gn.b.success(r));case 7:a.next=15;break;case 9:return a.prev=9,a.t0=a.catch(1),a.next=13,Object(b.a)(a.t0);case 13:return a.next=15,Object(p.f)(gn.b.failure(a.t0));case 15:case"end":return a.stop()}}),En,null,[[1,9]])}function kn(e,t){var n,r;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.payload,a.prev=1,a.next=4,Object(p.b)(h.nb,e,n);case 4:return r=a.sent,a.next=7,Object(p.f)(gn.c.success({role:n,users:r}));case 7:return a.next=9,Object(p.f)(vn.e(r));case 9:a.next=17;break;case 11:return a.prev=11,a.t0=a.catch(1),a.next=15,Object(b.a)(a.t0);case 15:return a.next=17,Object(p.f)(gn.c.failure(a.t0));case 17:case"end":return a.stop()}}),xn,null,[[1,11]])}function Tn(e,t){var n,r,a,o,c,i;return d.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return n=t.payload,r=n.role,a=n.users,o=n.onSaved,s.prev=1,s.next=4,Object(p.b)(h.Vb,e,r);case 4:if(c=s.sent,!a){s.next=11;break}return s.next=8,Object(p.b)(h.Wb,e,r,a);case 8:s.t0=s.sent,s.next=12;break;case 11:s.t0=void 0;case 12:return i=s.t0,s.next=15,Object(p.f)(gn.f.success({role:c,users:i}));case 15:if(!i){s.next=18;break}return s.next=18,Object(p.f)(vn.e(i));case 18:null===o||void 0===o||o(),s.next=27;break;case 21:return s.prev=21,s.t1=s.catch(1),s.next=25,Object(b.a)(s.t1);case 25:return s.next=27,Object(p.f)(gn.f.failure(s.t1));case 27:case"end":return s.stop()}}),On,null,[[1,21]])}function Rn(e,t){var n,r,a,o,c,i,s;return d.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return n=t.payload,r=n.currentId,a=n.role,o=n.users,c=n.onSaved,l.prev=1,l.next=4,Object(p.b)(h.oc,e,a,r);case 4:if(i=l.sent,!o){l.next=11;break}return l.next=8,Object(p.b)(h.Wb,e,a,o);case 8:l.t0=l.sent,l.next=12;break;case 11:l.t0=void 0;case 12:return s=l.t0,l.next=15,Object(p.f)(gn.g.success({currentId:r,role:i,users:[]}));case 15:if(!s){l.next=18;break}return l.next=18,Object(p.f)(vn.e(s));case 18:null===c||void 0===c||c(),l.next=27;break;case 21:return l.prev=21,l.t1=l.catch(1),l.next=25,Object(b.a)(l.t1);case 25:return l.next=27,Object(p.f)(gn.g.failure(l.t1));case 27:case"end":return l.stop()}}),jn,null,[[1,21]])}function An(e,t){var n,r;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.payload,a.prev=1,r=n.map((function(t){return Object(p.b)(h.v,e,t)})),a.next=5,Object(p.a)(r);case 5:return a.next=7,Object(p.f)(gn.a.success(n));case 7:a.next=15;break;case 9:return a.prev=9,a.t0=a.catch(1),a.next=13,Object(b.a)(a.t0);case 13:return a.next=15,Object(p.f)(gn.a.failure(a.t0));case 15:case"end":return a.stop()}}),Cn,null,[[1,9]])}var _n=[Object(m.a)(Object(f.getType)(gn.b.request),wn,!0),Object(m.a)(Object(f.getType)(gn.d.request),Sn,!0),Object(m.a)(Object(f.getType)(gn.c.request),kn,!0),Object(m.a)(Object(f.getType)(gn.f.request),Tn,!0),Object(m.a)(Object(f.getType)(gn.g.request),Rn,!0),Object(m.a)(Object(f.getType)(gn.a.request),An,!0)],In=n(59),Fn=n(48),Un=d.a.mark(Pn),Nn=d.a.mark(Gn),Ln=d.a.mark(Vn),Dn=Object(In.b)(h.pb,Fn.f,(function(e,t){var n=e.total;return{rules:e.rules,total:n,offset:t.offset}}),(function(e){return[e.search,e.limit,e.offset]})),Mn=Object(In.b)(h.qb,Fn.g);function Pn(e,t){return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(0!==(Array.isArray(t.payload)?t.payload:[t.payload]).length){n.next=5;break}return n.next=4,Object(p.f)(Fn.g.success(""));case 4:return n.abrupt("return");case 5:return n.next=7,Mn(e,t);case 7:case"end":return n.stop()}}),Un)}var Bn=Object(In.b)(h.pc,Fn.j),Hn=Object(In.b)(h.Xb,Fn.i),qn=Object(In.b)(h.w,Fn.d,(function(e,t){return t}));function Gn(e){var t,n;return d.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(p.b)(h.C,e);case 3:t=r.sent,n=new Blob([t],{type:"text/markdown;charset=utf-8"}),saveAs(n,"rules.yml"),r.next=14;break;case 8:return r.prev=8,r.t0=r.catch(0),r.next=12,Object(b.a)(r.t0);case 12:return r.next=14,Object(p.f)(Fn.f.failure(r.t0));case 14:case"end":return r.stop()}}),Nn,null,[[0,8]])}function Vn(e,t){var n,r,a,o,c;return d.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:n=t.payload,r="application/json";try{JSON.parse(n)}catch(s){r="text/markdown"}return a=t.type===Object(f.getType)(Fn.a)?h.a:h.Jb,i.prev=4,i.next=7,Object(p.b)(a,e,n,r);case 7:return o=i.sent,i.next=10,Object(p.f)(Fn.k.success(o));case 10:return i.next=12,Object(p.h)((function(e){return e.rules.searchQuery}));case 12:return c=i.sent,i.next=15,Object(p.f)(Fn.f.request(c));case 15:i.next=23;break;case 17:return i.prev=17,i.t0=i.catch(4),i.next=21,Object(b.a)(i.t0);case 21:return i.next=23,Object(p.f)(Fn.k.failure(i.t0));case 23:case"end":return i.stop()}}),Ln,null,[[4,17]])}var zn=[Object(m.b)(Fn.f.request,Dn),Object(m.b)(Fn.g.request,Pn),Object(m.b)(Fn.i.request,Hn),Object(m.b)(Fn.j.request,Bn),Object(m.b)(Fn.d.request,qn),Object(m.b)(Fn.a,Vn),Object(m.b)(Fn.h,Vn),Object(m.b)(Fn.e,Gn)],Wn=n(38),Yn=d.a.mark(Jn),Kn=d.a.mark(nr),Qn=d.a.mark(rr),Xn=Object(In.b)(h.vb,Wn.f,(function(e,t){var n=e.total;return{stories:e.stories,total:n,offset:t.offset}}),(function(e){return[e.search,e.limit,e.offset]})),Zn=Object(In.b)(h.Eb,Wn.g);function Jn(e,t){return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(0!==(Array.isArray(t.payload)?t.payload:[t.payload]).length){n.next=5;break}return n.next=4,Object(p.f)(Wn.g.success(""));case 4:return n.abrupt("return");case 5:return n.next=7,Zn(e,t);case 7:case"end":return n.stop()}}),Yn)}var $n=Object(In.b)(h.qc,Wn.m),er=Object(In.b)(h.Zb,Wn.i),tr=Object(In.b)(h.x,Wn.d,(function(e,t){return t}));function nr(e){var t,n;return d.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(p.b)(h.D,e);case 3:t=r.sent,n=new Blob([t],{type:"text/markdown;charset=utf-8"}),Object(W.saveAs)(n,"stories.md"),r.next=14;break;case 8:return r.prev=8,r.t0=r.catch(0),r.next=12,Object(b.a)(r.t0);case 12:return r.next=14,Object(p.f)(Wn.f.failure(r.t0));case 14:case"end":return r.stop()}}),Kn,null,[[0,8]])}function rr(e,t){var n,r,a,o,c;return d.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:n=t.payload,r="application/json";try{JSON.parse(n)}catch(s){r="text/markdown"}return a=t.type===Object(f.getType)(Wn.a)?h.b:h.Kb,i.prev=4,i.next=7,Object(p.b)(a,e,n,r);case 7:return o=i.sent,i.next=10,Object(p.f)(Wn.n.success(o));case 10:return i.next=12,Object(p.h)((function(e){return e.stories.searchQuery}));case 12:return c=i.sent,i.next=15,Object(p.f)(Wn.f.request(c));case 15:i.next=23;break;case 17:return i.prev=17,i.t0=i.catch(4),i.next=21,Object(b.a)(i.t0);case 21:return i.next=23,Object(p.f)(Wn.n.failure(i.t0));case 23:case"end":return i.stop()}}),Qn,null,[[4,17]])}var ar=[Object(m.b)(Wn.f.request,Xn),Object(m.b)(Wn.g.request,Jn),Object(m.b)(Wn.i.request,er),Object(m.b)(Wn.m.request,$n),Object(m.b)(Wn.d.request,tr),Object(m.b)(Wn.a,rr),Object(m.b)(Wn.h,rr),Object(m.b)(Wn.e,nr)],or=n(44),cr=d.a.mark(dr),ir=d.a.mark(fr),sr=d.a.mark(pr),lr=d.a.mark(mr),ur=d.a.mark(br);function dr(e,t){var n,r;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.payload,a.prev=1,a.next=4,Object(p.b)(h.ac,e,"default",n);case 4:return r=a.sent,a.next=7,Object(p.f)(or.f.success(r));case 7:a.next=15;break;case 9:return a.prev=9,a.t0=a.catch(1),a.next=13,Object(b.a)(a.t0);case 13:return a.next=15,Object(p.f)(or.f.failure(a.t0));case 15:case"end":return a.stop()}}),cr,null,[[1,9]])}function fr(e,t){var n,r,a,o,c,i;return d.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return n=t.payload,r=K()(n),s.prev=2,s.next=5,Object(p.a)({suggestion:Object(p.b)($(h.wb,e,"default",r)),example:Object(p.b)($(h.Y,e,"default",r))});case 5:return a=s.sent,o=a.suggestion,c=a.example,i=[o,c].reduce((function(e,t){if("response"in t&&t.response){if(404!==t.response.status)throw t;return e}return!0}),!1),s.next=11,Object(p.f)(or.b.success(i));case 11:s.next=19;break;case 13:return s.prev=13,s.t0=s.catch(2),s.next=17,Object(b.a)(s.t0);case 17:return s.next=19,Object(p.f)(or.b.failure(s.t0));case 19:case"end":return s.stop()}}),ir,null,[[2,13]])}function pr(e,t){var n,r,a,o,c,i,s,l,u,f,m,g,v,y,E,x,O,j,C,S;return d.a.wrap((function(d){for(;;)switch(d.prev=d.next){case 0:return n=t.payload,r=n.search,a=n.offset,o=n.limit,c=n.sortBy,i=n.sortOrder,d.next=3,Object(p.h)((function(e){return e.suggestions.totalFetched}));case 3:if(s=d.sent,l=50,!((u=a+o)<=s&&0!==a)){d.next=8;break}return d.abrupt("return");case 8:return f=0===a?u:u-s,m=Math.ceil(f/l),g=0===a?0:s,v=m*l,d.next=14,Object(p.f)(or.h(g+v));case 14:return d.prev=14,y=z.a.parse(r),E=y.getAllText(),x=y.getConditionArray().filter((function(e){return"intent"===e.keyword})).map((function(e){return e.value})).join(","),d.next=20,Object(p.b)(h.xb,e,"default",E,x,v,g,c,i);case 20:return O=d.sent,j=O.suggestions,C=O.total,S=E||x?void 0:C,d.next=26,Object(p.f)(or.d.success({suggestions:j,total:S,limit:v,offset:g}));case 26:d.next=34;break;case 28:return d.prev=28,d.t0=d.catch(14),d.next=32,Object(b.a)(d.t0);case 32:return d.next=34,Object(p.f)(or.d.failure(d.t0));case 34:case"end":return d.stop()}}),sr,null,[[14,28]])}function mr(e,t){var n;return d.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=Array.isArray(t.payload)?t.payload:[t.payload],r.prev=1,r.next=4,Object(p.a)(n.map((function(t){return Object(p.b)(h.y,e,"default",t)})));case 4:return r.next=6,Object(p.f)(or.c.success(n));case 6:r.next=14;break;case 8:return r.prev=8,r.t0=r.catch(1),r.next=12,Object(b.a)(r.t0);case 12:return r.next=14,Object(p.f)(or.c.failure(r.t0));case 14:case"end":return r.stop()}}),lr,null,[[1,8]])}function br(e,t){var n,r,a,o,c;return d.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return n=t.payload,r=n.suggestionId,a=n.entities,i.prev=1,i.next=4,Object(p.a)(a.map((function(t){return Object(p.b)(h.yb,e,"default","","",t.value)})));case 4:return o=i.sent,c=o.map((function(e){return e.synonyms[0]})),i.next=8,Object(p.f)(or.e.success({suggestionId:r,entities:a,synonyms:c}));case 8:i.next=16;break;case 10:return i.prev=10,i.t0=i.catch(1),i.next=14,Object(b.a)(i.t0);case 14:return i.next=16,Object(p.f)(or.e.failure(i.t0));case 16:case"end":return i.stop()}}),ur,null,[[1,10]])}var hr=[Object(m.a)(Object(f.getType)(or.f.request),dr,!0),Object(m.a)(Object(f.getType)(or.b.request),fr,!0),Object(m.a)(Object(f.getType)(or.e.request),br,!0,!0),Object(m.a)(Object(f.getType)(or.d.request),pr,!0,!1),Object(m.a)(Object(f.getType)(or.c.request),mr,!0),Object(m.a)([Object(f.getType)(or.f.success),Object(f.getType)(or.c.success)],J.b)],gr=d.a.mark(jr),vr=d.a.mark(Cr),yr=d.a.mark(Sr),Er=d.a.mark(wr),xr=d.a.mark(kr),Or=d.a.mark(Tr);function jr(e,t){var n,r,a,o,c,i,s;return d.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return n=t.payload,r=n.search,a=n.mappedValue,l.prev=1,o=z.a.parse(r),c=o.getAllText(),i=o.getConditionArray().filter((function(e){return"reference"===e.keyword})).map((function(e){return e.value})).join(","),l.next=7,Object(p.b)(h.yb,e,"default",c,i,a||"");case 7:return s=l.sent,l.next=10,Object(p.f)(Z.b.success(s));case 10:l.next=18;break;case 12:return l.prev=12,l.t0=l.catch(1),l.next=16,Object(b.a)(l.t0);case 16:return l.next=18,Object(p.f)(Z.b.failure(l.t0));case 18:case"end":return l.stop()}}),gr,null,[[1,12]])}function Cr(e,t){var n,r;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.payload,a.prev=1,a.next=4,Object(p.b)(h.bc,e,"default",n);case 4:return r=a.sent,a.next=7,Object(p.f)(Z.c.success(r));case 7:a.next=15;break;case 9:return a.prev=9,a.t0=a.catch(1),a.next=13,Object(b.a)(a.t0);case 13:return a.next=15,Object(p.f)(Z.c.failure(a.t0));case 15:case"end":return a.stop()}}),vr,null,[[1,9]])}function Sr(e,t){var n,r,a,o;return d.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return n=t.payload,r=n.synonymId,a=n.valueId,o=n.newValue,c.prev=1,c.next=4,Object(p.b)(h.sc,e,"default",r,a,o);case 4:return c.next=6,Object(p.f)(Z.f.success(n));case 6:c.next=14;break;case 8:return c.prev=8,c.t0=c.catch(1),c.next=12,Object(b.a)(c.t0);case 12:return c.next=14,Object(p.f)(Z.f.failure(c.t0));case 14:case"end":return c.stop()}}),yr,null,[[1,8]])}function wr(e,t){var n,r,a;return d.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return n=t.payload,r=n.synonymId,a=n.value,o.prev=1,o.next=4,Object(p.b)(h.rc,e,"default",r,a);case 4:return o.next=6,Object(p.f)(Z.e.success(n));case 6:o.next=14;break;case 8:return o.prev=8,o.t0=o.catch(1),o.next=12,Object(b.a)(o.t0);case 12:return o.next=14,Object(p.f)(Z.e.failure(o.t0));case 14:case"end":return o.stop()}}),Er,null,[[1,8]])}function kr(e,t){var n,r,a,o;return d.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return n=t.payload,r=n.id,a=n.mapped_values,c.prev=1,c.next=4,Object(p.b)(h.cc,e,"default",r,{mapped_values:a});case 4:return o=c.sent,c.next=7,Object(p.f)(Z.d.success({id:r,mapped_values:o}));case 7:c.next=15;break;case 9:return c.prev=9,c.t0=c.catch(1),c.next=13,Object(b.a)(c.t0);case 13:return c.next=15,Object(p.f)(Z.d.failure(c.t0));case 15:case"end":return c.stop()}}),xr,null,[[1,9]])}function Tr(e,t){var n;return d.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.payload,r.prev=1,r.next=4,Object(p.a)(n.map((function(t){var n=t.synonymId,r=t.valueId;return Object(p.b)(h.z,e,"default",n,r)})));case 4:return r.next=6,Object(p.a)(n.map((function(e){return Object(p.f)(Z.a.success(e))})));case 6:r.next=14;break;case 8:return r.prev=8,r.t0=r.catch(1),r.next=12,Object(b.a)(r.t0);case 12:return r.next=14,Object(p.f)(Z.a.failure(r.t0));case 14:case"end":return r.stop()}}),Or,null,[[1,8]])}var Rr=[Object(m.a)(Object(f.getType)(Z.a.request),Tr,!0),Object(m.a)(Object(f.getType)(Z.b.request),jr,!0,!0),Object(m.a)(Object(f.getType)(Z.c.request),Cr,!0),Object(m.a)(Object(f.getType)(Z.d.request),kr,!0),Object(m.a)(Object(f.getType)(Z.e.request),wr,!0),Object(m.a)(Object(f.getType)(Z.f.request),Sr,!0)],Ar=n(100),_r=d.a.mark(Ur),Ir=d.a.mark(Nr),Fr=d.a.mark(Lr);function Ur(e){var t;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(p.b)(h.zb,e);case 3:return t=n.sent,n.next=6,Object(p.f)(Ar.a.success(t));case 6:n.next=14;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,Object(b.a)(n.t0);case 12:return n.next=14,Object(p.f)(Ar.a.failure(n.t0));case 14:case"end":return n.stop()}}),_r,null,[[0,8]])}function Nr(e,t){var n,r,a,o,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.payload,r=n.userId,a=n.name,o=n.email,c=n.checkboxChecked,e.next=4,Object(p.b)(h.Tb,r,a,o,c);case 4:return e.next=6,Object(p.f)(Ar.b.success({}));case 6:e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(0),e.next=12,Object(p.f)(Ar.b.failure(e.t0));case 12:case"end":return e.stop()}}),Ir,null,[[0,8]])}function Lr(e,t){var n,r,a;return d.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,n=t.payload,r=n.event,a=n.payload,o.next=4,Object(p.b)(h.Hb,e,r,a);case 4:return o.next=6,Object(p.f)(Ar.c.success({}));case 6:o.next=14;break;case 8:return o.prev=8,o.t0=o.catch(0),o.next=12,Object(b.a)(o.t0);case 12:return o.next=14,Object(p.f)(Ar.c.failure(o.t0));case 14:case"end":return o.stop()}}),Fr,null,[[0,8]])}var Dr=[Object(m.a)(Object(f.getType)(Ar.a.request),Ur,!0),Object(m.a)(Object(f.getType)(Ar.b.request),Nr,!0),Object(m.a)(Object(f.getType)(Ar.c.request),Lr,!0)],Mr=n(212),Pr=d.a.mark(Vr),Br=d.a.mark(zr),Hr=d.a.mark(Wr),qr=d.a.mark(Yr),Gr=Object(In.a)(h.Bb,vn.b);function Vr(e,t){var n,r,a,o,c,i,s,l,u,f;return d.a.wrap((function(d){for(;;)switch(d.prev=d.next){case 0:return n=t.payload,r=n.search,a=n.limit,o=n.offset,d.prev=1,c=z.a.parse(r),i=c.getAllText(),s=c.getConditionArray().filter((function(e){return"role"===e.keyword})).map((function(e){return e.value})).join(","),d.next=7,Object(p.b)(h.Cb,e,i,s,a,o);case 7:return l=d.sent,u=l.users,f=l.total,d.next=12,Object(p.f)(vn.c.success({users:u,total:f,limit:a,offset:o,search:r}));case 12:d.next=24;break;case 14:return d.prev=14,d.t0=d.catch(1),d.next=18,Object(b.a)(d.t0);case 18:if(404!==d.t0.response.status){d.next=22;break}return d.next=21,Object(p.f)(vn.c.success({users:[],total:0,limit:a,offset:o,search:r}));case 21:return d.abrupt("return");case 22:return d.next=24,Object(p.f)(vn.c.failure(d.t0));case 24:case"end":return d.stop()}}),Pr,null,[[1,14]])}function zr(e,t){var n;return d.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.payload,r.prev=1,r.next=4,Object(p.b)(h.tc,e,n);case 4:return r.next=6,Object(p.f)(vn.g.success(n));case 6:r.next=14;break;case 8:return r.prev=8,r.t0=r.catch(1),r.next=12,Object(b.a)(r.t0);case 12:return r.next=14,Object(p.f)(vn.g.failure(r.t0));case 14:case"end":return r.stop()}}),Br,null,[[1,8]])}function Wr(e,t){var n,r,a,o;return d.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return n=t.payload,r=n.userIndex,a=n.user,o=n.roles,c.prev=1,c.delegateYield(d.a.mark((function t(){var n,c,i,s,l,u,f;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(p.b)(h.dc,e,a,o);case 2:return n=t.sent,t.next=5,Object(p.f)(vn.d.success({userIndex:r,user:n}));case 5:c=Object(Mr.a)(a.roles.filter((function(e){return!n.roles.includes(e)}))),t.prev=6,c.s();case 8:if((i=c.n()).done){t.next=14;break}return s=i.value,t.next=12,Object(p.f)(gn.e({role:s,updateFn:function(e){return e.users_count=(e.users_count||1)-1,e}}));case 12:t.next=8;break;case 14:t.next=19;break;case 16:t.prev=16,t.t0=t.catch(6),c.e(t.t0);case 19:return t.prev=19,c.f(),t.finish(19);case 22:l=Object(Mr.a)(n.roles.filter((function(e){return!a.roles.includes(e)}))),t.prev=23,l.s();case 25:if((u=l.n()).done){t.next=31;break}return f=u.value,t.next=29,Object(p.f)(gn.e({role:f,updateFn:function(e){return e.users_count=(e.users_count||0)+1,e}}));case 29:t.next=25;break;case 31:t.next=36;break;case 33:t.prev=33,t.t1=t.catch(23),l.e(t.t1);case 36:return t.prev=36,l.f(),t.finish(36);case 39:case"end":return t.stop()}}),t,null,[[6,16,19,22],[23,33,36,39]])}))(),"t0",3);case 3:c.next=11;break;case 5:return c.prev=5,c.t1=c.catch(1),c.next=9,Object(b.a)(c.t1);case 9:return c.next=11,Object(p.f)(vn.d.failure(c.t1));case 11:case"end":return c.stop()}}),Hr,null,[[1,5]])}function Yr(e,t){var n,r;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.payload,a.prev=1,r=n.map((function(t){return Object(p.b)(h.A,e,t)})),a.next=5,Object(p.a)(r);case 5:return a.next=7,Object(p.f)(vn.a.success(n));case 7:a.next=15;break;case 9:return a.prev=9,a.t0=a.catch(1),a.next=13,Object(b.a)(a.t0);case 13:return a.next=15,Object(p.f)(vn.a.failure(a.t0));case 15:case"end":return a.stop()}}),qr,null,[[1,9]])}var Kr=[Object(m.a)(Object(f.getType)(vn.b.request),Gr,!0),Object(m.a)(Object(f.getType)(vn.c.request),Vr,!0),Object(m.a)(Object(f.getType)(vn.g.request),zr,!0),Object(m.a)(Object(f.getType)(vn.d.request),Wr,!0),Object(m.a)(Object(f.getType)(vn.a.request),Yr,!0)],Qr=[].concat(Object(l.a)(E),Object(l.a)(C),Object(l.a)(q),Object(l.a)(Re),Object(l.a)(J.a),Object(l.a)(Xe),Object(l.a)(Ze.b),Object(l.a)(wt),Object(l.a)(Mt),Object(l.a)(rn),Object(l.a)(hn),Object(l.a)(_n),Object(l.a)(zn),Object(l.a)(ar),Object(l.a)(hr),Object(l.a)(Rr),Object(l.a)(Dr),Object(l.a)(Kr)),Xr=n(518),Zr={version:null},Jr=n(8),$r=n(168),ea=n(412),ta=n.n(ea),na={draftExampleExists:!1,examples:[],correction:null,intents:[],error:{},loading:{},searchQuery:"",warnings:[],entityTypes:[]},ra=Object($r.a)((function(e,t){switch(t.type){case Object(f.getType)(S.h):return na;case Object(f.getType)(Q.h.request):e.loading.fetchExamples=!0,e.error.fetchExamples=null,e.searchQuery=t.payload.search;break;case Object(f.getType)(Q.h.success):var n,r=t.payload,a=r.examples,o=r.total,c=r.offset,i=a.map((function(e){return Object(G.a)({},e,{entities:e.entities.map((function(e){return Object(G.a)({},e,{id:ta()()})}))})}));(n=e.examples).splice.apply(n,[c||0,a.length].concat(Object(l.a)(i))),e.examples.length=o,e.loading.fetchExamples=!1;break;case Object(f.getType)(Q.h.failure):e.loading.fetchExamples=!1,e.error.fetchExamples=t.payload;break;case Object(f.getType)(Q.g.request):e.loading.fetchExample=!0,e.error.fetchExample=null;break;case Object(f.getType)(Q.g.success):case Object(f.getType)(Q.l.success):e.correction=t.payload,e.loading.fetchExample=!1;break;case Object(f.getType)(Q.g.failure):e.correction=null,e.loading.fetchExample=!1;break;case Object(f.getType)(Q.i.request):e.loading.fetchIntents=!0,e.error.fetchIntents=null;break;case Object(f.getType)(Q.i.success):e.intents=t.payload.sort(),e.loading.fetchIntents=!1;break;case Object(f.getType)(Q.i.failure):e.loading.fetchIntents=!1,e.error.fetchIntents=t.payload;break;case Object(f.getType)(Q.k.success):case Object(f.getType)(Q.m.success):var s,u=Array.isArray(t.payload)?t.payload:[t.payload];e.intents=Object(l.a)(new Set([].concat(Object(l.a)(e.intents),Object(l.a)(u.map((function(e){return e.intent})))))),(s=e.examples).splice.apply(s,[0,0].concat(Object(l.a)(u)));break;case Object(f.getType)(Q.b):case Object(f.getType)(Q.o.success):var d=t.payload;t.type===Object(f.getType)(Q.b)&&(d.isDirty=!0);var p=e.examples.findIndex((function(e){return e&&e.id===d.id}));e.examples[p]=d;break;case Object(f.getType)(Q.d.success):var m=t.payload,b=e.examples.findIndex((function(e){return e&&e.id===m.id}));e.examples.splice(b,1);break;case Object(f.getType)(Q.a):e.correction=t.payload,e.correction&&(e.correction.isDirty=!0);break;case Object(f.getType)(Q.p.request):e.loading.uploadExamples=!0,e.error.uploadExamples=null;break;case Object(f.getType)(Q.p.success):e.loading.uploadExamples=!1,e.examples=[];break;case Object(f.getType)(Q.p.failure):e.loading.uploadExamples=!1,e.error.uploadExamples=t.payload;break;case Object(f.getType)(Q.j.success):e.warnings=t.payload;break;case Object(f.getType)(Q.f.success):e.entityTypes=t.payload;break;case Object(f.getType)(Q.n):e.searchQuery=t.payload;break;case Object(f.getType)(Q.c.success):e.draftExampleExists=t.payload}}),na),aa=n(32),oa={total:0,error:{},loading:{},gitRepositories:[],activeGitRepository:null,activeRepositoryStatus:null,generatedSshKey:null},ca=Object($r.a)((function(e,t){switch(t.type){case Object(f.getType)(aa.e.request):e.loading.fetchGitRepositories=!0,e.error.fetchGitRepositories=null;break;case Object(f.getType)(aa.e.success):var n=t.payload,r=n.gitRepositories,a=n.total;e.gitRepositories=r,e.activeGitRepository=r.slice(-1)[0],e.total=a,e.loading.fetchGitRepositories=!1;break;case Object(f.getType)(aa.e.failure):e.loading.fetchGitRepositories=!1,e.error.fetchGitRepositories=t.payload;break;case Object(f.getType)(aa.g.request):e.loading.fetchSshKey=!0,e.error.fetchSshKey=null;break;case Object(f.getType)(aa.g.success):var o=t.payload.public_ssh_key;e.generatedSshKey=o,e.loading.fetchSshKey=!1;break;case Object(f.getType)(aa.g.failure):e.loading.fetchSshKey=!1,e.error.fetchSshKey=t.payload;break;case Object(f.getType)(aa.d.request):e.loading.deleteGitRepository=!0,e.error.deleteGitRepository=null;break;case Object(f.getType)(aa.d.success):var c,i=t.payload.repositoryId;e.gitRepositories=e.gitRepositories.filter((function(e){return e.id!==i})),(null===(c=e.activeGitRepository)||void 0===c?void 0:c.id)===i&&(e.activeGitRepository=null),e.loading.deleteGitRepository=!1;break;case Object(f.getType)(aa.d.failure):e.loading.deleteGitRepository=!1,e.error.deleteGitRepository=t.payload;break;case Object(f.getType)(aa.c.request):e.loading.connectGitRepository=!0,e.error.connectGitRepository=null;break;case Object(f.getType)(aa.c.success):e.activeGitRepository=t.payload,e.loading.connectGitRepository=!1;break;case Object(f.getType)(aa.c.failure):e.loading.connectGitRepository=!1,e.error.connectGitRepository=t.payload;break;case Object(f.getType)(aa.j.request):e.loading.updateGitRepository=!0,e.error.updateGitRepository=null;break;case Object(f.getType)(aa.j.success):e.activeGitRepository=t.payload,e.loading.updateGitRepository=!1;break;case Object(f.getType)(aa.j.failure):e.loading.updateGitRepository=!1,e.error.updateGitRepository=t.payload;break;case Object(f.getType)(aa.f.request):e.loading.fetchGitRepositoryStatus=!0,e.error.fetchGitRepositoryStatus=null;break;case Object(f.getType)(aa.f.success):e.activeRepositoryStatus=t.payload,e.loading.fetchGitRepositoryStatus=!1;break;case Object(f.getType)(aa.f.failure):e.loading.fetchGitRepositoryStatus=!1,e.error.fetchGitRepositoryStatus=t.payload;break;case Object(f.getType)(aa.b.request):e.loading.commitGitChanges=!0,e.error.commitGitChanges=null;break;case Object(f.getType)(aa.b.success):e.loading.commitGitChanges=!1;break;case Object(f.getType)(aa.b.failure):e.loading.commitGitChanges=!1,e.error.commitGitChanges=t.payload}}),oa),ia=n(118),sa=n(83),la=n(89),ua=n.n(la),da=n(40),fa=n(136),pa={error:{evaluation:null,uploadModel:null},trainingFailed:!1,currentTrainingProcesses:0,models:{},latestModelIsNew:!1,modelIsTraining:!1,modelExists:!1,total:0,confusionValues:[],cleanState:{training:!0,uploading:!0},evaluation:null,evaluationFilter:null,environments:[],environmentsHealth:{},loading:{evaluation:!1,models:!1,uploadModel:!1},f1Score:0,accuracy:0,filter:"all"},ma=n(22),ba={config:"",domain:"",domainWarnings:[],error:null},ha={error:{},loading:{},lookupTables:{},lookupTablesTotal:0,regexes:{},regexesTotal:0,selectedRegex:null};var ga,va={error:{},groupedResponses:[],loading:{},searchQuery:"",responseNames:[],total:0},ya=Object($r.a)((function(e,t){switch(t.type){case Object(f.getType)(an.b.request):e.loading.fetchGroupedResponses=!0,e.error.fetchGroupedResponses=null,e.searchQuery=t.payload.search;break;case Object(f.getType)(an.b.success):var n=t.payload,r=n.responses,a=n.total;e.total=a,e.responseNames=r.map((function(e){return e.response_name})),e.groupedResponses=r,e.loading.fetchGroupedResponses=!1;break;case Object(f.getType)(an.b.failure):e.loading.fetchGroupedResponses=!1,e.error.fetchGroupedResponses=t.payload;break;case Object(f.getType)(an.e.success):var o=t.payload,c=o.response_name,i=e.groupedResponses.findIndex((function(e){return e.response_name===c})),s=e.groupedResponses[i].responses.findIndex((function(e){return e.id===o.id}));e.groupedResponses[i].responses[s]=o;break;case Object(f.getType)(an.f.success):var u=t.payload,d=u.name,p=u.newName,m=e.groupedResponses.findIndex((function(e){return e.response_name===d}));e.groupedResponses[m].response_name=p,e.responseNames.splice(m,1,p);break;case Object(f.getType)(an.a.success):var b=Array.isArray(t.payload)?t.payload[0]:t.payload,h=e.groupedResponses.findIndex((function(e){return e.response_name===b.response_name})),g=e.groupedResponses[h].responses.findIndex((function(e){return e.id===b.id}));1===e.groupedResponses[h].responses.length?(e.groupedResponses.splice(h,1),e.responseNames=e.responseNames.filter((function(e){return e!==b.response_name}))):e.groupedResponses[h].responses.splice(g,1),e.total--;break;case Object(f.getType)(an.c.success):var v=t.payload,y=v.response_name,E=e.groupedResponses.findIndex((function(e){return e.response_name===y}));E>=0?e.groupedResponses[E].responses.push(v):(e.responseNames=[].concat(Object(l.a)(e.responseNames),[y]),e.groupedResponses.push({response_name:y,responses:[v]})),e.total++;break;case Object(f.getType)(an.d):e.searchQuery=t.payload}}),va);!function(e){e.Analytics="analytics_dashboard",e.Conversation="conversations",e.DeploymentEnvironment="deployment_environment",e.Model="models",e.Response="responses",e.Rule="rules",e.Story="stories",e.TestConversation="test_conversation",e.TrainingData="nlu_training_data",e.Git="git",e.Domain="domain"}(ga||(ga={}));var Ea={total:0,roles:{},roleUsers:{},permissions:[{label:"Talk to your bot",resource:ga.TestConversation,cannotModify:!0},{label:"Conversations",resource:ga.Conversation,cannotModify:!0},{label:"NLU Training Data",resource:ga.TrainingData},{label:"Rules",resource:ga.Rule},{label:"Stories",resource:ga.Story},{label:"Responses",resource:ga.Response},{label:"Models",resource:ga.Model},{label:"Analytics",resource:ga.Analytics,cannotModify:!0},{label:"Deployment",resource:ga.DeploymentEnvironment,cannotView:!0},{label:"Git status & commands",resource:ga.Git},{label:"Domain",resource:ga.Domain}]};var xa={rules:{},loading:!1,error:null,searchQuery:"",selectedRules:[],total:0,visualization:""};var Oa={stories:{},loading:!1,error:null,searchQuery:"",selectedStories:[],shouldReplaceStories:!1,storiesToConfirm:"",total:0,visualization:""};var ja={draftSuggestionExists:!1,error:null,loading:!1,searchQuery:"",searchQueryChanged:!1,suggestions:[],total:0,totalFetched:0},Ca=Object($r.a)((function(e,t){switch(t.type){case Object(f.getType)(or.d.request):e.loading=!0,e.searchQuery!==t.payload.search&&(e.searchQuery=t.payload.search,e.searchQueryChanged=!0);break;case Object(f.getType)(or.d.success):e.loading=!1;var n,r=t.payload,a=r.suggestions,o=r.total,c=r.offset;if(a.map((function(e){return e.user_input.intent_ranking=[e.user_input.intent].concat(Object(l.a)(e.user_input.intent_ranking.splice(1)))})),e.searchQueryChanged&&(e.suggestions=[],e.searchQueryChanged=!1),e.suggestions.length&&e.suggestions[0].id===a[0].id)break;if(0===c)e.suggestions=a;else(n=e.suggestions).splice.apply(n,[c||0,a.length].concat(Object(l.a)(a)));o&&(e.total=o,e.suggestions.length=o);break;case Object(f.getType)(or.d.failure):e.error=t.payload,e.loading=!1;break;case Object(f.getType)(or.h):if(t.payload<=e.totalFetched)break;e.totalFetched=t.payload;break;case Object(f.getType)(or.e.success):var i=t.payload,s=i.suggestionId,u=i.entities,d=i.synonyms;u.forEach((function(t,n){var r=e.suggestions.find((function(e){return e.id===s})).user_input.entities.findIndex((function(e){return e.id===t.id||e.start===t.start&&e.end===t.end}));e.suggestions.find((function(e){return e.id===s})).user_input.entities.splice(r,1,Object(G.a)({},t,{entity_synonym_id:d[n].id}))}));break;case Object(f.getType)(or.f.success):e.suggestions.splice(0,0,t.payload);break;case Object(f.getType)(Q.m.success):(Array.isArray(t.payload)?t.payload:[t.payload]).forEach((function(t){var n=e.suggestions.findIndex((function(e){return e.user_input.text===t.text}));n>=0&&e.suggestions.splice(n,1)})),e.total=e.suggestions.length;break;case Object(f.getType)(or.c.success):(Array.isArray(t.payload)?t.payload:[t.payload]).forEach((function(t){var n=e.suggestions.findIndex((function(e){return e.id===t.id}));n>=0&&e.suggestions.splice(n,1)})),e.total=e.suggestions.length;break;case Object(f.getType)(or.a):var p=e.suggestions.findIndex((function(e){return(null===e||void 0===e?void 0:e.id)===t.payload.id}));if(p<0)break;e.suggestions[p]=Object(G.a)({},t.payload,{isDirty:!0});break;case Object(f.getType)(or.b.success):e.draftSuggestionExists=t.payload;break;case Object(f.getType)(or.g):e.searchQuery=t.payload}}),ja),Sa={error:{},loading:{},references:[],searchQuery:"",synonyms:[],total:0},wa=Object($r.a)((function(e,t){switch(t.type){case Object(f.getType)(Z.b.request):e.loading.fetchSynonyms=!0,e.error.fetchSynonyms=null,e.searchQuery=t.payload.search;break;case Object(f.getType)(Z.b.success):var n=t.payload,r=n.synonyms,a=n.total;e.synonyms=r,e.references=r.map((function(e){return{id:e.id,synonym_reference:e.synonym_reference}})),e.total=a,e.loading.fetchSynonyms=!1;break;case Object(f.getType)(Z.b.failure):e.loading.fetchSynonyms=!1,e.error.fetchSynonyms=t.payload;break;case Object(f.getType)(Z.f.success):var o=t.payload,c=o.synonymId,i=o.valueId,s=o.newValue,u=e.synonyms.findIndex((function(e){return e.id===c})),d=e.synonyms[u].mapped_values.findIndex((function(e){return e.id===i}));e.synonyms[u].mapped_values[d].value=s;break;case Object(f.getType)(Z.e.success):var p=t.payload,m=p.synonymId,b=p.value,h=e.synonyms.findIndex((function(e){return e.id===m})),g=e.references.findIndex((function(e){return e.id===m}));e.synonyms[h].synonym_reference=b,e.references[g].synonym_reference=b;break;case Object(f.getType)(Z.a.success):var v=t.payload,y=e.synonyms.findIndex((function(e){return e.id===v.synonymId})),E=e.synonyms[y].mapped_values.findIndex((function(e){return e.id===v.valueId}));1===e.synonyms[y].mapped_values.length?(e.synonyms.splice(y,1),e.references=e.references.filter((function(e){return e.id!==v.synonymId}))):e.synonyms[y].mapped_values.splice(E,1),e.total--;break;case Object(f.getType)(Z.d.success):var x,O=t.payload,j=O.id,C=O.mapped_values,S=e.synonyms.findIndex((function(e){return e.id===j}));(x=e.synonyms[S].mapped_values).push.apply(x,Object(l.a)(C)),e.total++;break;case Object(f.getType)(Z.c.success):var w=t.payload,k=w.id,T=w.synonym_reference;e.references=[].concat(Object(l.a)(e.references),[{id:k,synonym_reference:T}]),e.synonyms.push(w),e.total++}}),Sa),ka={error:null,loading:!1,searchQuery:"",total:0,unfilteredTotal:0,users:{},currentUser:void 0},Ta={telemetry_enabled:!1,user_groups:[],user_id:""},Ra={analytics:Xr.b,application:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Object(f.getType)(x.a.success):return{version:t.payload};default:return e}},auth:Jr.e,examples:ra,gitRepositories:ca,interactiveLearning:ia.c,login:Jr.e,messages:sa.d,models:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Object(f.getType)($e.c.success):var n=ua.a.load(t.payload),r=n.rasa;return Object(G.a)({},e,{environments:Object.keys(r).filter((function(e){return"worker"!==e}))});case Object(f.getType)($e.e.success):return Object(G.a)({},e,{environmentsHealth:t.payload});case Object(f.getType)($e.k.request):return Object(G.a)({},e,{modelIsTraining:!0,cleanState:Object(G.a)({},e.cleanState,{training:!1}),trainingFailed:!1});case Object(f.getType)($e.k.success):var a=201!==t.payload.status;return Object(G.a)({},e,{modelIsTraining:!1,latestModelIsNew:a,trainingFailed:!1});case Object(f.getType)($e.k.failure):return Object(G.a)({},e,{modelIsTraining:!1,trainingFailed:!0});case Object(f.getType)($e.l.request):return Object(G.a)({},e,{cleanState:Object(G.a)({},e.cleanState,{uploading:!1}),loading:Object(G.a)({},e.loading,{uploadModel:!0}),error:Object(G.a)({},e.error,{uploadModel:null})});case Object(f.getType)($e.l.success):return Object(G.a)({},e,{loading:Object(G.a)({},e.loading,{uploadModel:!1})});case Object(f.getType)($e.l.failure):var o=t.payload.response&&409===t.payload.response.status;return Object(G.a)({},e,{modelExists:o,loading:Object(G.a)({},e.loading,{uploadModel:!1}),error:Object(G.a)({},e.error,{uploadModel:t.payload})});case Object(f.getType)($e.f.request):return Object(G.a)({},e,{loading:Object(G.a)({},e.loading,{models:!0})});case Object(f.getType)($e.f.success):var c=t.payload,i=c.models,s=c.total,l=c.offset,u=Object(fa.a)(e.models,i,l||0,(function(e,t){return e.model===t.model}),(function(e){return Object(G.a)({},e,{tags:e.tags.sort()})}));return Object(G.a)({},e,{models:u,total:s,loading:Object(G.a)({},e.loading,{models:!1})});case Object(f.getType)($e.b.success):var d=t.payload,p=function(e,t){return t.some((function(t){return t.model===e.model}))},m=Object.entries(e.models).reduce((function(e,t){var n=Object(Je.a)(e,2),r=n[0],a=n[1],o=Object(Je.a)(t,2),c=o[0],i=o[1];if(a<d.length&&p(i,d))return[Object(G.a)({},r),a+1];var s=String(Number(c)-a);return[Object(G.a)({},r,{[s]:i}),a]}),[{},0]),b=Object(Je.a)(m,2),h=b[0],g=b[1];return Object(G.a)({},e,{models:h,total:e.total-g});case Object(f.getType)($e.d.request):return Object(G.a)({},e,{loading:Object(G.a)({},e.loading,{evaluation:!0}),error:Object(G.a)({},e.error,{evaluation:null})});case Object(f.getType)($e.d.failure):return Object(G.a)({},e,{loading:Object(G.a)({},e.loading,{evaluation:!1}),error:Object(G.a)({},e.error,{evaluation:t.payload})});case Object(f.getType)($e.a.success):var v=t.payload,y=v.model,E=v.environment,x=Array.isArray(E)?E[0]:E;if(!x)return Object(G.a)({},e);var O=Object(da.mapValues)(e.models,(function(e){var t=e.tags.indexOf(x);return t>-1&&e.tags.splice(t,1),Object(da.isEqual)(e,y)&&!e.tags.includes(x)&&Object.assign(e,y.tags.push(x)),e}));return Object(G.a)({},e,{models:O});case Object(f.getType)($e.g):return Object(G.a)({},e,{evaluationFilter:t.payload});default:return e}},projects:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ba,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Object(f.getType)(kt.a.success):case Object(f.getType)(kt.d.success):return Object(G.a)({},e,{error:null,config:ua.a.dump(ua.a.load(t.payload))});case Object(f.getType)(kt.d.failure):return Object(G.a)({},e,{error:t.payload});case Object(f.getType)(kt.e.success):case Object(f.getType)(kt.b.success):return Object(G.a)({},e,{error:null,domain:ua.a.dump(ua.a.load(t.payload))});case Object(f.getType)(kt.c.success):var n=t.payload,r=n.total,a=Object(ma.a)(n,["total"]),o=Object.entries(a).flatMap((function(e){var t=Object(Je.a)(e,2),n=t[0],r=t[1];return Object.entries(r).flatMap((function(e){var t=Object(Je.a)(e,2),r=t[0];return t[1].map((function(e){return{element:n.replace("_warnings",""),location:r,value:e}}))}))}));return o.length!==r&&console.error("Something went wrong with flattening warnings"),Object(G.a)({},e,{domainWarnings:o});case Object(f.getType)(kt.e.failure):return Object(G.a)({},e,{error:t.payload});default:return e}},regexes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ha,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Object(f.getType)(X.h.success):var n=t.payload,r=n.regexes,a=n.total,o=n.offset,c=Object(fa.a)(e.regexes,r,o||0,(function(e,t){return e.id===t.id}));return Object(G.a)({},e,{regexes:c,regexesTotal:a});case Object(f.getType)(X.b.success):var i=t.payload,s=Object(G.a)({0:i},Object(da.reduce)(e.regexes,(function(e,t,n){return Object(G.a)({},e,{[(Number(n)+1).toString()]:t})}),{}));return Object(G.a)({},e,{regexes:s,regexesTotal:e.regexesTotal+1});case Object(f.getType)(X.d.success):var l=Array.isArray(t.payload)?t.payload:[t.payload],u=function(e,t){return t.some((function(t){return e.id===t.id}))},d=Object.entries(e.regexes).reduce((function(e,t){var n=Object(Je.a)(e,2),r=n[0],a=n[1],o=Object(Je.a)(t,2),c=o[0],i=o[1];if(a<l.length&&u(i,l))return[Object(G.a)({},r),a+1];var s=String(Number(c)-a);return[Object(G.a)({},r,{[s]:i}),a]}),[{},0]),p=Object(Je.a)(d,2),m=p[0],b=p[1];return Object(G.a)({},e,{regexes:m,regexesTotal:e.regexesTotal-b});case Object(f.getType)(X.i.success):var h=t.payload,g=Object(da.findKey)(e.regexes,(function(e){return e.id===h.id}));return Object(G.a)({},e,{regexes:g?Object(G.a)({},e.regexes,{[g]:h}):e.regexes});case Object(f.getType)(X.f.success):var v=t.payload,y=v.lookupTables,E=v.total,x=y.reduce((function(e,t,n){return Object(G.a)({},e,{[n]:Object(G.a)({},t)})}),e.lookupTables);return Object(G.a)({},e,{lookupTables:x,lookupTablesTotal:E});case Object(f.getType)(X.a.request):return Object(G.a)({},e,{loading:Object(G.a)({},e.loading,{createLookupTable:!0}),error:Object(G.a)({},e.error,{createLookupTable:null})});case Object(f.getType)(X.a.success):var O=t.payload,j=Object(G.a)({0:O},Object(da.reduce)(e.lookupTables,(function(e,t,n){return Object(G.a)({},e,{[(Number(n)+1).toString()]:t})}),{}));return Object(G.a)({},e,{lookupTables:j,loading:Object(G.a)({},e.loading,{createLookupTable:!1}),lookupTablesTotal:e.lookupTablesTotal+1});case Object(f.getType)(X.a.failure):return Object(G.a)({},e,{loading:Object(G.a)({},e.loading,{createLookupTable:!1}),error:Object(G.a)({},e.error,{createLookupTable:t.payload})});case Object(f.getType)(X.c.success):var C=Array.isArray(t.payload)?t.payload:[t.payload],S=function(e,t){return t.some((function(t){return e.id===t.id}))},w=Object.entries(e.lookupTables).reduce((function(e,t){var n=Object(Je.a)(e,2),r=n[0],a=n[1],o=Object(Je.a)(t,2),c=o[0],i=o[1];if(a<C.length&&S(i,C))return[Object(G.a)({},r),a+1];var s=String(Number(c)-a);return[Object(G.a)({},r,{[s]:i}),a]}),[{},0]),k=Object(Je.a)(w,2),T=k[0],R=k[1];return Object(G.a)({},e,{lookupTables:T,lookupTablesTotal:e.lookupTablesTotal-R});case Object(f.getType)(X.g.success):return Object(G.a)({},e,{selectedRegex:t.payload});default:return e}},responses:ya,roles:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ea,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Object(f.getType)(gn.d.success):var n=t.payload,r=n.total,a=n.roles;return Object(G.a)({},e,{roles:a.reduce((function(e,t,n){return Object(G.a)({},e,{[n.toString()]:t})}),{}),total:r});case Object(f.getType)(gn.c.success):var o=t.payload,c=o.role,i=o.users;return Object(G.a)({},e,{roles:Object(G.a)({},e.roles,{[c]:Object(G.a)({},e.roles[c],{users_count:i.length})})});case Object(f.getType)(gn.b.success):var s=t.payload;return Object(G.a)({},e,{roles:Object(G.a)({},e.roles,{[s.role]:s})});case Object(f.getType)(gn.f.success):return e;case Object(f.getType)(gn.g.success):var l=t.payload,u=l.currentId,d=l.role,p=Object.entries(e.roles).find((function(e){var t=Object(Je.a)(e,2);t[0];return t[1].role===u})),m=p?Object(G.a)({},e.roles,{[p[0]]:d}):Object.entries(e.roles).reduce((function(e,t){var n=Object(Je.a)(t,2),r=n[0],a=n[1];return Object(G.a)({},e,{[Number(r)+1]:a})}),{0:d});return Object(G.a)({},e,{roles:m,total:p?e.total:e.total+1});case Object(f.getType)(gn.a.success):var b=t.payload,h=function(e,t){return t.some((function(t){return t.role===e.role}))},g=Object.entries(e.roles).reduce((function(e,t){var n=Object(Je.a)(e,2),r=n[0],a=n[1],o=Object(Je.a)(t,2),c=o[0],i=o[1];if(a<b.length&&h(i,b))return[Object(G.a)({},r),a+1];var s=String(Number(c)-a);return[Object(G.a)({},r,{[s]:i}),a]}),[{},0]),v=Object(Je.a)(g,2),y=v[0],E=v[1];return Object(G.a)({},e,{roles:y,total:e.total-E});case Object(f.getType)(gn.e):var x=t.payload,O=x.role,j=x.updateFn,C=Object.values(e.roles).findIndex((function(e){return e.role===O}));return-1!==C?Object(G.a)({},e,{roles:Object(G.a)({},e.roles,{[C]:j(e.roles[C])})}):e;default:return e}},rules:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Object(f.getType)(Fn.f.request):return Object(G.a)({},e,{loading:!0,searchQuery:t.payload.search});case Object(f.getType)(Fn.f.success):var n=t.payload,r=n.rules,a=n.total,o=n.offset,c=a>=e.total?e.rules:{},i=Object(fa.a)(c,r,o||0,(function(e,t){return e.id===t.id}));return Object(G.a)({},e,{rules:i,total:a,loading:!1});case Object(f.getType)(Fn.f.failure):return Object(G.a)({},e,{loading:!1,error:t.payload});case Object(f.getType)(Fn.g.success):return Object(G.a)({},e,{visualization:t.payload});case Object(f.getType)(Fn.j.success):var s=t.payload;return Object(G.a)({},e,{rules:Object.entries(e.rules).map((function(e){var t=Object(Je.a)(e,2),n=t[0],r=t[1];return[n,r.id!==s.id?r:s]})).reduce((function(e,t){var n=Object(Je.a)(t,2),r=n[0],a=n[1];return Object(G.a)({},e,{[r]:a})}),{})});case Object(f.getType)(Fn.i.success):var l=Array.isArray(t.payload)?t.payload:[t.payload],u=Object(G.a)({},l.reduce((function(e,t,n){return Object(G.a)({},e,{[n.toString()]:t})}),{}),{},Object(da.reduce)(e.rules,(function(e,t,n){return Object(G.a)({},e,{[(Number(n)+l.length).toString()]:t})}),{}));return Object(G.a)({},e,{rules:u,total:Object.keys(u).length});case Object(f.getType)(Fn.d.success):var d=t.payload,p=Object.entries(e.rules).reduce((function(e,t){var n=Object(Je.a)(e,2),r=n[0],a=n[1],o=Object(Je.a)(t,2),c=o[0],i=o[1];if(i.id===d.id)return[Object(G.a)({},r),!0];var s=String(a?Number(c)-1:c);return[Object(G.a)({},r,{[s]:i}),a]}),[{},!1]),m=Object(Je.a)(p,1),b=m[0];return Object(G.a)({},e,{rules:b,total:e.total-1});case Object(f.getType)(Fn.c):return Object(G.a)({},e,{selectedRules:t.payload});default:return e}},stories:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Object(f.getType)(Wn.f.request):return Object(G.a)({},e,{loading:!0,searchQuery:t.payload.search});case Object(f.getType)(Wn.f.success):var n=t.payload,r=n.stories,a=n.total,o=n.offset,c=a>=e.total?e.stories:{},i=Object(fa.a)(c,r,o||0,(function(e,t){return e.id===t.id}));return Object(G.a)({},e,{stories:i,total:a,loading:!1});case Object(f.getType)(Wn.f.failure):return Object(G.a)({},e,{loading:!1,error:t.payload});case Object(f.getType)(Wn.g.success):return Object(G.a)({},e,{visualization:t.payload});case Object(f.getType)(Wn.m.success):var s=t.payload;return Object(G.a)({},e,{stories:Object.entries(e.stories).map((function(e){var t=Object(Je.a)(e,2),n=t[0],r=t[1];return[n,r.id!==s.id?r:s]})).reduce((function(e,t){var n=Object(Je.a)(t,2),r=n[0],a=n[1];return Object(G.a)({},e,{[r]:a})}),{})});case Object(f.getType)(Wn.i.success):var l=Array.isArray(t.payload)?t.payload:[t.payload],u=Object(G.a)({},l.reduce((function(e,t,n){return Object(G.a)({},e,{[n.toString()]:t})}),{}),{},Object(da.reduce)(e.stories,(function(e,t,n){return Object(G.a)({},e,{[(Number(n)+l.length).toString()]:t})}),{}));return Object(G.a)({},e,{stories:u,total:Object.keys(u).length});case Object(f.getType)(Wn.d.success):var d=t.payload,p=Object.entries(e.stories).reduce((function(e,t){var n=Object(Je.a)(e,2),r=n[0],a=n[1],o=Object(Je.a)(t,2),c=o[0],i=o[1];if(i.id===d.id)return[Object(G.a)({},r),!0];var s=String(a?Number(c)-1:c);return[Object(G.a)({},r,{[s]:i}),a]}),[{},!1]),m=Object(Je.a)(p,1),b=m[0];return Object(G.a)({},e,{stories:b,total:e.total-1});case Object(f.getType)(Wn.c):return Object(G.a)({},e,{selectedStories:t.payload});case Object(f.getType)(Wn.j):return Object(G.a)({},e,{searchQuery:t.payload});case Object(f.getType)(Wn.k):return Object(G.a)({},e,{shouldReplaceStories:t.payload});case Object(f.getType)(Wn.l):return Object(G.a)({},e,{storiesToConfirm:t.payload});default:return e}},suggestions:Ca,synonyms:wa,telemetry:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ta,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Object(f.getType)(Ar.a.success):return t.payload;default:return e}},users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ka,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Object(f.getType)(vn.c.request):return Object(G.a)({},e,{loading:!0,searchQuery:t.payload.search});case Object(f.getType)(vn.b.success):return Object(G.a)({},e,{currentUser:t.payload});case Object(f.getType)(vn.c.success):var n=t.payload,r=n.users,a=n.total,o=n.offset,c=n.search,i=e.total<Object.values(e.users).length,s=a>=e.total&&!i?e.users:{},l=Object(fa.a)(s,r,o||0,(function(e,t){return e.username===t.username}));return Object(G.a)({},e,{users:l,unfilteredTotal:""===c?a:e.unfilteredTotal,total:r.length,loading:!1});case Object(f.getType)(vn.g.success):return Object(G.a)({},e,{currentUser:t.payload});case Object(f.getType)(vn.d.success):var u=t.payload,d=u.user,p=u.userIndex;return Object(G.a)({},e,{users:Object(G.a)({},e.users,{[p]:d})});case Object(f.getType)(vn.a.success):var m=t.payload,b=function(e,t){return t.some((function(t){return t.username===e.username}))},h=Object.entries(e.users).reduce((function(e,t){var n=Object(Je.a)(e,2),r=n[0],a=n[1],o=Object(Je.a)(t,2),c=o[0],i=o[1];if(a<m.length&&b(i,m))return[Object(G.a)({},r),a+1];var s=String(Number(c)-a);return[Object(G.a)({},r,{[s]:i}),a]}),[{},0]),g=Object(Je.a)(h,2),v=g[0],y=g[1];return Object(G.a)({},e,{users:v,unfilteredTotal:e.unfilteredTotal-y,total:e.total-y});case Object(f.getType)(vn.e):var E=t.payload,x=e.users,O=E.reduce((function(e,t){var n=Object.values(e),r=n.findIndex((function(e){return e.username===t.username}));return-1!==r?e[r]=t:e[n.length]=t,e}),x);return Object(G.a)({},e,{users:O});case Object(f.getType)(vn.f):return Object(G.a)({},e,{searchQuery:t.payload});default:return e}}},Aa=Object(r.c)(Ra),_a=(Xr.a,Jr.b,ia.b,sa.c,n(742)),Ia=n.n(_a),Fa=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||r.d,Ua=Object(s.a)();t.a=function(e){var t=Object(a.a)({context:{history:e}}),n=[Ua.middleware,t],c=Fa(function(e){return Ia.a.enhancer({params:{q:{selector:function(t){if(!e.location)return"";switch(e.location.pathname){case"/nlu-inbox":return t.suggestions.searchQuery;case"/data/training-data":return t.examples.searchQuery;case"/responses":return t.responses.searchQuery;case"/users":return t.users.searchQuery;default:return""}},action:function(t){switch(e.location.pathname){case"/nlu-inbox":return Object(or.g)(t);case"/data/training-data":return Object(Q.n)(t);case"/responses":return Object(an.d)(t);case"/users":return Object(vn.f)(t);default:return null}},defaultValue:""}},initialTruth:"location",replaceState:!0,history:e})}(e),r.a.apply(void 0,n)),s=Object(o.b)({key:"root",storage:i.a,whitelist:["auth"]},Aa),l=Object(r.e)(s,c);return Qr.forEach((function(e){return t.run(e)})),{persistor:Object(o.c)(l),store:l}}},114:function(e,t,n){"use strict";n.d(t,"b",(function(){return M}));var r=n(4),a=n.n(r),o=n(5),c=n(2),i=n(11),s=n(20),l=n(10),u=n(32),d=n(31),f=n(17),p=n(51),m=n(44),b=n(54),h=a.a.mark(T),g=a.a.mark(R),v=a.a.mark(A),y=a.a.mark(_),E=a.a.mark(I),x=a.a.mark(F),O=a.a.mark(U),j=a.a.mark(N),C=a.a.mark(L),S=a.a.mark(D),w=a.a.mark(M),k=a.a.mark(P);function T(e){var t;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(o.b)(i.bb,e,"default");case 3:return t=n.sent,n.next=6,Object(o.f)(u.e.success(t));case 6:n.next=14;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,Object(s.a)(n.t0);case 12:return n.next=14,Object(o.f)(u.e.failure(n.t0));case 14:case"end":return n.stop()}}),h,null,[[0,8]])}function R(e){var t;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(o.b)(i.sb,e,"default");case 3:return t=n.sent,n.next=6,Object(o.f)(u.g.success(t));case 6:n.next=14;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,Object(s.a)(n.t0);case 12:return n.next=14,Object(o.f)(u.g.failure(n.t0));case 14:case"end":return n.stop()}}),g,null,[[0,8]])}function A(e,t){var n,r,c,l,d,f,p;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.payload,r=n.repositoryUrl,c=n.targetBranch,l=n.protectedBranch,d=n.username,f=n.password,a.prev=1,a.next=4,Object(o.b)(i.h,e,"default",r,c,l,d,f);case 4:return p=a.sent,a.next=7,Object(o.f)(u.c.success(p));case 7:a.next=15;break;case 9:return a.prev=9,a.t0=a.catch(1),a.next=13,Object(s.a)(a.t0);case 13:return a.next=15,Object(o.f)(u.c.failure(a.t0));case 15:case"end":return a.stop()}}),v,null,[[1,9]])}function _(e,t){var n,r,c,l,d,f,p;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.payload,r=n.repositoryId,c=n.targetBranch,l=n.protectedBranch,d=n.username,f=n.password,a.prev=1,a.next=4,Object(o.b)(i.jc,e,"default",r,c,l,d,f);case 4:return p=a.sent,a.next=7,Object(o.f)(u.j.success(p));case 7:a.next=15;break;case 9:return a.prev=9,a.t0=a.catch(1),a.next=13,Object(s.a)(a.t0);case 13:return a.next=15,Object(o.f)(u.j.failure(a.t0));case 15:case"end":return a.stop()}}),y,null,[[1,9]])}function I(e,t){var n,r;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.payload.repositoryId,a.prev=1,a.next=4,Object(o.b)(i.p,e,"default",n);case 4:return r=a.sent,a.next=7,Object(o.f)(u.d.success(r));case 7:a.next=15;break;case 9:return a.prev=9,a.t0=a.catch(1),a.next=13,Object(s.a)(a.t0);case 13:return a.next=15,Object(o.f)(u.d.failure(a.t0));case 15:case"end":return a.stop()}}),E,null,[[1,9]])}function F(e,t){var n,r,c;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(o.h)((function(e){return e.gitRepositories.activeGitRepository}));case 2:return n=a.sent,r=t.payload.repositoryId,a.prev=4,a.next=7,Object(o.b)(i.cb,e,"default",r||n.id);case 7:return c=a.sent,a.next=10,Object(o.f)(u.f.success(c));case 10:if(!c.is_remote_ahead){a.next=13;break}return a.next=13,P();case 13:a.next=21;break;case 15:return a.prev=15,a.t0=a.catch(4),a.next=19,Object(s.a)(a.t0);case 19:return a.next=21,Object(o.f)(u.f.failure(a.t0));case 21:case"end":return a.stop()}}),x,null,[[4,15]])}function U(e){var t,n;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:t=e.payload.repositoryId;case 1:return r.next=4,Object(o.f)(u.f.request({repositoryId:t}));case 4:return r.next=6,Object(o.h)((function(e){return e.gitRepositories.error.fetchGitRepositoryStatus}));case 6:return n=r.sent,r.next=9,Object(o.d)(n?1e4:6e4);case 9:r.next=1;break;case 11:case"end":return r.stop()}}),O)}function N(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(o.g)({poll:Object(o.b)(U,e),stop:Object(o.i)(Object(c.getType)(u.i))});case 2:case"end":return t.stop()}}),j)}function L(e,t){var n,r,c;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.payload,r=n.repositoryId,c=n.branchName,a.prev=1,a.next=4,Object(o.b)(i.f,e,"default",r,c);case 4:return a.next=6,Object(o.f)(u.b.success());case 6:return a.next=8,Object(o.f)(u.f.request({repositoryId:r}));case 8:a.next=16;break;case 10:return a.prev=10,a.t0=a.catch(1),a.next=14,Object(s.a)(a.t0);case 14:return a.next=16,Object(o.f)(u.b.failure(a.t0));case 16:case"end":return a.stop()}}),C,null,[[1,10]])}function D(e,t){var n,r,c,l,d;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.payload,r=n.repositoryId,c=n.branchName,l=n.force,d=void 0!==l&&l,a.prev=1,a.next=4,Object(o.b)(i.d,e,"default",r,c,d);case 4:return a.next=6,Object(o.f)(u.a.success());case 6:return a.next=8,Object(o.f)(u.f.request({repositoryId:r}));case 8:return a.next=10,P();case 10:a.next=18;break;case 12:return a.prev=12,a.t0=a.catch(1),a.next=16,Object(s.a)(a.t0);case 16:return a.next=18,Object(o.f)(u.a.failure(a.t0));case 18:case"end":return a.stop()}}),S,null,[[1,12]])}function M(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(o.f)(u.f.request({}));case 2:case"end":return e.stop()}}),w)}function P(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(o.a)([Object(o.f)(d.h.request({offset:0,limit:20})),Object(o.f)(d.f.request()),Object(o.f)(f.h.request({search:"",offset:0,limit:20})),Object(o.f)(f.i.request()),Object(o.f)(f.f.request()),Object(o.f)(m.d.request({search:"",offset:0,limit:20})),Object(o.f)(p.b.request({search:"",offset:0,limit:20})),Object(o.f)(b.b.request()),Object(o.f)(b.a.request())]);case 2:case"end":return e.stop()}}),k)}t.a=[Object(l.a)(Object(c.getType)(u.f.request),F,!0,!0),Object(l.a)(Object(c.getType)(u.g.request),R,!0,!0),Object(l.a)(Object(c.getType)(u.c.request),A,!0,!0),Object(l.a)(Object(c.getType)(u.j.request),_,!0,!0),Object(l.a)(Object(c.getType)(u.d.request),I,!0,!0),Object(l.a)(Object(c.getType)(u.e.request),T,!0,!0),Object(l.a)(Object(c.getType)(u.b.request),L,!0,!0),Object(l.a)(Object(c.getType)(u.a.request),D,!0,!0),Object(l.a)(Object(c.getType)(u.h),N,!1,!0)]},118:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return d}));var r,a=n(14),o=n(6),c=n(2),i=n(34),s=n(12),l=n(38);!function(e){e.Loading="loading",e.ClassifyingIntent="classifyingIntent",e.ConfirmingAction="confirmingAction",e.Ready="ready"}(r||(r={}));var u={conversationId:null,strictMode:!1,environment:"production",parsedMessage:null,parsedMessageConversationId:null,predictedAction:null,predictedActions:[],storyName:"New Story",savedStoryId:null,loading:{}};function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Object(c.getType)(i.d):return Object(o.a)({},e,{strictMode:t.payload});case Object(c.getType)(i.j.request):return Object(o.a)({},e,{loading:Object(o.a)({},e.loading,{parseMessage:!0})});case Object(c.getType)(i.j.success):case Object(c.getType)(i.b):return Object(o.a)({},e,{parsedMessage:t.payload,parsedMessageConversationId:e.conversationId,loading:Object(o.a)({},e.loading,{parseMessage:!1})});case Object(c.getType)(i.a):return Object(o.a)({},e,{parsedMessage:null,loading:Object(o.a)({},e.loading,{parseMessage:!0})});case Object(c.getType)(s.h.success):var n=t.payload.conversation,r=e.parsedMessageConversationId===n.sender_id;return Object(o.a)({},e,{parsedMessage:r?e.parsedMessage:null});case Object(c.getType)(i.k.request):return Object(o.a)({},e,{loading:Object(o.a)({},e.loading,{saveEvent:!0})});case Object(c.getType)(s.x.success):case Object(c.getType)(i.k.success):return Object(o.a)({},e,{parsedMessage:null,loading:Object(o.a)({},e.loading,{saveEvent:!1})});case Object(c.getType)(i.i.success):var d=t.payload,f=d.prediction,p=d.actions,m=Object(a.a)(f.scores).sort((function(e,t){return t.score-e.score})),b=[].concat(Object(a.a)(m),Object(a.a)(p.filter((function(e){return!m.find((function(t){return t.action!==e}))})).map((function(e){return{action:e,score:0}}))));return Object(o.a)({},e,{predictedActions:b,predictedAction:b[0]});case Object(c.getType)(i.c):var h=t.payload;return Object(o.a)({},e,{predictedAction:h});case Object(c.getType)(i.g.request):case Object(c.getType)(i.f.request):return Object(o.a)({},e,{loading:Object(o.a)({},e.loading,{confirmPrediction:!0})});case Object(c.getType)(i.g.success):case Object(c.getType)(i.f.success):return Object(o.a)({},e,{predictedActions:[],predictedAction:null,loading:Object(o.a)({},e.loading,{confirmPrediction:!1})});case Object(c.getType)(l.i.request):return Object(o.a)({},e,{loading:Object(o.a)({},e.loading,{saveStory:!0}),savedStoryId:null});case Object(c.getType)(l.i.success):return Object(o.a)({},u,{loading:Object(o.a)({},e.loading,{saveStory:!1}),savedStoryId:t.payload[0].id});case Object(c.getType)(i.e):return Object(o.a)({},u,{},t.payload);case Object(c.getType)(i.h.success):return Object(o.a)({},e,{conversationId:t.payload.sender_id});default:return e}}},12:function(e,t,n){"use strict";n.d(t,"h",(function(){return a})),n.d(t,"r",(function(){return o})),n.d(t,"x",(function(){return c})),n.d(t,"w",(function(){return i})),n.d(t,"a",(function(){return s})),n.d(t,"z",(function(){return l})),n.d(t,"A",(function(){return u})),n.d(t,"q",(function(){return d})),n.d(t,"s",(function(){return f})),n.d(t,"e",(function(){return p})),n.d(t,"c",(function(){return m})),n.d(t,"l",(function(){return b})),n.d(t,"k",(function(){return h})),n.d(t,"i",(function(){return g})),n.d(t,"m",(function(){return v})),n.d(t,"j",(function(){return y})),n.d(t,"g",(function(){return E})),n.d(t,"f",(function(){return x})),n.d(t,"b",(function(){return O})),n.d(t,"t",(function(){return j})),n.d(t,"B",(function(){return C})),n.d(t,"p",(function(){return S})),n.d(t,"n",(function(){return w})),n.d(t,"o",(function(){return k})),n.d(t,"y",(function(){return T})),n.d(t,"C",(function(){return R})),n.d(t,"u",(function(){return A})),n.d(t,"d",(function(){return _})),n.d(t,"v",(function(){return I}));var r=n(2),a=Object(r.createAsyncAction)("FETCH CONVERSATION","FETCH CONVERSATION SUCCESS","FETCH CONVERSATION FAILURE")(),o=Object(r.createStandardAction)("FETCH CONVERSATION (GUEST)")(),c=Object(r.createAsyncAction)("SAVE MESSAGE","SAVE MESSAGE SUCCESS","SAVE MESSAGE FAILURE")(),i=Object(r.createStandardAction)("SAVE MESSAGE (GUEST)")(),s=Object(r.createStandardAction)("CHANGE CONVERSATION ENVIRONMENT")(),l=Object(r.createStandardAction)("START POLLING MESSAGES")(),u=Object(r.createStandardAction)("STOP POLLING MESSAGES")(),d=Object(r.createAsyncAction)("FETCH CONVERSATIONS","FETCH CONVERSATIONS SUCCESS","FETCH CONVERSATIONS FAILURE")(),f=Object(r.createAsyncAction)("FETCH STATISTICS","FETCH STATISTICS SUCCESS","FETCH STATISTICS FAILURE")(),p=Object(r.createStandardAction)("DOWNLOAD CONVERSATION")(),m=Object(r.createAsyncAction)("DELETE CONVERSATION","DELETE CONVERSATION SUCCESS","DELETE CONVERSATION FAILURE")(),b=Object(r.createAsyncAction)("FETCH CONVERSATION INTENTS","FETCH CONVERSATION INTENTS SUCCESS","FETCH CONVERSATION INTENTS FAILURE")(),h=Object(r.createAsyncAction)("FETCH CONVERSATION ENTITIES","FETCH CONVERSATION ENTITIES SUCCESS","FETCH CONVERSATION ENTITIES FAILURE")(),g=Object(r.createAsyncAction)("FETCH CONVERSATION ACTIONS","FETCH CONVERSATION ACTIONS SUCCESS","FETCH CONVERSATION ACTIONS FAILURE")(),v=Object(r.createAsyncAction)("FETCH CONVERSATION POLICIES","FETCH CONVERSATION POLICIES SUCCESS","FETCH CONVERSATION POLICIES FAILURE")(),y=Object(r.createAsyncAction)("FETCH CONVERSATION CHANNELS","FETCH CONVERSATION CHANNELS SUCCESS","FETCH CONVERSATION CHANNELS FAILURE")(),E=Object(r.createAsyncAction)("FETCH CHAT TOKEN","FETCH CHAT TOKEN SUCCESS","FETCH CHAT TOKEN FAILURE")(),x=Object(r.createAsyncAction)("FETCH BOT DETAILS","FETCH BOT DETAILS SUCCESS","FETCH BOT DETAILS FAILURE")(),O=Object(r.createStandardAction)("CHANGE FILTER")(),j=Object(r.createAsyncAction)("FLAG MESSAGE","FLAG MESSAGE SUCCESS","FLAG MESSAGE FAILURE")(),C=Object(r.createAsyncAction)("UNFLAG MESSAGE","UNFLAG MESSAGE SUCCESS","UNFLAG MESSAGE FAILURE")(),S=Object(r.createAsyncAction)("FETCH CONVERSATION TAGS","FETCH CONVERSATION TAGS SUCCESS","FETCH CONVERSATION TAGS FAILURE")(),w=Object(r.createAsyncAction)("FETCH CONVERSATION SLOT NAMES","FETCH CONVERSATION SLOT NAMES SUCCESS","FETCH CONVERSATION SLOT NAMES FAILURE")(),k=Object(r.createAsyncAction)("FETCH CONVERSATION SLOT VALUES","FETCH CONVERSATION SLOT VALUES SUCCESS","FETCH CONVERSATION SLOT VALUES FAILURE")(),T=Object(r.createStandardAction)("SELECT INTENT")(),R=Object(r.createAsyncAction)("UPDATE REVIEW STATUS","UPDATE REVIEW STATUS SUCCESS","UPDATE REVIEW STATUS FAILURE")(),A=Object(r.createAsyncAction)("SAVE CONVERSATION TAGS","SAVE CONVERSATION TAGS SUCCESS","SAVE CONVERSATION TAGS FAILURE")(),_=Object(r.createAsyncAction)("DELETE CONVERSATION TAG","DELETE CONVERSATION TAG SUCCESS","DELETE CONVERSATION TAG FAILURE")(),I=Object(r.createAsyncAction)("SAVE E2E TEST","SAVE E2E TEST SUCCESS","SAVE E2E TEST FAILURE")()},136:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(7),a=n(14);function o(e,t,n,o,c){var i=t.reduce((function(e,t,r){var c=e.added,i=e.updated,s=e.items,l=s.length>n+r+c&&o(s[n+r+c],t);return{added:c+(l?0:1),updated:i+(l?1:0),items:[].concat(Object(a.a)(s.slice(0,n+r+c)),[t],Object(a.a)(s.slice(n+r+c+(l?1:0))))}}),{added:0,updated:0,items:Object.entries(e).map((function(e){var t=Object(r.a)(e,2);t[0];return t[1]}))}),s=i.items,l=i.added,u=i.updated;return 0===l&&0===u?e:s.reduce((function(e,t,n){return e[n]=c?c(t):t,e}),{})}},137:function(e,t,n){"use strict";var r=n(13),a=n(0),o=n(3),c=n(101),i=Object(r.default)(o.Flex).withConfig({displayName:"HoverFlex",componentId:"j3zq1z-0"})(["&:hover ","{display:block;}"],c.a);t.a=a.memo(i)},1429:function(e,t,n){"use strict";n.r(t);n(788);var r=n(0),a=n.n(r),o=n(85),c=n.n(o),i=n(13),s=n(21),l=n(72),u=n(730),d=n(154),f=n(239),p=n.n(f),m=n(423),b=n.n(m),h=n(1),g=n(52),v=n(113),y=n(22),E=n(6),x=n(14),O=n(7),j=n(3),C=n(275),S=n.n(C),w=n(1435),k=n(16),T=Object(i.default)(j.Flex).attrs((function(e){switch(e.variant){case"primary":return Object(E.a)({bg:"primary_2",color:"neutral_0"},e);case"error":return Object(E.a)({bg:"secondary_2",color:"neutral_0"},e)}})).withConfig({displayName:"Toast__Container",componentId:"q5tpyn-0"})([""," "," "," "," box-shadow:-3px 5px 20px 0 rgba(43,58,172,0.22);width:400px;text-align:left;transition:all ease 0.5s;"],k.maxWidth,k.letterSpacing,k.lineHeight,k.borderRadius);function R(e){var t=e.actions,n=e.head,a=e.children,o=(e.ref,e.onUnmount),c=e.icon,i=e.timeout,s=void 0===i?5e3:i,l=Object(y.a)(e,["actions","head","children","ref","onUnmount","icon","timeout"]);r.useEffect((function(){if(-1!==s){var e=setTimeout((function(){null===o||void 0===o||o()}),s);return function(){clearInterval(e)}}}),[o,s]);var u=r.createElement(r.Fragment,null,n&&(c?r.createElement(j.Flex,{flexDirection:"row",alignItems:"center"},c,r.createElement(h.i,{variant:"h2",inheritColor:!0},n)):r.createElement(h.i,{variant:"h2",inheritColor:!0},n))),d=a&&r.createElement(h.y,{inheritColor:!0,variant:"bodySecondary"},a);return r.createElement(T,l,r.createElement(j.Flex,{justifyContent:"space-between",mb:a?4:0},n?u:d,o&&r.createElement(h.d,{onClick:o,variant:"plainIconDark",p:0,pt:"2px",alignSelf:"flex-start",color:"inherit"},r.createElement(h.j,{icon:"times",fontSize:"16px"}))),n&&d,t&&r.createElement(j.Flex,{flexDirection:"row-reverse",mt:4},t))}T.defaultProps={variant:"primary",m:4,mt:-2,px:5,py:4,fontSize:2,letterSpacing:0,lineHeight:"normal",borderRadius:"16px",flexDirection:"column"};var A=n(33),_=n(1434);function I(){var e=Object(A.a)(["\n  from {\n    transform: translate3d(0, 0, 0);\n  }\n\n  to {\n    visibility: hidden;\n    transform: translate3d(-100%, 0, 0);\n  }\n"]);return I=function(){return e},e}function F(){var e=Object(A.a)(["\n  from {\n    transform: translate3d(-100%, 0, 0);\n    visibility: visible;\n  }\n\n  to {\n    transform: translate3d(0, 0, 0);\n  }\n"]);return F=function(){return e},e}function U(){var e=Object(A.a)(["\n  from {\n    transform: translate3d(0, 0, 0);\n  }\n\n  to {\n    visibility: hidden;\n    transform: translate3d(100%, 0, 0);\n  }\n"]);return U=function(){return e},e}function N(){var e=Object(A.a)(["\n  from {\n    transform: translate3d(100%, 0, 0);\n    visibility: visible;\n  }\n\n  to {\n    transform: translate3d(0, 0, 0);\n  }\n"]);return N=function(){return e},e}var L=Object(i.keyframes)(N()),D=Object(i.keyframes)(U()),M=(Object(i.keyframes)(F()),Object(i.keyframes)(I()),Object(i.default)(_.a).attrs({classNames:"slide-right"}).withConfig({displayName:"Transition__SlideRight",componentId:"sc-1f1b9kx-0"})(["&.slide-right-enter{animation:"," ","ms linear both;}&.slide-right-exit{animation:"," ","ms linear both;}"],L,(function(e){return e.duration}),D,(function(e){return e.duration}))),P=a.a.createContext({});function B(e){var t=a.a.useState([]),n=Object(O.a)(t,2),r=n[0],o=n[1],c=a.a.useCallback((function(e){o((function(t){return[].concat(Object(x.a)(t),[Object(E.a)({},e,{key:e.key||S()()})])}))}),[]),i=a.a.useCallback((function(e){o((function(t){return t.filter((function(t){return t.key!==e}))}))}),[]);return a.a.createElement(P.Provider,{value:{toasts:r,addToast:c,removeToast:i}},e.children,a.a.createElement(j.Flex,{flexDirection:"column-reverse",as:"ul",p:0,m:0,sx:{position:"fixed",right:0,bottom:0,zIndex:999}},a.a.createElement(w.a,{component:null},r.map((function(e){var t=e.content,n=e.key,r=e.onUnmount,o=Object(y.a)(e,["content","key","onUnmount"]);return a.a.createElement(M,{key:n,timeout:500,duration:200},a.a.createElement(R,Object.assign({as:"li",key:n,onUnmount:function(){n&&i(n),r&&r()}},o),t))})))))}B.defaultProps={p:4};var H=function(){return a.a.useContext(P)},q=n(23),G=a.a.createContext({});function V(e){var t=a.a.useState(!1),n=Object(O.a)(t,2),r=n[0],o=n[1],c=a.a.useState(null),i=Object(O.a)(c,2),s=i[0],l=i[1],u=a.a.useState(null),d=Object(O.a)(u,2),f=d[0],p=d[1],m=a.a.useState({}),b=Object(O.a)(m,2),h=b[0],g=b[1],v=a.a.useCallback((function(e){g((function(t){return Object(E.a)({},t,{[e.source]:e})}))}),[]),y=a.a.useCallback((function(e){return function e(t,n){if(!t)return n;var r=h[t];return r?e(r.nextSource,r.canBeShown?[].concat(Object(x.a)(n),[t]):n):n}(e,[])}),[h]),j=a.a.useCallback((function(e){var t=y(f);!e&&t.length>0?p(t[0]):t.length>=2?p(t[1]):p(null)}),[f,p,y]),C=Object(q.h)();a.a.useEffect((function(){r&&C("conversation:hints:enable")}),[C,r]);var S=a.a.useMemo((function(){return y(s)}),[s,y]),w=a.a.useMemo((function(){return y(f)}),[f,y]);return a.a.createElement(G.Provider,{value:{hintsEnabled:r,initialHint:s,currentHint:f,allHints:S,nextHints:w,getNextHints:y,setHintsEnabled:o,setInitialHint:l,setCurrentHint:p,addHint:v,updateCurrentHint:j}},e.children)}var z=function(){return a.a.useContext(G)},W=n(18),Y=n(97);function K(e){var t=e.link;return r.createElement(h.y,{variant:"bodySecondary",fontWeight:400,as:"a",target:"_blank",href:t.href,color:"neutral_0",onClick:function(){var e;null===(e=t.action)||void 0===e||e.call(t)}},t.title)}var Q=Object(i.default)(f.BaseModalBackground).attrs((function(){return{"data-e2e":"ModalBackground"}})).withConfig({displayName:"OnboardingStep__StyledDimmable",componentId:"mj904u-0"})(["z-index:110;opacity:1;transition:all cubic-bezier(0.46,0.1,0.52,0.98) 250ms;"]);function X(){var e=te(),t=e.onboardingShown,n=e.currentOnboardingHint,a=e.currentDetachedStep,o=e.nextSteps,c=e.setOnboardingShown,i=e.setCurrentDetachedStep;if(t&&(null!=a||o.length>0)){var s=a||o[0];return r.createElement(W.d,{flexDirection:"column-reverse",as:"div",p:0,mr:32,mb:92,sx:{position:"fixed",right:0,bottom:0,zIndex:120}},s.showDarkBackground&&!n&&r.createElement(Q,null),!n&&r.createElement(Y.a,{borderRadius:"large",boxShadow:"8px 9px 21px 0 rgba(0, 0, 0, 0.25)",bg:"primary_2",arrow:!1,p:4,pb:3,mx:0,textAlign:"left",heading:s.title,visible:!0,disabled:!1,interactive:!0,placement:"bottom-end",onCloseClick:function(){var e;c(!1),i(null),null===(e=s.onClose)||void 0===e||e.call(s)},content:r.createElement(W.a,{sx:{width:"352px"}},r.createElement(W.a,{sx:{width:"320px"}},r.createElement(h.y,{color:"neutral_0",as:"div",variant:"bodySecondary"},s.content),s.links&&r.createElement(W.d,{flexDirection:"column",mt:2},s.links.map((function(e,t){return r.createElement(K,{key:s.name+"_"+t,link:e})})))),s.action&&r.createElement(W.d,{mt:4},r.createElement(W.d,{sx:{marginLeft:"auto"}},r.createElement(h.d,{ml:3,variant:"plain",onClick:function(){var e;c(!1),i(null),null===(e=s.onClose)||void 0===e||e.call(s)}},"Not right now"),r.createElement(h.d,{ml:3,variant:"inverse",onClick:function(){var e;null===(e=s.action)||void 0===e||e.call(s)}},"Let's do it"))))}))}return null}function Z(e){var t=e.currentUser,n=te(),a=n.currentDetachedStep,o=n.setOnboardingShown,c=n.nextSteps;if(t&&(null!=a||c.length>0)){var i=a||c[0];return r.createElement(j.Flex,{as:"div",p:0,m:0,sx:{position:"fixed",right:0,bottom:0,zIndex:130}},r.createElement(h.d,{mr:5,mb:5,variant:"onboardingIcon",onClick:function(){o(!0)}},i.icon||"?"),i.showBadge&&r.createElement(h.c,{sx:{position:"absolute",left:"32px"}},c.length))}return null}X.defaultProps={appendTo:document.body,offset:[0,8]};var J=n(43),$=a.a.createContext({});function ee(e){var t=Object(l.g)().push,n=Object(s.c)(),r=Object(q.h)(),o=Object(s.d)((function(e){return e.users.currentUser})),c=a.a.useState(!1),i=Object(O.a)(c,2),u=i[0],d=i[1],f=a.a.useState(null),p=Object(O.a)(f,2),m=p[0],b=p[1],h=a.a.useState(null),v=Object(O.a)(h,2),y=v[0],E=v[1],j=a.a.useState(null),C=Object(O.a)(j,2),S=C[0],w=C[1],k=[{name:"onboarding_welcome",title:"Welcome to Rasa X!",icon:"\ud83d\udc4b",content:"Rasa X will help you develop and improve your assistant. To help get you started we can show you the most important parts.",showDarkBackground:!0,showBadge:!1,onClose:function(){r("Prompt Clicked",{prompt:"Onboarding Welcome",action:"Dismiss"})},action:function(){r("Prompt Clicked",{prompt:"Onboarding Welcome",action:"Start"}),b("connect_repo")}},{name:"onboarding_populate_model",title:"You have a repo connected",content:"Now it\u2019s time to train and activate a model.",showBadge:!0,action:function(){t("/models"),b("upload_model")}},{name:"onboarding_share_bot",title:"Your assistant is up and running",content:"Now you can get your assistant talking to test users.",showBadge:!0,action:function(){t("/conversations"),b("share_bot")}},{name:"onboarding_annotate_data",title:"Your assistant is talking to users",content:"Now let\u2019s use those conversations to improve your assistant\u2019s NLU classification.",showBadge:!0,action:function(){t("/nlu-inbox"),E({name:"annotate_data",title:"Improve your assistant with data from real conversations",content:"The NLU Inbox collects new messages that dont yet exist in your training data. The Mark Correct button adds the message as a training example with the selected intent. Add it straight away if the prediction is correct, or correct the intent before adding if the prediction was wrong.",showDarkBackground:!1,showBadge:!0,links:[{title:"Learn more about annotating NLU examples",href:"//rasa.com/docs/rasa-x/user-guide/annotate-nlu-examples/"}]})}},{name:"onboarding_push_changes",title:"You\u2019ve added improvements to your training data",content:"Now it\u2019s time to push updates to Git and activate a new model so your assistant can use that new training data.",showBadge:!0,action:function(){t("/data/training-data"),b("push_changes")}},{name:"onboarding_end",icon:"\ud83c\udf89",title:"Nice work! Now you can continue building and improving your assistant.",content:"You\u2019ll see the most benefit when you repeat these steps: a continuous loop of improvement, based on conversation with real users. Next you may want to learn more about:",onClose:function(){r("Prompt Clicked",{prompt:"Onboarding Complete",action:"Dismiss"})},links:[{title:"CI/CD for your assistant",href:"//rasa.com/docs/rasa-x/installation-and-setup/deploy/#set-up-initial-ci-cd",action:function(){r("Prompt Clicked",{prompt:"Onboarding Complete",action:"CI/CD Link",link:"//rasa.com/docs/rasa-x/installation-and-setup/deploy/#set-up-initial-ci-cd"})}},{title:"Adding a custom action server",href:"//rasa.com/docs/rasa/user-guide/how-to-deploy/#using-your-custom-action-server-image",action:function(){r("Prompt Clicked",{prompt:"Onboarding Complete",action:"Action Server Link",link:"//rasa.com/docs/rasa/user-guide/how-to-deploy/#using-your-custom-action-server-image"})}},{title:"Connecting to a messaging channel",href:"//rasa.com/docs/rasa-x/installation-and-setup/deploy/#connect-external-channels",action:function(){r("Prompt Clicked",{prompt:"Onboarding Complete",action:"Message Channel Link",link:"//rasa.com/docs/rasa-x/installation-and-setup/deploy/#connect-external-channels"})}}],showBadge:!1}],T=a.a.useMemo((function(){return k.filter((function(e){var t,n=null===o||void 0===o||null===(t=o.data)||void 0===t?void 0:t.viewed_hints;return!n||-1===n.indexOf(e.name)}))}),[k,o]);a.a.useEffect((function(){w(T[0].name)}),[T]);var R=a.a.useCallback((function(e){if(o){var t=o.data&&o.data.viewed_hints?o.data.viewed_hints:[];-1===t.indexOf(e)&&(o.data={viewed_hints:[].concat(Object(x.a)(t),[e])},n(J.g.request(o)))}}),[o,n]);return a.a.useEffect((function(){"onboarding_welcome"===S&&d(!0)}),[S]),a.a.createElement($.Provider,{value:{onboardingShown:u,currentOnboardingHint:m,currentDetachedStep:y,onboardingSteps:k,nextSteps:T,setOnboardingShown:d,setCurrentOnboardingHint:b,setCurrentDetachedStep:E,removeStep:R,currentOnboardingStep:S,setCurrentOnboardingStep:w}},e.children,!!o&&!g.a&&g.b&&a.a.createElement(a.a.Fragment,null,a.a.createElement(Z,{currentUser:o}),a.a.createElement(X,null)))}var te=function(){return a.a.useContext($)},ne=n(139);function re(){var e=Object(A.a)(["\n  * {\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    font-family: Lato, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen-Sans, Ubuntu,\n      Cantarell, 'Helvetica Neue', sans-serif;\n      letter-spacing: 0.6px;\n    }\n    \n    *, *:hover, *:focus {\n      outline: none;\n    }\n    \n    *::-moz-focus-inner {\n      border: none;\n    }\n    \n    html, body, #root {\n      height: 100%;\n      margin: 0;\n      padding: 0;\n  }\n\n  body {\n    background-color: #fff !important;\n  }\n\n  .defaultEditorStyles {\n    color: #252D40;\n    font-size: 13px;\n  }\n\n  ","\n"]);return re=function(){return e},e}function ae(){var e=Object(A.a)(["\n  ","\n"]);return ae=function(){return e},e}function oe(){var e=Object(A.a)(["\n  ","\n\n  ","\n\n  ","\n"]);return oe=function(){return e},e}var ce=Object(i.css)(oe(),Object(ne.a)({fontFamily:"Lato",fontFilePath:"".concat("","/fonts/lato-v14-latin/lato-v14-latin-regular"),fontStyle:"normal",fontWeight:"400",fileFormats:["woff2","woff","ttf","svg"]}),Object(ne.a)({fontFamily:"Lato",fontFilePath:"".concat("","/fonts/lato-v14-latin/lato-v14-latin-700"),fontStyle:"normal",fontWeight:"700",fileFormats:["woff2","woff","ttf","svg"]}),Object(ne.a)({fontFamily:"IBM Plex Mono",fontFilePath:"".concat("","/fonts/ibm-plex-mono-v4-latin/ibm-plex-mono-v4-latin-regular"),fontStyle:"normal",fontWeight:"400",fileFormats:["woff2","woff","ttf","svg"]})),ie=(Object(i.createGlobalStyle)(ae(),ce),Object(i.createGlobalStyle)(re(),ce)),se=n(28),le=n(27),ue=n(32),de=n(67),fe=n.n(de),pe=n(30),me=n(8),be=n(44),he=n(189),ge=n(99);var ve=r.memo((function(e){var t=e.value;return r.createElement(h.y,{as:"div",color:"neutral_0",backgroundColor:"primary_2",py:1,px:2,sx:{fontWeight:"bold",fontSize:"12px",borderRadius:"14px"}},t)}));function ye(){var e=Object(A.a)(["\n            transform: scaleY(0);\n            opacity: 0;\n          "]);return ye=function(){return e},e}function Ee(){var e=Object(A.a)(["\n            transform: scaleY(1);\n            opacity: 1;\n          "]);return Ee=function(){return e},e}function xe(){var e=Object(A.a)(["\n      "," ","\n    "]);return xe=function(){return e},e}var Oe=Object(k.variant)({key:"menuItem"}),je=Object(i.default)(j.Box).withConfig({displayName:"MenuItem__Container",componentId:"sc-1k0m975-0"})([""," "," "," "," position:relative;flex-shrink:0;transition:background-color 0.2s ease,color 0.2s ease;cursor:",";"," &:before{content:'';width:4px;height:100%;"," position:absolute;left:0;"," border-radius:2px;transition:transform cubic-bezier(0.51,0.92,0.24,1.15) 0.2s;","}"],Oe,k.height,k.alignItems,k.display,(function(e){return e.onClick?"pointer":"default"}),(function(e){return e.active&&Object(i.css)(xe(),ge.c,ge.b)}),Object(k.system)({lineBeforeColor:{property:"backgroundColor",scale:"colors"}}),(function(e){return e.active?Object(i.css)(Ee()):Object(i.css)(ye())}),(function(e){return!e.lineBefore&&"display: none;"}));function Ce(e){var t=e.rightIcon,n=e.children,a=e.icon,o=e.p,c=e.badge,i=Object(y.a)(e,["rightIcon","children","icon","p","badge"]);return r.createElement(je,Object.assign({width:"100%",p:o},i,{"data-e2e":"component:menu-item"}),r.createElement(j.Flex,{width:"100%",flexDirection:"row",alignItems:"center"},a&&r.createElement(j.Box,{flex:"0 0 40px",style:{textAlign:"center",lineHeight:1},pr:3},a),r.createElement(h.y,{style:{whiteSpace:"nowrap",flexGrow:1},inheritColor:!0,variant:"bodySecondary",as:"div"},n),c&&r.createElement(ve,{value:c}),t&&r.createElement(j.Box,{pr:3},t)))}function Se(e){var t=e.onNavigate;return r.createElement(he.a,{flexDirection:"column",width:248,py:2},r.createElement(pe.a,{resource:me.d.Users,action:me.a.Read,yes:r.createElement(Ce,{p:2,onClick:function(){return t("/users")},height:48,pl:5},"Manage users")}),r.createElement(pe.a,{resource:me.d.Roles,action:me.a.Read,yes:r.createElement(Ce,{p:2,onClick:function(){return t("/roles")},height:48,pl:5},"Manage roles")}))}je.defaultProps={lineBeforeColor:"primary_2",colorActive:"neutral_0",bgActive:"dark_2"},Ce.defaultProps={as:"li",icon:null,textAlign:"left",height:48,alignItems:"center",p:3,display:"flex",variant:"default",lineBefore:!0};var we=Object(k.system)({widthHover:{property:"width",scale:"space"}}),ke=Object(i.default)(j.Flex).withConfig({displayName:"Aside",componentId:"p8q4xd-0"})(["height:100%;position:absolute;transition:width 0.2s cubic-bezier(0.51,0.92,0.24,1.15);&:hover{"," box-shadow:0 0 4px 0 rgba(24,30,46,0.55);}"],we);ke.defaultProps={as:"aside",bg:"dark_1",width:"56px",widthHover:"248px",flexDirection:"column",alignItems:"flex-start"};var Te=r.memo(ke);function Re(e){return r.createElement(Y.a,Object.assign({boxShadow:"-3px 5px 13px 0 rgba(0, 0, 0, 0.18)",bg:"dark_1",arrow:!1,placement:"right-end",offset:[0,4],appendTo:"parent",borderRadius:"normal",interactive:!0,animation:"shift-away",sticky:!0,inertia:!0,interactiveBorder:4,delay:[100,100]},e))}var Ae=Object(i.default)(j.Box).withConfig({displayName:"IconBadge__Box",componentId:"sc-1k437im-0"})([""]),_e=Ae;function Ie(e){var t=e.top,n=e.right,a=void 0===n?"default":n,o=e.left,c=void 0===o?"default":o,i=e.show,s=e.color,l=void 0===s?"primary_1":s,u=e.borderColor,d=void 0===u?"neutral_0":u,f=e.size,p=void 0===f?"9px":f;return i?r.createElement(Ae,{bg:l,sx:{top:t,right:a,left:c,position:"absolute",width:p,height:p,borderRadius:"50%",borderWidth:"2px",borderStyle:"solid",borderColor:d}}):null}function Fe(e){var t=e.children,n=e.content,a=e.title,o=Object(y.a)(e,["children","content","title"]);return r.createElement(Y.a,Object.assign({borderRadius:"large",boxShadow:"8px 9px 21px 0 rgba(0, 0, 0, 0.25)",bg:"rgba(44, 57, 81, 0.96)",placement:"right-start",animation:"shift-away",content:r.createElement(j.Box,{sx:{width:"320px"}},n),delay:[500,0],arrow:!0,offset:[0,16],px:4,pt:3,pb:4,textAlign:"left",heading:a,inlinePositioning:!0},o),r.createElement(j.Box,{width:1},t))}var Ue={primary:{},secondary:{height:48,pl:5,lineBefore:!1}};function Ne(e){var t=e.permission,n=void 0===t?[]:t,a=e.title,o=e.description,c=e.path,i=e.match,s=e.icon,u=e.badge,d=e.variant,f=void 0===d?"primary":d,p=Object(l.g)(),m=p.push,b=p.location,g=r.useCallback((function(){return m(c)}),[m,c]),v=r.useMemo((function(){return!!Object(l.f)(b.pathname,{path:i||c})}),[b.pathname,i,c]),y=Object(O.a)(n,2),E=y[0],x=y[1];if(!Object(q.e)(E,x))return null;var j=Ue[f];return o?r.createElement(Fe,{title:a,content:o},r.createElement(Ce,Object.assign({onClick:g,active:v,"aria-label":a,icon:s&&r.createElement(r.Fragment,null,r.createElement(Ie,{show:!!u,top:"10px",left:"28px",color:"primary_3",borderColor:"neutral_7",size:"12px"}),r.createElement(h.j,{icon:s})),badge:u},j),a)):r.createElement(Ce,Object.assign({onClick:g,active:v,icon:s&&r.createElement(r.Fragment,null,r.createElement(Ie,{show:!!u,top:"10px",left:"28px",color:"primary_3",borderColor:"neutral_7",size:"12px"}),r.createElement(h.j,{icon:s})),badge:u},j),a)}function Le(e){var t=e.activeGitRepository,n=e.activeRepositoryStatus,a=e.gitStatus,o=e.gitStatusColor,c=e.gitStatusCopy,i=e.isCommittingToNewBranch,s=e.setCommittingToNewBranch;return r.createElement(r.Fragment,null,r.createElement(j.Flex,{sx:{borderBottom:"solid 1px #f2f4fa"},px:4,py:4},r.createElement(j.Box,{size:20,bg:o(a),sx:{borderRadius:"4px"},mr:"12px"}),r.createElement(h.y,{as:"div",variant:"bodySecondary"},r.createElement(j.Box,{as:"strong"},"Status:")," ",c(a))),r.createElement(j.Box,{px:6,py:4,color:"conflicts"===a?"neutral_6":"neutral_8"},r.createElement(h.i,{variant:"h5",mb:2},"Commit these changes to:"),r.createElement(j.Box,{as:"label",mb:2,sx:{display:"block"}},r.createElement(j.Flex,{alignItems:"center",color:"conflicts"===a||(null===t||void 0===t?void 0:t.is_target_branch_protected)?"neutral_6":"inherit"},r.createElement(j.Box,{mr:2},r.createElement(h.f,{variant:"radio",checked:!i,onChange:function(){return s(!1)},disabled:"conflicts"===a||!!(null===t||void 0===t?void 0:t.is_target_branch_protected)})),r.createElement(j.Box,null,r.createElement(h.y,{as:"div",variant:"bodySecondary",inheritColor:!0},null===n||void 0===n?void 0:n.current_branch)))),r.createElement(j.Box,{as:"label"},r.createElement(j.Flex,{alignItems:"center"},r.createElement(j.Box,{mr:2},r.createElement(h.f,{variant:"radio",checked:i,onChange:function(){return s(!0)}})),r.createElement(j.Box,null,r.createElement(h.y,{as:"div",variant:"bodySecondary",inheritColor:!0},"New branch")))),i&&r.createElement(h.a,{variant:"success",m:0,py:"14px",mt:4,mb:2},r.createElement(h.y,{as:"i",variant:"bodySecondary",lineHeight:"initial",inheritColor:!0},r.createElement(j.Box,{as:"strong"},"Note:")," When you add your changes, you will return to match the latest Git server changes. You must merge your new branch into"," ",null===n||void 0===n?void 0:n.current_branch," on the Git server to see those changes reflected here."))))}var De=n(746),Me=n.n(De),Pe=n(26);function Be(){var e=Object(A.a)(["\n      top: ",";\n      left: ",";\n      transform: translate(",", ",");\n      border-","-","-radius: ",";\n      border-",": 0 none;\n      border-",": 0 none;\n    "]);return Be=function(){return e},e}var He=Object(i.default)(j.Card).withConfig({displayName:"Clipboard__StyledClipboard",componentId:"sc-1607kll-0"})(["position:absolute;overflow:hidden;"," & .ClipboardButton{border:0;padding:0;cursor:pointer;width:24px;height:24px;"," ","}"],(function(e){var t=e.theme,n=e.top,r=e.left;return Object(i.css)(Be(),n?0:"100%",r?0:"100%",r?0:"-100%",n?0:"-100%",n?"bottom":"top",r?"right":"left",t.radii.normal,n?"top":"bottom",r?"left":"right")}),k.color,ge.d);function qe(e){var t=e.text,n=(e.ref,e.onCopy),a=Object(y.a)(e,["text","ref","onCopy"]),o=r.useState(!1),c=Object(O.a)(o,2),i=c[0],s=c[1];return r.useEffect((function(){if(i){n&&n();var e=setTimeout((function(){return s(!1)}),5e3);return function(){return clearTimeout(e)}}}),[i,n]),r.createElement(He,Object.assign({color:"neutral_6",bg:"neutral_2",colorHover:"neutral_7",sx:{border:"1px solid",borderColor:"neutral_5"}},a),r.createElement(Pe.a,{content:i?"Successfully copied":"Copy to clipboard"},r.createElement(Me.a,{as:"button","button-className":"ClipboardButton","data-clipboard-text":t,onSuccess:function(){return s(!0)}},r.createElement(h.j,{icon:["far","clone"],fontSize:"12px"}))))}function Ge(e){var t=e.preformatted,n=e.children,a=e.onCopy,o=e.disabled,c=e.fullSize,i=e.clipboardText,s=Object(y.a)(e,["preformatted","children","onCopy","disabled","fullSize","clipboardText"]),l=r.useMemo((function(){return i||(Array.isArray(n)?n.join(t?"\n":""):n)}),[n,i,t]);return r.createElement(j.Card,Object.assign({bg:"neutral_1"},s,{sx:Object(E.a)({position:"relative",maxHeight:"280px",overflow:"hidden",borderColor:"neutral_5",borderRadius:"normal",borderWidth:"1px",borderStyle:"solid"},c?{height:"100%",overflow:"auto"}:{})}),r.createElement(qe,{text:l,onCopy:a&&a}),r.createElement(h.y,{variant:"code",color:o?"neutral_6":"neutral_8",style:{overflow:"auto",textOverflow:"initial",wordBreak:"break-all",display:"block"}},t&&Array.isArray(n)?n.map((function(e,t){return r.createElement("pre",{key:t,style:{margin:0}},e)})):n))}qe.defaultProps={top:!0,left:!1},Ge.defaultProps={p:20};var Ve=n(81);function ze(e){var t=e.style,n=e.ml,a=void 0===n?2:n,o=e.color,c=void 0===o?"neutral_6":o,i=Object(y.a)(e,["style","ml","color"]);return r.createElement(j.Box,{ml:a,style:t},r.createElement(Pe.a,i,r.createElement(h.j,{color:c,icon:"info-circle"})))}function We(e){var t=e.activeGitRepository,n=e.errorConnectGitRepository,a=e.generatedSshKey,o=e.gitStatus,c=e.httpsUsername,i=e.httpsPassword,s=e.onFetchSshKey,l=e.protectedBranch,u=e.repositoryUrl,d=e.setHttpsUsername,f=e.setHttpsPassword,p=e.setProtectedBranch,m=e.setRepositoryUrl,b=e.setTargetBranch,v=e.targetBranch,y=e.toggleSSH,E=e.usingSSH,x=r.useState(null),C=Object(O.a)(x,2),S=C[0],w=C[1],k=r.useState(!1),T=Object(O.a)(k,2),R=T[0],A=T[1],_=r.useState(null),I=Object(O.a)(_,2),F=I[0],U=I[1],N=/^(http(|s)\:\/\/)([^\s]+(:\d+)?)(\/)([^\s]+?)(\.git)?$/,L=/^(ssh:\/\/)?([^\s]+@)([^\s]+(:\d+)?)(?::)([^\s]+?)(\.git)$/;r.useEffect((function(){a||"notConnected"!==o||s()}),[o,a,s]),r.useEffect((function(){t&&(b(t.target_branch),p(t.is_target_branch_protected))}),[t,b,p]);var D=r.useMemo((function(){return n||null!==S&&!S}),[n,S]),M=r.useCallback((function(){A(!1),w(!1),E&&L.test(u)?w(!0):N.test(u)&&(A(!0),E?U(u.replace(N,"git@$3:$6$7")):w(!0))}),[u,N,L,E]);return r.useEffect((function(){u.length>0&&M()}),[M,u.length,E]),r.createElement(j.Box,{sx:{height:"483px",overflow:"auto",position:"relative"}},D&&r.createElement(j.Box,{width:1,sx:{position:"fixed",zIndex:1}},r.createElement(h.a,{variant:"error",p:0,m:0,block:!0,py:"14px"},r.createElement(h.y,{variant:"bodySecondary",inheritColor:!0,textAlign:"center",width:1},!S&&R&&F&&E?r.createElement(r.Fragment,null,"Did you mean to enter the SSH url: ",r.createElement("strong",null,F),"?"):S?"Something went wrong. Please try again.":"Please provide valid values for the highlighted fields."))),r.createElement(j.Box,{mt:D?7:0},t&&r.createElement(h.y,{variant:"bodySecondary",px:6,py:4,backgroundColor:"neutral_1"},"You are connected to the repository:"," ",r.createElement(j.Box,{as:"strong"},t.repository_url)),r.createElement(j.Box,{px:6,py:4},!t&&r.createElement(Ve.a,{onClick:function(e){return e.preventDefault()},text:r.createElement(j.Flex,{flexDirection:"row",justifyContent:"space-between"},r.createElement(j.Flex,null,"".concat(E?"SSH":"HTTPS"," URL for repository"),r.createElement(ze,{appendTo:document.body,style:{alignSelf:"center"},ml:1,color:"neutral_5",content:"Rasa X will clone the repository using the given ".concat(E?"SSH":"HTTPS","  URL.")})),g.a&&r.createElement("div",null,r.createElement(h.d,{color:"primary_1",fontWeight:0,style:{textDecoration:"underline"},variant:"plain",onClick:y},E?"Use HTTPS":"Use SSH"))),mb:4},r.createElement(h.l,{invalid:null!==S&&!S,fullWidth:!0,placeholder:"".concat(E?"user@domain:organization/repo.git":"https://domain/organization/repo.git"),value:u,onChangeValue:m,onBlur:M,suffix:S?r.createElement(j.Flex,{alignItems:"center",justifyContent:"center",backgroundColor:"primary_2",sx:{width:"16px",height:"16px",borderRadius:"50%"}},r.createElement(h.j,{icon:"check",color:"neutral_0",fontSize:"8px"})):null})),r.createElement(Ve.a,{text:r.createElement(j.Flex,{flexDirection:"row"},r.createElement(j.Flex,null,"Target branch "),r.createElement(ze,{appendTo:document.body,style:{alignSelf:"center"},ml:1,color:"neutral_5",content:"This is the branch Rasa X will use to show the initial data, branch off from when you make new changes, and return to after you discard or push changes."})),mb:4},r.createElement(h.l,{fullWidth:!0,placeholder:"Enter branch name...",value:v,onChangeValue:b})),r.createElement(j.Box,{as:"label",mb:6},r.createElement(j.Flex,{alignItems:"center"},r.createElement(j.Box,{mr:2},r.createElement(h.f,{checked:l,onChange:function(){return p(!l)}})),r.createElement(j.Box,null,r.createElement(h.y,{as:"div",variant:"bodySecondary",inheritColor:!0},"Require users to add changes to a new branch."))))),!t&&r.createElement(j.Box,{px:6,py:4,sx:{borderTop:"1px solid",borderColor:"neutral_2"}},E&&a&&r.createElement(r.Fragment,null,r.createElement(Ve.a,{text:r.createElement(j.Flex,{flexDirection:"row"},r.createElement(j.Flex,null,"Copy and add this SSH deploy key to your remote Git repository "),r.createElement(ze,{appendTo:document.body,style:{alignSelf:"center"},ml:1,color:"neutral_5",content:"You need to add this generated public SSH key as a Deploy key to your repository on GitHub, GitLab, BitBucket, etc."}))},r.createElement(Ge,{fullSize:!0},a)),r.createElement(h.a,{variant:"success",m:0,py:"14px",px:"20px",mt:3,mb:2},r.createElement(h.y,{as:"i",variant:"bodySecondary",lineHeight:"initial",inheritColor:!0},r.createElement(j.Box,{as:"strong"},"Note:")," Once you have added the SSH key above as a deploy key on your remote Git repository, confirm that you have successfully connected by clicking \u201cVerify Connection\u201d below."))),!E&&r.createElement(r.Fragment,null,r.createElement(Ve.a,{text:r.createElement(j.Flex,{flexDirection:"row"},"Username",r.createElement(ze,{appendTo:document.body,style:{alignSelf:"center"},ml:1,color:"neutral_5",content:"The username for the account you want to use to access your repository on. GitHub, GitLab, BitBucket, etc."})),mb:4},r.createElement(h.l,{fullWidth:!0,placeholder:"Enter username...",value:c,onChangeValue:d})),r.createElement(Ve.a,{text:r.createElement(j.Flex,{flexDirection:"row"},"Password",r.createElement(ze,{appendTo:document.body,style:{alignSelf:"center"},ml:1,color:"neutral_5",content:"The password for the account you want to use to access your repository on GitHub, GitLab, BitBucket, etc. If you have Two-Factor Authentication (2FA) enabled, you will need to use a personal access token in place of your password."}))},r.createElement(h.l,{fullWidth:!0,placeholder:"Enter password...",value:i,type:"password",onChangeValue:f}))))))}function Ye(){var e=Object(A.a)(["\n  width: 100%;\n  max-width: 864px;\n  border: 0;\n  box-shadow: 0 4px 14px 0 rgba(103, 106, 111, 0.32);\n  display: flex;\n  flex-direction: column;\n\n  transition: all cubic-bezier(.46,.1,.52,.98) 250ms;\n  transform: translateY(-10px);\n  transform-origin: 0 -50%;\n  opacity: 0;\n  "," "," ","\n"]);return Ye=function(){return e},e}ze.defaultProps={interactive:!0,px:4,py:3};var Ke=p.a.styled(Ye(),k.space,k.borderRadius,k.color);function Qe(e){var t=e.open,n=e.onClose,a=e.noSeparator,o=e.onBackgroundClick,c=e.onEscapeKeydown,i=e.children,s=e.title,l=e.footer,u=e.style,d=e.p,f=e.px,p=e.py,m=r.useState({}),b=Object(O.a)(m,2),g=b[0],v=b[1];return r.createElement(Ke,{isOpen:t,onBackgroundClick:o||n,onEscapeKeydown:c||n,borderRadius:"large",bg:"neutral_0",p:0,style:Object(E.a)({},u,{},g),backgroundProps:{style:g},afterOpen:function(){v({opacity:1,transform:"translateY(0)"})},beforeClose:function(){return new Promise((function(e){v({}),setTimeout(e,250)}))}},s&&r.createElement(j.Card,{p:4,sx:{borderBottom:a?"0px none":"1px solid",borderColor:"neutral_2"}},r.createElement(j.Flex,{justifyContent:"space-between"},r.createElement(h.i,{variant:"h2"},s),n&&r.createElement(j.Box,{onClick:function(){return n()}},r.createElement(h.d,{onClick:n,variant:"plainIcon",p:0},r.createElement(h.j,{icon:"times",fontSize:"24px"}))))),r.createElement(j.Flex,{flexDirection:"column",flex:1,p:d,px:f,py:p},i),l&&r.createElement(j.Card,{sx:{borderTop:"1px solid",borderColor:"neutral_2"}},r.createElement(j.Flex,{px:4,py:3,flexDirection:"row-reverse"},l)))}function Xe(e){var t=e.open,n=e.loadingUpdateGitRepository,a=e.onClose,o=e.onCredentialsSubmitCallback,c=e.username,i=r.useState(""),s=Object(O.a)(i,2),l=s[0],u=s[1];return r.createElement(Qe,{title:"Enter the password to your Git repository",px:0,py:0,onBackgroundClick:a,open:t,style:{width:"600px"},onClose:a,footer:r.createElement(r.Fragment,null,r.createElement(h.m,{onClick:function(){return o(l)},large:!0,disabled:""===l,ml:2,loading:n},"Connect"),r.createElement(h.d,{variant:"secondary",onClick:a,large:!0,ml:2},"Cancel"))},r.createElement(j.Box,{px:6,py:4},r.createElement(Ve.a,{text:r.createElement(j.Flex,{flexDirection:"row"},"Username",r.createElement(ze,{appendTo:document.body,style:{alignSelf:"center"},ml:1,color:"neutral_5",content:"The username you used to initially set up Integrated Version Control. You can edit it in the IVC settings."})),mb:4},r.createElement(h.l,{fullWidth:!0,disabled:!0,placeholder:"Enter your username...",value:c})),r.createElement(Ve.a,{text:r.createElement(j.Flex,{flexDirection:"row"},"Password",r.createElement(ze,{appendTo:document.body,style:{alignSelf:"center"},ml:1,color:"neutral_5",content:"The password for the account referenced above. If you have Two-Factor Authentication (2FA) enabled, you will need to use a personal access token in place of your password."})),mb:4},r.createElement(h.l,{fullWidth:!0,placeholder:"Enter your password...",value:l,type:"password",onChangeValue:u}))))}function Ze(e){switch(e){case"noChanges":return"#84a861";case"changes":return"#f7c86e";case"conflicts":case"notAuthenticated":return"#cd6c6a";default:return"neutral_6"}}function Je(e){switch(e){case"noChanges":return"You are up to date with the Git server.";case"changes":return"You have changes the Git server does not include.";case"conflicts":return"You have changes the Git server does not include. You also do not have the latest changes from the Git server.";case"notAuthenticated":return"You need to enter your password";default:return"Integrated Version Control has not been set up."}}function $e(e){var t=e.actions,n=e.activeGitRepository,a=e.activeRepositoryStatus,o=e.onUpdateGitRepository,c=e.commitModalOpen,i=e.connectModalOpen,l=e.credentialsModalOpen,u=e.disconnectModalOpen,d=e.content,f=e.discardModalOpen,p=e.gitStatus,m=e.onChangeGitBranch,b=e.onCommitGitChanges,v=e.onFetchSshKey,E=e.setCommitModalOpen,C=e.setConnectModalOpen,w=e.setCredentialsModalOpen,k=e.setDisconnectModalOpen,T=e.setDiscardModalOpen,R=e.generatedSshKey,A=e.onConnectGitRepository,_=e.title,I=e.username,F=e.loadingConnectGitRepository,U=e.loadingUpdateGitRepository,N=e.errorConnectGitRepository,L=e.onDeleteGitRepository,D=Object(y.a)(e,["actions","activeGitRepository","activeRepositoryStatus","onUpdateGitRepository","commitModalOpen","connectModalOpen","credentialsModalOpen","disconnectModalOpen","content","discardModalOpen","gitStatus","onChangeGitBranch","onCommitGitChanges","onFetchSshKey","setCommitModalOpen","setConnectModalOpen","setCredentialsModalOpen","setDisconnectModalOpen","setDiscardModalOpen","generatedSshKey","onConnectGitRepository","title","username","loadingConnectGitRepository","loadingUpdateGitRepository","errorConnectGitRepository","onDeleteGitRepository"]),M=Object(s.c)(),P=r.useState(""),B=Object(O.a)(P,2),H=B[0],G=B[1],V=r.useState(""),z=Object(O.a)(V,2),W=z[0],Y=z[1],K=r.useState(""),Q=Object(O.a)(K,2),X=Q[0],Z=Q[1],$=r.useState(""),ee=Object(O.a)($,2),ne=ee[0],re=ee[1],ae=r.useState(!1),oe=Object(O.a)(ae,2),ce=oe[0],ie=oe[1],se=r.useState(!1),le=Object(O.a)(se,2),ue=le[0],de=le[1],pe=Object(q.l)(!0),me=Object(O.a)(pe,2),be=me[0],he=me[1],ge=te(),ve=ge.removeStep,ye=ge.setOnboardingShown,Ee=ge.currentOnboardingStep,xe=Object(s.d)((function(e){return e.users.currentUser}));r.useEffect((function(){n&&(Y(n.target_branch),ie(n.is_target_branch_protected),ve("onboarding_welcome"),"onboarding_welcome"===Ee&&(ye(!0),C(!1)))}),[n,ve,ye,Ee,C]),r.useEffect((function(){("conflicts"===p||n&&n.is_target_branch_protected)&&de(!0)}),[p,de,n]);var Oe=r.useMemo((function(){return ue?"Rasa-x-".concat(fe()().format("MMM-Do-YY--h-mm-ss-a"),"-").concat(g.a?I:S()()):n?n.target_branch:""}),[ue,n,I]),je=r.useCallback((function(){E(!1)}),[E]),Ce=r.useCallback((function(){C(!1)}),[C]),Se=r.useCallback((function(){if(xe){var e,t=(null===(e=xe.data)||void 0===e?void 0:e.viewed_hints)?xe.data.viewed_hints:[];xe.data={viewed_hints:[].concat(Object(x.a)(t),["gitCredentials"])},M(J.g.request(xe))}w(!1)}),[xe,M,w]),we=r.useCallback((function(e){n&&o({repositoryId:n.id,targetBranch:W,protectedBranch:ce,username:n.username,password:e})}),[n,o,ce,W]);return r.createElement(r.Fragment,null,r.createElement(j.Box,Object.assign({p:3,pr:4,pb:4,bg:"dark_1",sx:{borderLeft:"8px solid",borderColor:Ze(p),borderRadius:"8px"}},D),_&&r.createElement(h.i,{variant:"h4",color:"neutral_0"},_),d&&r.createElement(h.y,{as:"div",variant:"captionSecondary",color:"neutral_6",mt:2,lineHeight:"normal"},d),t&&r.createElement(j.Box,{mt:3},t)),r.createElement(Qe,{title:"Commit changes to git",px:0,py:0,open:c,style:{width:"600px"},onClose:je,footer:r.createElement(r.Fragment,null,r.createElement(h.d,{onClick:function(){n&&b({repositoryId:n.id,branchName:Oe}),E(!1)},large:!0,ml:2},"Add changes"),r.createElement(h.d,{variant:"secondary",onClick:je,large:!0,ml:2},"Cancel"))},r.createElement(Le,{activeGitRepository:n,gitStatusColor:Ze,gitStatusCopy:Je,gitStatus:p,isCommittingToNewBranch:ue,setCommittingToNewBranch:de,activeRepositoryStatus:a})),r.createElement(Qe,{open:f,style:{width:"512px"},onClose:function(){return T(!1)},px:5,py:5},r.createElement(h.i,{variant:"h2",mb:3},"Discard changes"),r.createElement(h.y,{variant:"bodySecondary"},"Are you sure you want to discard changes?",r.createElement("br",null),r.createElement(j.Box,{as:"strong",mt:2,sx:{display:"inline-block"}},"Warning:")," ","Once you confirm, you will lose all changes that have not been added to the Git server. This action cannot be undone."),r.createElement(j.Flex,{flexDirection:"row-reverse",mt:6},r.createElement(h.d,{onClick:function(){n&&a&&m({repositoryId:n.id,branchName:a.current_branch,force:!0}),T(!1)},large:!0,ml:2},"Yes, discard"),r.createElement(h.d,{variant:"secondary",onClick:function(){return T(!1)},large:!0,ml:2},"Cancel"))),n&&a&&n.username&&r.createElement(Xe,{open:l&&!a.authenticated,loadingUpdateGitRepository:U,onClose:Se,onCredentialsSubmitCallback:we,username:n.username}),r.createElement(Qe,{title:"Connect to a remote Git repository",px:0,py:0,onBackgroundClick:function(){return n?Ce:null},open:i,style:{width:"600px"},onClose:Ce,footer:n?r.createElement(r.Fragment,null,r.createElement(h.d,{large:!0,ml:2,onClick:function(){W===n.target_branch&&ce===n.is_target_branch_protected||o({repositoryId:n.id,targetBranch:W,protectedBranch:ce}),C(!1)}},"Done"),r.createElement(h.d,{variant:"secondary",onClick:function(){C(!1),k(!0)},large:!0,ml:2},"Disconnect")):r.createElement(r.Fragment,null,r.createElement(h.m,{onClick:function(){var e=be?H.replace(/(^\w+:|^)\/\//,""):H;A({repositoryUrl:e,targetBranch:W,protectedBranch:ce,username:X.length>0?X:void 0,password:ne.length>0?ne:void 0})},large:!0,disabled:""===W||""===H,ml:2,loading:F},"Verify connection"),r.createElement(h.d,{variant:"secondary",onClick:Ce,large:!0,ml:2},"Cancel"))},r.createElement(We,{activeGitRepository:n,errorConnectGitRepository:N,httpsUsername:X,httpsPassword:ne,repositoryUrl:H,setRepositoryUrl:G,targetBranch:W,setHttpsPassword:re,setHttpsUsername:Z,setTargetBranch:Y,protectedBranch:ce,setProtectedBranch:ie,generatedSshKey:R,onFetchSshKey:v,gitStatus:p,usingSSH:be,toggleSSH:he})),r.createElement(Qe,{title:"Disconnect from remote Git repository",px:0,py:0,open:u,style:{width:"600px"},onClose:function(){return k(!1)},footer:r.createElement(r.Fragment,null,r.createElement(h.d,{large:!0,ml:2,onClick:function(){n&&L({repositoryId:n.id}),k(!1)}},"Yes, disconnect"),r.createElement(h.d,{variant:"secondary",onClick:function(){k(!1),C(!0)},large:!0,ml:2},"No, nevermind"))},r.createElement(h.y,{as:"div",variant:"bodySecondary",px:6,py:4,sx:{height:"439px",overflow:"auto"}},"Are you sure you want to disconnect from the repository"," ",r.createElement(j.Box,{as:"strong"},n&&n.repository_url),"?")))}Qe.defaultProps={px:6,py:4};var et=Object(i.default)(j.Box).withConfig({displayName:"Error",componentId:"gbq76s-0"})([""," font-weight:bold;"],k.textAlign);et.defaultProps={color:"secondary_1"},et.displayName="Error";var tt=r.memo(et);function nt(e){var t=e.onChangePassword,n=e.onCancel,a=r.useState(""),o=Object(O.a)(a,2),c=o[0],i=o[1],s=r.useState(""),l=Object(O.a)(s,2),u=l[0],d=l[1],f=r.useState(""),p=Object(O.a)(f,2),m=p[0],b=p[1],g=null;return c!==u?g="passwords do not match!":c.length<8&&(g="your password must be at least 8 characters long"),r.createElement(j.Box,null,r.createElement(h.l,{placeholder:"Old Password",type:"password",fullWidth:!0,onChangeValue:function(e){return b(e)},value:m,mb:2,autoFocus:!0}),r.createElement(h.l,{placeholder:"New Password",type:"password",fullWidth:!0,onChangeValue:function(e){return i(e)},value:c,mb:2}),r.createElement(h.l,{placeholder:"Confirm New Password",type:"password",fullWidth:!0,onChangeValue:function(e){return d(e)},value:u,mb:2}),u.length>0&&g&&r.createElement(tt,null,g),r.createElement(j.Flex,{flexDirection:"row-reverse",mr:-1},r.createElement(h.d,{mx:1,variant:"primary",onClick:function(){t({oldPassword:m,newPassword:c,newPasswordConfirm:u})},disabled:!!g},"Change Password"),r.createElement(h.d,{mx:1,variant:"secondary",onClick:n},"Close")))}function rt(e){var t=e.features,n=e.onChangeFeature;return r.createElement(j.Box,null,r.createElement(h.y,{variant:"bodySecondary"},"Toggle which experimental features you would like to try. Enabling/Disabling a feature will affect all users of this instance."),r.createElement(j.Box,{as:"ul",p:0,m:0,mb:2,style:{listStyle:"none"}},t.map((function(e){var t=e.name,a=e.enabled;return r.createElement(j.Box,{as:"li",key:t},r.createElement(j.Box,{as:"label",pr:3,pt:3,style:{display:"inline-block"}},r.createElement(j.Flex,{flex:"1 1"},r.createElement(j.Box,null,r.createElement(h.f,{checked:a,onChange:function(){return n({name:t,enabled:!a})}})),r.createElement(h.y,{variant:"bodySecondary",px:2,lineHeight:"initial"},t))))}))))}function at(e){var t=e.currentVersion,n=e.latestVersion,a=e.changelog;return r.createElement(j.Box,{px:4,pt:3,pb:2},r.createElement(h.i,{variant:"h5",inheritColor:!0,mb:1},"Update to Rasa X ",n),r.createElement(h.y,{color:"neutral_6",mb:3,sx:{fontSize:1}},"You are running Rasa X ",t,". Upgrade to the latest available version."),r.createElement(h.d,{large:!0,width:1,mb:2,variant:"primaryDark",as:"a",target:"_blank",href:"https://rasa.com/docs/rasa-x/changelog/updating/",onClick:function(){}},"Learn how to update"),r.createElement(h.d,{large:!0,width:1,variant:"dark",as:"a",target:"_blank",href:a,onClick:function(){}},"See what's new"))}function ot(e){var t=e.username,n=e.features,a=e.passwordModalOpen,o=e.featuresModalOpen,c=e.onChangePasswordModal,i=e.onChangeFeaturesModal,s=e.onChangePassword,l=e.onChangeFeature,u=e.onLogout,d=e.onSupport,f=e.onSendFeedback,p=e.onPowerUserIconClick,m=Object(q.m)(),b=m.currentVersion,g=m.latestVersion,v=m.changelog,y=m.updateAvailable;return r.createElement(r.Fragment,null,r.createElement(he.a,{flexDirection:"column",width:280,py:2},y&&g&&b&&v&&r.createElement(r.Fragment,null,r.createElement(at,{currentVersion:b,latestVersion:g,changelog:v}),r.createElement(h.v,{opacity:.1,my:2})),r.createElement(Ce,{p:2,height:48,pl:4,mt:3,onClick:f,rightIcon:p&&r.createElement(r.Fragment,null,r.createElement(h.d,{variant:"plainIcon",fontSize:"14px",backgroundColor:"primary_3",style:{borderRadius:"50%",zIndex:999},onClick:function(e){e.stopPropagation(),p()}},r.createElement(h.j,{color:"white",icon:["far","star"]})))},"Send Feedback"),r.createElement(Ce,{p:2,onClick:d,height:48,pl:4},"Support"),n.length>0&&r.createElement(pe.a,{resource:me.d.Features,action:me.a.Update,yes:r.createElement(Ce,{p:2,onClick:function(){return i(!0)},height:48,pl:4},"Experimental")}),r.createElement(pe.a,{resource:me.d.User,action:me.a.Update,attributes:["password"],yes:r.createElement(Ce,{p:2,onClick:function(){return c(!0)},height:48,pl:4},"Change Password")}),r.createElement(Ce,{"aria-label":"navbar-user-logout",p:2,onClick:u,height:48,pl:4},"Logout")),r.createElement(Qe,{title:"Change Password",open:a,onClose:function(){return c(!1)}},r.createElement(nt,{onCancel:function(){return c(!1)},onChangePassword:function(e){s(Object(E.a)({username:t},e)),c(!1)}})),r.createElement(Qe,{title:"Toggle Features",open:o,onClose:function(){return i(!1)},style:{maxWidth:"630px"},footer:r.createElement(h.d,{onClick:function(){return i(!1)},large:!0,ml:2},"Ok")},r.createElement(rt,{onChangeFeature:l,features:n})))}function ct(e){var t=e.children,n=e.name,a=e.title,o=e.content,c=e.links,i=Object(y.a)(e,["children","name","title","content","links"]),s=te(),l=s.onboardingShown,u=s.currentOnboardingHint,d=s.setOnboardingShown,f=s.setCurrentOnboardingHint;return u?r.createElement(Y.a,Object.assign({borderRadius:"large",boxShadow:"8px 9px 21px 0 rgba(0, 0, 0, 0.25)",bg:"primary_2",p:4,pt:3,textAlign:"left",heading:a,visible:u===n,disabled:!l,interactive:!0,placement:"bottom-end",onHide:function(){u===n&&(f(null),d(!1))},onCloseClick:function(){f(null),d(!1)},content:r.createElement(W.a,{sx:{width:"320px",boxSizing:"content-box"},pr:5},r.createElement(h.y,{color:"neutral_0",as:"div",variant:"bodySecondary"},o),c&&r.createElement(W.d,{flexDirection:"column",mt:3},c.map((function(e,t){return r.createElement(K,{key:n+"_"+t,link:e})})))),appendTo:document.body,offset:[0,8]},i),t):r.createElement(r.Fragment,null,t)}var it=Object(i.default)(he.a).withConfig({displayName:"NavBar__SubMenu",componentId:"yup4zg-0"})(["opacity:0;transition:opacity ease 0.2s;"]),st=Object(i.default)(h.v).withConfig({displayName:"NavBar__StyledSep",componentId:"yup4zg-1"})([""]),lt=Object(i.default)(Te).withConfig({displayName:"NavBar__AnimatedAside",componentId:"yup4zg-2"})(["&:hover{.top-level-menu ","{display:none;}","{opacity:1;}","{opacity:0.23;}}"],_e,it,st);function ut(e){var t=e.features,n=e.modelIsTraining,a=e.onChangeFeature,o=e.onChangePassword,c=e.onSupport,i=e.onUpdateGitRepository,l=e.onSendFeedback,u=e.onLogout,d=e.onNavigate,f=e.onTrainModel,p=e.generatedSshKey,m=e.username,b=e.onFetchGitRepositories,v=e.onFetchSshKey,y=e.activeRepositoryStatus,E=e.activeGitRepository,x=e.onStartPollingStatus,C=e.onStopPollingStatus,S=e.loadingFetchStatus,w=e.loadingCommitGitChanges,k=e.onCommitGitChanges,T=e.onConnectGitRepository,R=e.onChangeGitBranch,A=e.loadingConnectGitRepository,_=e.loadingUpdateGitRepository,I=e.errorConnectGitRepository,F=e.onDeleteGitRepository,U=e.onPowerUserIconClick,N=Object(s.c)(),L=r.useState(!1),D=Object(O.a)(L,2),M=D[0],P=D[1],B=r.useState(!1),H=Object(O.a)(B,2),G=H[0],V=H[1],z=r.useState(!1),W=Object(O.a)(z,2),Y=W[0],K=W[1],Q=r.useState(!1),X=Object(O.a)(Q,2),Z=X[0],$=X[1],ee=r.useState(!1),ne=Object(O.a)(ee,2),re=ne[0],ae=ne[1],oe=r.useState(!1),ce=Object(O.a)(oe,2),ie=ce[0],se=ce[1],le=r.useState(!1),ue=Object(O.a)(le,2),de=ue[0],ge=ue[1],ve=te(),ye=ve.setOnboardingShown,Ee=ve.currentOnboardingStep,xe=Object(s.d)((function(e){return e.users.currentUser}));r.useEffect((function(){g.b&&b()}),[b]),r.useEffect((function(){return E?(g.b&&x({repositoryId:E.id}),function(){return g.b&&C()}):function(){}}),[E,x,C]),r.useEffect((function(){var e,t;if(!y||y.authenticated||(null===xe||void 0===xe||null===(e=xe.data)||void 0===e||null===(t=e.viewed_hints)||void 0===t?void 0:t.includes("gitCredentials"))){if(y&&y.authenticated&&xe){var n,r=(null===(n=xe.data)||void 0===n?void 0:n.viewed_hints)?xe.data.viewed_hints:[];xe.data={viewed_hints:r.filter((function(e){return"gitCredentials"!==e}))},N(J.g.request(xe))}}else ae(!0)}),[y,E,xe,N,ae]);var Oe=r.useMemo((function(){return function(e,t){return e?t&&!t.authenticated?"notAuthenticated":t&&t.are_there_local_changes?t.is_committing_to_target_branch_allowed?"changes":"conflicts":"noChanges":"notConnected"}(E,y)}),[E,y]),je=Object(q.m)().updateAvailable,we=r.useMemo((function(){return w||S}),[S,w]);r.useEffect((function(){N(be.d.request({search:"",offset:0,limit:1}))}),[N]);var ke=Object(s.d)((function(e){var t=e.suggestions.total;return t>1e3?"1000+":t?t.toString():void 0}));return r.createElement(j.Box,{sx:{position:"relative",zIndex:110,height:"100%",width:"56px"}},r.createElement(lt,null,r.createElement(he.a,{sx:{overflow:"hidden",height:"100%"},width:1,flexDirection:"column"},r.createElement(j.Box,{flex:"1",pt:5,sx:{overflowX:"hidden"},className:"top-level-menu"},g.a&&r.createElement(Ne,{title:"Analytics",description:"See how users engage with your assistant.",path:"/analytics",icon:"chart-line",permission:[me.d.Analytics,me.a.Read]}),r.createElement(Ne,{title:"Talk to your bot",description:"Try out your assistant. Switch on interactive learning mode to correct any mistakes it makes!",path:"/interactive",icon:"comment",permission:[me.d.Messages,me.a.Create]}),r.createElement(Ne,{title:"Conversations",description:"Scan conversations real users have had with your assistant. Correct mistakes your model has made and help it improve.",path:"/conversations",icon:"comments",permission:[me.d.Metadata,me.a.Read]}),r.createElement(Ne,{title:"NLU Inbox",description:"View NLU predictions. Correct any mistakes and create training data.",path:"/nlu-inbox",icon:"inbox",badge:ke,permission:[[me.d.Examples,me.d.Logs],me.a.Read]}),r.createElement(Ne,{title:"Models",description:g.a?"View your models and deploy them to different environments.":"View your models. To update your assistant, mark a new model as active.",path:"/models",icon:"tachometer-alt",permission:[me.d.Models,me.a.Read]}),r.createElement(Ne,{title:"Training",path:"/data/training-data",match:"/(data|responses|rules|stories|config|domain)",icon:"file-check",permission:[[me.d.Examples,me.d.Logs],me.a.Read]}),r.createElement(pe.a,{resource:[me.d.Examples,me.d.Logs],action:me.a.Read,yes:r.createElement(it,{pt:1,flexDirection:"column"},r.createElement(j.Card,{ml:5,sx:{borderLeft:"2px solid",borderColor:"rgba(216,216,216,0.08)"}},r.createElement(Ne,{title:"NLU data",description:"View and edit your NLU examples, synonyms, regexes, and lookup tables.",path:"/data/training-data",variant:"secondary",permission:[me.d.Responses,me.a.Read]}),r.createElement(Ne,{title:"Responses",description:"View and edit the responses your assistant will use to send messages.",path:"/responses",variant:"secondary",permission:[me.d.Responses,me.a.Read]}),r.createElement(Ne,{title:"Stories",description:"View, edit and compare your stories.",path:"/stories",variant:"secondary"}),r.createElement(Ne,{title:"Rules",description:"View, edit and compare your rules.",path:"/rules",variant:"secondary"}),r.createElement(pe.a,{resource:me.d.Models,action:me.a.Read,attributes:["settings"],yes:r.createElement(Ne,{title:"Configuration",description:"Edit your model configuration",path:"/config",variant:"secondary"})}),r.createElement(Ne,{title:"Domain",description:"Edit your domain file.",path:"/domain",variant:"secondary",permission:[me.d.Domain,me.a.Read]}),r.createElement(j.Box,{pl:5,pr:4,pb:2},r.createElement(st,{mt:2,mb:4,opacity:.1}),r.createElement(h.m,{width:1,large:!0,variant:"primaryDark",onClick:f,loading:n},"Train"))))})),g.b?r.createElement(pe.a,{resource:me.d.RepositoryStatus,action:me.a.Read,yes:r.createElement(ct,{title:"Connect Rasa X to Git",content:"Connecting to a Git repository will import your initial assistant to Rasa X. It also makes it easier to version your data and use CI/CD to test your assistant.",links:[{title:"Learn more about connecting Rasa X to git",href:"//rasa.com/docs/rasa-x/installation-and-setup/deploy/#integrated-version-control"}],sticky:!0,name:"connect_repo",placement:"right-end",containerStyle:{width:"100%"}},r.createElement(ct,{title:"Push your improvements to Git and activate a new model",content:"You now have improvements to your training data. Push those changes, train, upload and activate a new model to use those improvements in your assistant.",sticky:!0,name:"push_changes",placement:"right-end",containerStyle:{width:"100%"}},r.createElement(Re,{onTrigger:function(){"onboarding_welcome"!==Ee&&"onboarding_push_changes"!==Ee||ye(!1)},containerStyle:{width:"100%"},disabled:Y||de||Z||re,content:r.createElement($e,{title:"notConnected"===Oe?"Not connected to a Git repository":r.createElement(j.Flex,{justifyContent:"space-between"},r.createElement(j.Box,null,"notAuthenticated"===Oe?"Not logged in to your repository":E&&E.target_branch," "),r.createElement(j.Box,{mr:-2,color:"neutral_6",sx:{cursor:"pointer",transition:"all ease .2s","&:hover":{color:"neutral_0"}}},r.createElement(h.j,{icon:"cog",fontSize:"16px",onClick:function(){return $(!0)}}))),width:296,onConnectGitRepository:T,onUpdateGitRepository:i,generatedSshKey:p,onChangeGitBranch:R,commitModalOpen:Y,connectModalOpen:Z,credentialsModalOpen:re,disconnectModalOpen:ie,activeRepositoryStatus:y,setCommitModalOpen:K,setConnectModalOpen:$,setCredentialsModalOpen:ae,setDisconnectModalOpen:se,gitStatus:Oe,onDeleteGitRepository:F,errorConnectGitRepository:I,onFetchSshKey:v,discardModalOpen:de,setDiscardModalOpen:ge,onCommitGitChanges:k,activeGitRepository:E,username:m,loadingConnectGitRepository:A,loadingUpdateGitRepository:_,content:r.createElement(r.Fragment,null,r.createElement(j.Box,{color:"neutral_0",as:"strong"},"Status"," ",y&&(y.first_annotator_id||y.first_annotated_at)&&"changed",y&&y.first_annotator_id&&" by ".concat(y.first_annotator_id),y&&y.first_annotated_at&&" at ".concat(fe.a.unix(y.first_annotated_at).format("hh:mm A on Do MMM YYYY")),":")," ",Je(Oe),"notAuthenticated"===Oe&&r.createElement(h.d,{width:1,mt:3,large:!0,onClick:function(){return ae(!0)},variant:"primaryDark"},"Enter password")),actions:"changes"===Oe||"conflicts"===Oe?r.createElement(r.Fragment,null,r.createElement(pe.a,{resource:me.d.Commit,action:me.a.Create,yes:r.createElement(h.d,{width:1,mb:2,large:!0,onClick:function(){return K(!0)},variant:"primaryDark"},"Add changes to Git server")}),r.createElement(h.d,{width:1,large:!0,variant:"dark",onClick:function(){return ge(!0)}},"Discard changes")):"notConnected"===Oe?r.createElement(r.Fragment,null,r.createElement(h.d,{width:1,large:!0,mb:2,onClick:function(){return $(!0)},variant:"primaryDark"},"Connect to a repository"),r.createElement(h.d,{as:"a",target:"_blank",href:"//rasa.com/docs/rasa-x/installation-and-setup/deploy/#integrated-version-control",width:1,variant:"dark",large:!0,onClick:function(){}},"Learn more in the docs")):null})},r.createElement(Ce,{icon:r.createElement(h.j,{icon:we?"sync":"code-merge",spin:we}),height:48,lineBefore:!1,sx:{"&":{backgroundColor:"neutral_8",paddingLeft:"10px"},borderLeft:"6px solid",borderColor:Ze(Oe)},rightIcon:r.createElement(h.j,{icon:"angle-right"})},r.createElement(h.i,{variant:"h4",inheritColor:!0},"notConnected"===Oe?"Not connected":E&&E.target_branch))))),no:r.createElement(j.Box,{px:3},r.createElement(st,{sx:{opacity:0,transition:"opacity ease 0.2s"},barColor:"neutral_6"}))}):r.createElement(j.Box,{px:3},r.createElement(st,{sx:{opacity:0,transition:"opacity ease 0.2s"},barColor:"neutral_6"})),g.a&&r.createElement(pe.a,{resource:[me.d.Users,me.d.Roles],action:me.a.Read,yes:r.createElement(Re,{content:r.createElement(Se,{onNavigate:d})},r.createElement(Ce,{icon:r.createElement(h.j,{icon:"user"}),rightIcon:r.createElement(h.j,{icon:"angle-right"})},"Admin"))}),r.createElement(Re,{content:r.createElement(ot,{username:m,features:t,passwordModalOpen:M,featuresModalOpen:G,onChangePassword:o,onChangeFeature:a,onLogout:u,onSendFeedback:l,onPowerUserIconClick:U,onSupport:c,onChangePasswordModal:function(e){return P(e)},onChangeFeaturesModal:function(e){return V(e)}})},r.createElement(Ce,{"data-qa":"navbar-user-badge_li",icon:r.createElement(r.Fragment,null,r.createElement(Ie,{show:!!je,top:"7px",left:"33px",color:"primary_3",borderColor:"neutral_7",size:"12px"}),r.createElement(h.b,{variant:"small",username:m,m:"-2px"})),rightIcon:r.createElement(h.j,{icon:"angle-right"})},m)))))}function dt(e){window.open(e,"_blank","noopener,noreferrer")}var ft={onLogout:se.h,onChangePassword:se.a.request,onChangeFeature:se.i.request,onFetchFeatures:se.d.request,onTrainModel:le.k.request,onFetchGitRepositories:ue.e.request,onFetchSshKey:ue.g.request,onConnectGitRepository:ue.c.request,onDeleteGitRepository:ue.d.request,onCommitGitChanges:ue.b.request,onUpdateGitRepository:ue.j.request,onChangeGitBranch:ue.a.request,onStartPollingStatus:ue.h,onStopPollingStatus:ue.i},pt=function(){return dt("https://rasahq.typeform.com/to/NSJvZM")};var mt=Object(s.b)((function(e){return{username:e.auth.username,role:e.auth.role,features:e.auth.features,modelIsTraining:e.models.modelIsTraining,activeRepositoryStatus:e.gitRepositories.activeRepositoryStatus,activeGitRepository:e.gitRepositories.activeGitRepository,generatedSshKey:e.gitRepositories.generatedSshKey,loadingFetchStatus:!!e.gitRepositories.loading.fetchGitRepositoryStatus,loadingCommitGitChanges:!!e.gitRepositories.loading.commitGitChanges,loadingConnectGitRepository:!!e.gitRepositories.loading.connectGitRepository,loadingUpdateGitRepository:!!e.gitRepositories.loading.updateGitRepository,errorConnectGitRepository:e.gitRepositories.error.connectGitRepository}}),ft)((function(e){var t=e.username,n=e.onLogout,a=e.onPowerUserIconClick,o=Object(y.a)(e,["username","onLogout","onPowerUserIconClick"]),c=Object(q.m)().currentVersion,i=Object(l.g)().push;return null===t?null:r.createElement(ut,Object.assign({onLogout:function(){return n(null)},onSupport:function(){var e=new URLSearchParams({body:"**Version: Rasa ".concat(g.a?"Enterprise":"X"," ").concat(c,"**\n\n"),category:"rasa-x"}),t="https://forum.rasa.com/new-topic?".concat(e.toString());window.location.href=t},onSendFeedback:pt,onPowerUserIconClick:a,onNavigate:i,username:t},o))}));function bt(e){var t=e.latestModelIsNew,n=e.modelIsTraining,a=e.trainingFailed,o=e.uploadingModel,c=e.cleanUploadState,i=e.cleanTrainState,s=e.conversationDeletionFailed,l=e.children,u=e.onNavigate,d=e.modelUploadError,f=e.modelExists,p=H(),m=p.addToast,b=p.removeToast;return r.useEffect((function(){c||(o||d||m({head:"Model uploaded",timeout:-1,content:"Your model was successfully uploaded. Don\u2019t forget to make it active if you want to use it!",key:"modelUploadStatus"}),o&&m({head:"Uploading model",timeout:-1,key:"modelUploadStatus",icon:r.createElement(h.j,{icon:["fas","spinner"],spin:!0,mr:2})}),o||!d||f||m({head:"Upload failed",timeout:-1,content:"Something went wrong. Please try again.",variant:"error",key:"modelUploadStatus"}),!o&&d&&f&&m({head:"Model already exists",timeout:-1,content:"A model with that name already exists.",variant:"error",key:"modelUploadStatus"}))}),[m,c,o,d,f]),r.useEffect((function(){i||(t&&!n&&m({head:"Training is done",actions:r.createElement(h.d,{variant:"inverse",large:!0,width:1,onClick:function(){u("/models"),b("modelTrainingStatus")}},"See new model"),key:"modelTrainingStatus",icon:r.createElement(h.j,{icon:["far","check-circle"],mr:2})}),t||n||m({head:"Nothing has changed",content:"It seems no changes were made to your model, so we skipped training a new one!",key:"modelTrainingStatus",actions:r.createElement(h.d,{variant:"inverse",large:!0,onClick:function(){u("/models"),b("modelTrainingStatus")}},"See latest model")}),n&&m({head:"Training started",key:"modelTrainingStatus",icon:r.createElement(h.j,{icon:["fas","spinner"],spin:!0,mr:2})}),a&&m({head:"Training failed",content:"Your model training has failed.",variant:"error",key:"modelTrainingStatus"}))}),[m,t,n,a,i,u,b]),r.useEffect((function(){s&&m({head:"Failed to delete conversation",timeout:-1,content:"Something went wrong. Please try again later.",variant:"error",key:"conversationDeletionFailed"})}),[m,s]),r.createElement(r.Fragment,null,l)}var ht=n(100);function gt(e){var t=e.open,n=e.userId,a=e.onClose,o=e.onDataSubmit,c=Object(s.c)(),i=r.useState(""),l=Object(O.a)(i,2),u=l[0],d=l[1],f=r.useState(""),p=Object(O.a)(f,2),m=p[0],b=p[1],g=r.useState(!0),v=Object(O.a)(g,2),y=v[0],E=v[1];return r.createElement(Qe,{title:"Got some feedback?",onBackgroundClick:function(){},open:t,style:{width:"584px"},onClose:a,footer:r.createElement(r.Fragment,null,r.createElement(h.d,{large:!0,ml:2,disabled:0===u.length||0===m.length,onClick:function(){c(ht.b.request({userId:n,name:u,email:m,checkboxChecked:y})),o(),a()}},"Submit"),r.createElement(h.d,{variant:"secondary",onClick:a,large:!0,ml:2},"Nevermind"))},r.createElement(h.a,{variant:"alertThatUsesColoursThatArentInTheStyleguide",m:0,py:"12px",mb:4},r.createElement(h.y,{as:"i",variant:"bodySecondary",lineHeight:"1.54",inheritColor:!0},"Congrats! You have earned some free Rasa swag and the chance to let us know how we can make Rasa X work better for you. Let us know your name and email below, so we can contact you.")),r.createElement(j.Flex,{flexDirection:"column",mb:5},r.createElement(Ve.a,{text:"Name"},r.createElement(h.l,{value:u,onChangeValue:function(e){return d(e)},placeholder:"Enter your name",fullWidth:!0})),r.createElement(Ve.a,{text:"Email",mt:4},r.createElement(h.l,{value:m,onChangeValue:function(e){return b(e)},placeholder:"Enter your email",fullWidth:!0})),r.createElement(j.Flex,{as:"label",mt:3,alignItems:"flex-start"},r.createElement(h.f,{onChange:function(){return E(!y)},checked:y,mr:3,mt:"2px"}),r.createElement(h.y,{variant:"bodySecondary"},"I'm okay with Rasa storing my name, email, and user id to allow me to participate in feedback and user research to improve Rasa X."))))}var vt={onStartPollingHealth:le.j,onFetchFeatures:se.d.request};var yt=Object(s.b)((function(e){return{accessToken:e.auth.accessToken,role:e.auth.role,modelIsTraining:e.models.modelIsTraining,latestModelIsNew:e.models.latestModelIsNew,uploadingModel:e.models.loading.uploadModel,trainingFailed:e.models.trainingFailed,cleanTrainState:e.models.cleanState.training,cleanUploadState:e.models.cleanState.uploading,conversationDeletionFailed:e.messages.conversationDeletionFailed,modelUploadError:e.models.error.uploadModel,modelExists:e.models.modelExists}}),vt)((function(e){var t=e.authRequired,n=e.accessToken,a=e.role,o=e.onFetchFeatures,c=(e.onStartPollingHealth,e.latestModelIsNew),i=e.uploadingModel,u=e.modelIsTraining,d=e.trainingFailed,f=e.cleanTrainState,p=e.cleanUploadState,m=e.conversationDeletionFailed,b=e.modelUploadError,g=e.modelExists,v=e.component,E=Object(y.a)(e,["authRequired","accessToken","role","onFetchFeatures","onStartPollingHealth","latestModelIsNew","uploadingModel","modelIsTraining","trainingFailed","cleanTrainState","cleanUploadState","conversationDeletionFailed","modelUploadError","modelExists","component"]),C=Object(s.c)(),S=r.useState(!1),w=Object(O.a)(S,2),k=w[0],T=w[1],R=Object(q.i)(),A=R.userGroups,_=R.userId,I=H(),F=I.addToast,U=I.removeToast,N=Object(s.d)((function(e){return e.users.currentUser}));r.useEffect((function(){o()}),[o]),r.useEffect((function(){C(J.b.request())}),[C]);var L=r.useCallback((function(e){var t;if(N&&0!==e.length){var n=(null===(t=N.data)||void 0===t?void 0:t.viewed_hints)?N.data.viewed_hints:[];N.data={viewed_hints:[].concat(Object(x.a)(n),[e])},C(J.g.request(N))}}),[N,C]),D=r.useCallback((function(){L("powerUser")}),[L]),M=r.useCallback((function(){T(!1)}),[T]),P=r.useCallback((function(){return T(!0)}),[]),B=r.useMemo((function(){return t&&(!n||a&&"none"===a[0])}),[n,t,a]),G=r.useMemo((function(){return null===A||void 0===A?void 0:A.includes("power_user")}),[A]);return r.useEffect((function(){var e,t;!B&&_&&G&&!(null===N||void 0===N||null===(e=N.data)||void 0===e||null===(t=e.viewed_hints)||void 0===t?void 0:t.includes("powerUser"))&&F({head:"Congratulations! You have earned free Rasa swag",content:"You have been using Rasa X a lot lately. We want to celebrate this by sending you a t-shirt on us and offer you the opportunity to help shape our roadmap. Let us know how to get a hold of you, and we will send you an email with more details.",variant:"primary",timeout:-1,key:"powerUserToast",onUnmount:function(){D()},actions:r.createElement(r.Fragment,null,r.createElement(h.d,{variant:"inverse",large:!0,ml:4,onClick:function(){U("powerUserToast"),T(!0),D()}},"Sure, thanks!"),r.createElement(h.d,{variant:"plain",large:!0,onClick:function(){U("powerUserToast"),D()}},"I'll pass"))})}),[N,D,G,A,_,F,B,U]),B?r.createElement(l.b,{to:{pathname:"/login"}}):r.createElement(l.c,Object.assign({},E,{render:function(e){var t,n,a=e.history,o=Object(y.a)(e,["history"]);return r.createElement(bt,{trainingFailed:d,latestModelIsNew:c,modelIsTraining:u,uploadingModel:i,cleanUploadState:p,cleanTrainState:f,conversationDeletionFailed:m,modelUploadError:!!b,modelExists:g,onNavigate:a.push},r.createElement(j.Flex,{sx:{height:"100%"}},r.createElement(j.Box,{flex:"0 0 auto"},r.createElement(mt,{onPowerUserIconClick:G&&N&&!(null===(t=N.data)||void 0===t||null===(n=t.viewed_hints)||void 0===n?void 0:n.includes("powerUserSubmitted"))?P:void 0}),_&&r.createElement(gt,{open:k,userId:_,onClose:M,onDataSubmit:function(){return L("powerUserSubmitted")}})),r.createElement(v,Object.assign({history:a},o))))}}))})),Et=n(12),xt=n(153),Ot=n(40),jt=n(83),Ct=Object(xt.a)((function(e){return e.filter}),(function(e){return Object(Ot.isEqual)(e,jt.c.filter)})),St={filterBarIsEmpty:Object(xt.a)((function(e){return e.filter}),(function(e){return Object(Ot.isEqual)(Object(E.a)({},e,{date:jt.c.filter.date}),jt.c.filter)})),filterIsEmpty:Ct},wt=n(34),kt=n(17);function Tt(e){var t=e.currentUser,n=e.updateUser,a=e.children,o=e.content,c=e.docs,i=e.nextStep,s=e.step,l=e.title,u=e.canBeShown,d=Object(y.a)(e,["currentUser","updateUser","children","content","docs","nextStep","step","title","canBeShown"]),f=z(),p=f.hintsEnabled,m=f.currentHint,b=f.allHints,g=f.nextHints,v=f.setHintsEnabled,E=f.addHint,O=f.updateCurrentHint;r.useEffect((function(){if(t){var e=t.data&&t.data.viewed_hints&&t.data.viewed_hints.includes(s);E({source:s,nextSource:i,canBeShown:u&&!e})}}),[t,E,s,i,u]);var j=function(e){if(t){var r=t.data&&t.data.viewed_hints?t.data.viewed_hints:[];t.data={viewed_hints:[].concat(Object(x.a)(r),[e])},n(t)}},C=r.useMemo((function(){return b.map((function(e,t){return r.createElement(W.d,{mr:"5px",sx:{backgroundColor:"#fff",borderRadius:"2px",display:"inline-block",height:"4px",marginTop:"auto",opacity:e===m?1:.4,transition:"all ease .2s",width:e===m?"10px":"4px"},key:t,as:"li"})}))}),[m,b]);return m?r.createElement(Y.a,Object.assign({borderRadius:"large",boxShadow:"8px 9px 21px 0 rgba(0, 0, 0, 0.25)",bg:"primary_2",p:4,pt:3,textAlign:"left",heading:l,visible:m===s,disabled:!p,interactive:!0,placement:"bottom-end",onHide:function(){m===s&&v(!1)},content:r.createElement(W.a,{sx:{width:"352px"}},r.createElement(h.y,{color:"neutral_0",as:"div",variant:"bodySecondary"},o,c&&r.createElement(r.Fragment,null," ",r.createElement(h.y,{fontWeight:600,as:"a",target:"_blank",href:c,color:"neutral_0",sx:{textDecoration:"none",display:"initial"}},"Learn more here"),".")),r.createElement(W.d,{mt:4},r.createElement(W.d,{flexDirection:"row",as:"ul",m:0,p:0,sx:{listStyle:"none"}},C),r.createElement(W.d,{sx:{marginLeft:"auto"}},g.length>1?r.createElement(h.d,{variant:"plain",onClick:function(){j(s),O(!0)}},"Next ",r.createElement(h.j,{icon:"long-arrow-right"})):r.createElement(h.d,{variant:"inverse",onClick:function(){j(s),O(!0)}},"Done"))))},d),a):r.createElement(r.Fragment,null,a)}Tt.defaultProps={appendTo:document.body,offset:[0,8]};var Rt={updateUser:J.g.request};var At=Object(s.b)((function(e){return{currentUser:e.users.currentUser}}),Rt)((function(e){return r.createElement(Tt,e)})),_t=n(50),It=n(152);function Ft(e){var t=e.color,n=Object(y.a)(e,["color"]);return r.createElement(j.Box,Object.assign({width:"12px",height:"12px",sx:{borderRadius:"12px",border:"2px solid white"}},n,{bg:t}),"\xa0")}var Ut=r.memo((function(e){var t=e.active,n=e.client,a=e.timestamp,o=e.channel,c=e.onSelect,i=e.flagged,s=(e.ref,e.tags),l=Object(y.a)(e,["active","client","timestamp","channel","onSelect","flagged","ref","tags"]),u=Object(q.h)();return r.createElement(j.Flex,Object.assign({sx:{overflow:"hidden",cursor:"pointer",height:"72px",transition:"background-color ease 0.2s","&:hover":{bg:"neutral_1"}},px:4,py:3,onClick:function(){u("entity:conversation:selected"),c(n)},bg:t?"neutral_1":"neutral_0",alignItems:"center"},l),r.createElement(j.Box,{mr:3},r.createElement(h.b,{variant:"large",bg:"neutral_3"},r.createElement(h.j,{icon:["fas","user"]}))),r.createElement(It.a,null,r.createElement(h.i,{variant:"h5",color:"neutral_8"},"number"===typeof a?fe.a.unix(a).format("h:mm a, D MMM YYYY"):"No timestamp"),o&&r.createElement(h.y,{variant:"captionPrimary",lineHeight:"normal"},o)),r.createElement(j.Box,{flex:"1"}),s.length>0&&r.createElement(j.Flex,{flexDirection:"row-reverse"},s.map((function(e){return r.createElement(Ft,{key:e.id,color:"#".concat(e.color),title:e.value,mr:"-4px"})}))),i&&r.createElement(j.Flex,{flex:"0 1 24px",fontSize:"8px",color:"secondary_2",alignItems:"center",justifyContent:"center"},r.createElement(h.j,{icon:["fas","flag-alt"]})))}));function Nt(e){e.ref;var t=Object(y.a)(e,["ref"]);return r.createElement(j.Flex,Object.assign({px:4,py:3,alignItems:"center",sx:{overflow:"hidden",cursor:"pointer",height:"72px",transition:"background-color ease 0.2s","&:hover":{bg:"neutral_1"}}},t),r.createElement(j.Box,{mr:3},r.createElement(h.b,{variant:"large",bg:"neutral_3"},r.createElement(h.j,{icon:["fas","user"]}))),r.createElement(It.a,null,r.createElement(h.i,{variant:"h5",color:"neutral_3",loading:!0},"\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588"),r.createElement(h.y,{color:"neutral_3",variant:"captionPrimary",lineHeight:"normal",loading:!0},"\u2588\u2588\u2588\u2588\u2588")))}function Lt(e){var t=e.pastDelay,n=e.children,a=Object(y.a)(e,["pastDelay","children"]);return!1===t?null:r.createElement(j.Flex,Object.assign({justifyContent:"center",alignItems:"center",flexDirection:"column",color:"neutral_6",style:{textAlign:"center",height:"100%",width:"100%"}},a),r.createElement(h.j,{icon:"circle-notch",spin:!0,mb:2,fontSize:5}),r.createElement(h.y,{variant:"bodySecondary",inheritColor:!0},n))}var Dt=r.memo((function(e){var t=e.conversations,n=e.conversationId,a=e.loading,o=e.onSelectConversation,c=e.onLoadMoreRows,i=e.filter,l=e.total,u=Object(s.c)(),d=Object(s.d)((function(e){return e.messages.tags}));r.useEffect((function(){u(Et.p.request())}),[u]);var f=r.useCallback((function(e){var t=e.startIndex,n=e.stopIndex;return c?c({filter:i,offset:t,limit:n-t+1}):new Promise((function(e){return e()}))}),[i,c]),p=r.useCallback((function(e){var a=e.key,c=e.index,i=e.style,s=t[c];if(!s)return r.createElement(Nt,{key:a,style:i});var l=s.tags.map((function(e){return d.find((function(t){return t.id===e}))})).filter((function(e){return void 0!==e}));return r.createElement(Ut,{key:a,style:i,active:n===s.sender_id,client:s.sender_id,timestamp:s.latest_event_time,channel:s.latest_input_channel,onSelect:o,flagged:s.has_flagged_messages,tags:l,"data-qa":"conversation-list-item_div"})}),[t,n,o,d]);return r.createElement(r.Fragment,null,a&&Object(Ot.isEmpty)(t)&&r.createElement(Lt,{mt:20},"Loading conversations"),r.createElement(_t.a,null,(function(e){return r.createElement(_t.e,{isRowLoaded:function(e){var n=e.index;return void 0!==t[n]},loadMoreRows:f,rowCount:l},(function(t){var n=t.onRowsRendered,a=t.registerChild;return r.createElement(_t.f,{ref:a,onRowsRendered:n,height:e.height,width:e.width-1,overscanRowCount:20,rowCount:l,rowHeight:72,rowRenderer:p})}))})))})),Mt=n(751),Pt=r.memo((function(e){var t=e.autoFocus,n=void 0===t||t,a=e.onSendMessage,o=e.onFocus,c=r.useState(""),s=Object(O.a)(c,2),l=s[0],u=s[1],d=Object(q.c)(l),f=d.setTextarea,p=d.textarea,m=d.rows,b=r.useContext(i.ThemeContext),g=Object(q.d)("(max-device-width: ".concat(b.breakpoints[1],")")),v=r.useCallback((function(){l&&(u(""),a(l))}),[l,a]),y=r.useCallback((function(){u(""),a("/restart")}),[a]);return r.createElement(j.Flex,{sx:{height:"72px"},onClick:function(){var e;return g&&(null===(e=p.current)||void 0===e?void 0:e.focus())},alignItems:"center",pl:[0,3,4],pr:[0,2,0]},r.createElement(j.Box,{flex:"1 0 auto",width:"0"},r.createElement(h.l,{autoFocus:n,"data-qa":"chat-input_textarea",fontSize:3,fullWidth:!0,noBorder:!0,onChangeValue:u,onFocus:o,onReturn:v,placeholder:"Start typing a message...",textarea:!0,rows:m,value:l,ref:f})),r.createElement(j.Box,null,r.createElement(Pe.a,{content:"Restart",disabled:g},r.createElement(h.d,{variant:"headerIcon",p:[0,"12px","28px"],onClick:y},r.createElement(h.j,{icon:"sync"})))),r.createElement(j.Box,null,r.createElement(Pe.a,{content:"Send",disabled:g},r.createElement(h.d,{variant:"headerIcon",p:[0,"12px","28px"],disabled:""===l,showWhenDisabled:!0,onClick:v},r.createElement(h.j,{icon:"paper-plane"})))))})),Bt=r.memo((function(e){var t=e.awaitingResponse,n=e.username,a=e.conversation,o=e.filter,c=e.onMessageClick,s=e.onFlagMessage,l=e.onSendMessage,u=e.onUndoMessage,d=e.timestamp,f=e.userAvatar,p=e.placeholder,m=e.noInteract,b=e.onChatFocus,h=r.useContext(i.ThemeContext),g=Object(q.d)("(max-device-width: ".concat(h.breakpoints[1],")")),v=r.useMemo((function(){return!a||0===a.length||3===a.length&&a.map((function(e){return e.event})).join(",")===["action","session_started","action"].join(",")}),[a]);return r.createElement(j.Flex,{flexDirection:"column",sx:{height:"100%",overflow:"auto"}},r.createElement(j.Box,{flex:"1 1 80%",sx:{overflow:"auto"}},r.createElement(j.Flex,{flexDirection:"column",sx:{height:"100%"}},r.createElement(j.Box,{flex:"1 1 auto",style:{overflow:"auto"},"data-e2e":"Conversation__Container"},v?p:r.createElement(Mt.a,{awaitingResponse:t,username:n,events:a,filter:o,onFlagMessage:s,onMessageButtonClick:l||null,onMessageClick:c||function(){},onUndoMessage:u,selectedTimestamp:d||0,userAvatar:f,interactive:!!l||!m})))),l&&!m&&r.createElement(j.Card,{flex:"0 1",width:1,sx:{backgroundColor:"neutral_0",borderTop:"1px solid",borderColor:"neutral_4",["@media (max-device-width: ".concat(h.breakpoints[1],")")]:{position:"fixed",bottom:0}}},r.createElement(Pt,{autoFocus:!g,onFocus:b,onSendMessage:l})))}));var Ht=Object(i.default)(Y.a).withConfig({displayName:"Popup__Tooltip",componentId:"sc-1jg9gyz-0"})([""," "," max-width:max-content !important;box-shadow:0 2px 8px 0 rgba(116,118,123,0.31) !important;"],k.border,k.color);function qt(e){e.actions;var t=e.title,n=e.children,a=e.content,o=e.onClickOutside,c=e.popupWidth,i=Object(y.a)(e,["actions","title","children","content","onClickOutside","popupWidth"]);return r.createElement(Ht,Object.assign({content:r.createElement(j.Box,{width:c},t&&r.createElement(j.Card,{p:4,sx:{borderBottom:"1px solid",borderColor:"neutral_2"}},r.createElement(j.Flex,{justifyContent:"space-between"},t,i.onClose&&r.createElement(j.Box,{onClick:function(){return i.onClose()},style:{cursor:"pointer"}},r.createElement(h.j,{icon:["fal","times"],color:"neutral_6",fontSize:"24px"})))),r.createElement(j.Box,null,a)),onClickOutside:o||i.onClose},i),n)}function Gt(e){var t=e.color,n=e.bg,a=e.borderColor;return"string"===typeof t&&(n=Object(ne.e)(.75,t),t=Object(ne.d)(.25,t),a=Object(ne.b)(n)>.9?t:n),r.createElement(h.r,Object.assign({},e,{bg:n,px:3,py:"6px",color:t,width:"100%",borderWidth:"1px",borderStyle:"solid",borderColor:a,borderRadius:"normal"}))}qt.defaultProps={animation:"shift-away",appendTo:document.body,arrow:!1,bg:"neutral_0",borderRadius:"large",offset:[0,16],interactive:!0,placement:"bottom-end",role:"popup"};var Vt=n(101),zt=n(137);function Wt(e){var t=e.tag,n=e.checked,a=e.onChange;return r.createElement(zt.a,{p:3,alignItems:"center",sx:{"&:hover":{bg:"neutral_1"}},onClick:function(){return a(!n)}},r.createElement(j.Box,{mr:2,sx:{visibility:n?"visible":"hidden"}},r.createElement(h.j,{color:"primary_2",icon:["fal","check"]})),r.createElement(Ft,{color:"#".concat(t.color),mr:2}),r.createElement(h.y,{color:"neutral_8"},t.value),r.createElement(j.Box,{flex:1}),r.createElement(Vt.b,null,n&&r.createElement(h.j,{color:"neutral_5",icon:["fal","times"]})))}var Yt=["50c4ab","bae25b","a7d0ff","fbb6ff","ffd036","f9946a","98fdff","ad96f0","5c8eff","ff5a5a","546c82","c3c3c3"];function Kt(e){var t=e.conversation,n=t.sender_id,a=Object(s.c)(),o=Object(s.d)((function(e){return e.messages.tags})),c=r.useState(""),i=Object(O.a)(c,2),l=i[0],u=i[1],d=r.useState(!1),f=Object(O.a)(d,2),p=f[0],m=f[1],b=r.useState(""),g=Object(O.a)(b,2),v=g[0],y=g[1],E=r.useMemo((function(){var e=t.tags[t.tags.length-1],n=o.find((function(t){return t.id===e}));if(!n)return Yt[0];var r=Yt.indexOf(n.color);return Yt[(r+1)%Yt.length]}),[t.tags,o]),x=r.useCallback((function(){a(Et.u.request({conversationId:n,tags:[{value:l,color:E}]})),m(!1)}),[n,l,a,E]);return r.createElement(r.Fragment,null,r.createElement(j.Flex,{flexDirection:"column",pb:2},r.createElement(j.Box,{px:20,py:2},r.createElement(h.y,{my:2,variant:"bodySecondary",sx:{fontWeight:"bold"}},"Manage tags"),r.createElement(h.l,{active:!0,fullWidth:!0,my:2,onChangeValue:y,placeholder:"Search tags...",value:v,variant:"search"})),r.createElement(h.v,null),o.length>0&&r.createElement(j.Box,{sx:{maxHeight:240,overflow:"auto"}},o.map((function(e){return""!==v&&e.value.toLowerCase().indexOf(v.toLowerCase())<0?null:r.createElement(j.Box,{key:e.id},r.createElement(Wt,{checked:t.tags.includes(e.id),tag:e,onChange:function(t){return function(e,t){a(t?Et.u.request({conversationId:n,tags:[e]}):Et.d.request({conversationId:n,tag:e}))}(e,t)}}))}))),r.createElement(h.v,null),r.createElement(j.Box,null,r.createElement(h.q,{px:20,py:3,onClick:function(){u(v),m(!0)},variant:"primary"},"Create new tag")),r.createElement(h.v,null),r.createElement(j.Box,null,r.createElement(h.q,{px:20,py:3,onClick:function(){return dt("https://rasa.com/docs/rasa-x/user-guide/track-progress/#tagging-conversations-via-the-api")},variant:"primary"},"Use the API to create tags"))),r.createElement(Qe,{title:"Create tag",open:p,onClose:function(){return m(!1)},style:{width:"412px"},noSeparator:!0},r.createElement(Ve.a,{text:"Tag name"},r.createElement(h.l,{placeholder:"Create new tag...",fullWidth:!0,value:l,onChangeValue:u,autoFocus:!0})),r.createElement(j.Flex,{flexDirection:"row-reverse",mr:-1,mt:4},r.createElement(h.d,{mx:1,variant:"primary",onClick:x},"Create and add"),r.createElement(h.d,{mx:1,variant:"secondary",onClick:function(){return m(!1)}},"Cancel"))))}function Qt(e){var t=e.conversation,n=Object(s.c)(),a=Object(s.d)((function(e){return e.messages.tags})),o=r.useState(!1),c=Object(O.a)(o,2),i=c[0],l=c[1];return r.useEffect((function(){n(Et.p.request())}),[n]),r.createElement(j.Flex,{width:"100%",flexWrap:"wrap",justifyContent:"center",flexDirection:"column"},r.createElement(j.Flex,{mb:"12px",width:"100%",justifyContent:"space-between",alignItems:"center"},r.createElement(h.i,{variant:"h4",color:"neutral_6"},"TAGS"),r.createElement(qt,{visible:i,popupWidth:"320px",content:r.createElement(Kt,{conversation:t}),borderRadius:"normal",onClose:function(){return l(!1)}},r.createElement(h.d,{variant:"icon",p:"8px",onClick:function(){return l(!i)}},r.createElement(h.j,{icon:"cog"})))),t.tags.map((function(e){var t=a.find((function(t){return t.id===e}));return void 0===t?null:r.createElement(Gt,{key:t.id,color:"#".concat(t.color),mb:2},t.value)})))}var Xt=function(e){var t=e.active,n=e.title,a=e.icon,o=e.onIconClick;return r.createElement(j.Flex,{width:"100%",justifyContent:"space-between",alignItems:"center",py:1},r.createElement(h.y,{variant:"bodySecondary"},n),r.createElement(h.d,{p:2,active:t,variant:"icon",onClick:o},r.createElement(h.j,{icon:t?["fas",a]:["fal",a]})))};function Zt(e){var t=e.conversation,n=e.conversationId,a=e.onConversationDelete,o=e.onUpdatedReviewStatus,c=Object(s.c)(),i=function(e){return"Tester"===(null===e||void 0===e?void 0:e.latest_input_channel)?"Tester":e&&"rasa"!==e.latest_input_channel?e.sender_name:"Anonymous user"}(t),l=r.useState(!1),u=Object(O.a)(l,2),d=u[0],f=u[1],p=r.useCallback((function(e){c(Et.C.request({conversationId:n,status:e})),o()}),[n,c,o]);return r.createElement(r.Fragment,null,r.createElement(j.Flex,{width:"100%",flexDirection:"column",alignItems:"center",mt:10,"data-qa":"conversation-info-panel_div"},r.createElement(j.Flex,{px:"100px",mb:3},r.createElement(h.b,{variant:"xl",mr:-44},r.createElement(h.j,{icon:["fas","robot"]})),r.createElement(h.b,{variant:"xl",bg:"neutral_3",ml:-44},r.createElement(h.j,{icon:["fas","user"]}))),r.createElement(h.y,{variant:"bodySecondary",sx:{fontWeight:"bold"}},"Conversation between"),r.createElement(h.y,{variant:"bodySecondary",textAlign:"center",sx:{fontWeight:"bold"}},"Demobot and ",i),r.createElement(h.y,{mt:2,mb:7,variant:"captionPrimary"},null===t||void 0===t?void 0:t.latest_input_channel),r.createElement(j.Flex,{width:"100%",flexDirection:"column",alignItems:"flex-start",px:4,py:3,sx:{borderTopStyle:"solid",borderTopWidth:"1px",borderColor:"neutral_3"}},r.createElement(h.i,{pb:3,variant:"h4",color:"neutral_6"},"ACTIONS"),r.createElement(Xt,{active:"reviewed"===(null===t||void 0===t?void 0:t.review_status),title:"Mark as reviewed",icon:"check-circle",onIconClick:function(){return p("reviewed"!==(null===t||void 0===t?void 0:t.review_status)?"reviewed":"unread")}}),r.createElement(Xt,{active:"saved_for_later"===(null===t||void 0===t?void 0:t.review_status),title:"Save for later",icon:"bookmark",onIconClick:function(){return p("saved_for_later"!==(null===t||void 0===t?void 0:t.review_status)?"saved_for_later":"unread")}}),r.createElement(Xt,{title:"Delete",icon:"trash-alt",onIconClick:function(){return f(!0)}})),t&&r.createElement(j.Flex,{width:"100%",flexDirection:"column",alignItems:"flex-start",px:4,py:"10px",sx:{borderTopStyle:"solid",borderTopWidth:"1px",borderColor:"neutral_3"}},r.createElement(Qt,{conversation:t}))),r.createElement(Qe,{title:"Delete conversation?",open:d,onClose:function(){return f(!1)},style:{width:"412px"},noSeparator:!0,px:4,py:0},r.createElement(h.y,null,"Are you sure you want to delete this conversation? This action cannot be undone."),r.createElement(j.Flex,{flexDirection:"row-reverse",mt:5,mb:5},r.createElement(h.d,{large:!0,mx:1,variant:"primary",onClick:function(){f(!1),a()}},"Delete"),r.createElement(h.d,{large:!0,mx:1,variant:"secondary",onClick:function(){return f(!1)}},"Cancel"))))}var Jt=i.default.ul.withConfig({displayName:"Accordion",componentId:"sc-1oehtxo-0"})([""," list-style:none;"],k.space);Jt.defaultProps={p:0,m:0};var $t=r.memo(Jt),en=n(57);function tn(){var e=Object(A.a)(["\n      transform: rotate(90deg);\n    "]);return tn=function(){return e},e}var nn=Object(i.default)(j.Flex).withConfig({displayName:"AccordionSection__Content",componentId:"q2jvwm-0"})(["display:",";"],(function(e){return e.expanded?"block":"none"})),rn=Object(i.default)(j.Flex).withConfig({displayName:"AccordionSection__IconContainer",componentId:"q2jvwm-1"})(["transition:transform ease 0.1s;",""],(function(e){return e.expanded&&Object(i.css)(tn())})),an=Object(i.default)(j.Flex).withConfig({displayName:"AccordionSection__StyledFlex",componentId:"q2jvwm-2"})(["cursor:pointer;"]);function on(e){var t=e.title,n=e.children,a=Object(y.a)(e,["title","children"]),o=r.useState(a.expanded),c=Object(O.a)(o,2),i=c[0],s=c[1];return r.createElement(en.a,{bottom:!0},r.createElement(an,{p:20,flexDirection:"row",alignItems:"center",onClick:function(){return s(!i)}},r.createElement(rn,{alignItems:"center",size:24,mr:2,justifyContent:"center",expanded:i},r.createElement(h.j,{icon:"angle-right"})),r.createElement(h.i,{variant:"h4"},t)),r.createElement(nn,{pl:7,pr:5,pb:5,expanded:i},n))}var cn=n(754),sn=n.n(cn);function ln(e){var t=e.conversation,n=Object(q.h)(),a=r.useMemo((function(){return t.filter((function(e){return"slot"===e.event})).reduce((function(e,t){return Object(E.a)({},e,{[t.name]:t.value})}),{})}),[t]),o=r.useMemo((function(){return Object.keys(a).map((function(e){return"".concat(e,": ").concat(a[e])})).join("\n")}),[a]),c=Object.keys(a);return 0===c.length?r.createElement(Ge,{disabled:!0,fullSize:!0,bg:"neutral_0"},"No slots"):r.createElement(Ge,{preformatted:!0,fullSize:!0,bg:"neutral_0",onCopy:function(){return n("entity:slots:copied")},clipboardText:o},r.createElement(r.Fragment,null,c.map((function(e){return r.createElement("div",{key:e,style:{marginBottom:"1em"}},r.createElement("div",null,r.createElement("b",null,e)),r.createElement("div",null,"boolean"===typeof(t=a[e])||null===t?r.createElement("i",null,String(t)):"object"!==typeof t?t:r.createElement(sn.a,{name:!1,src:t,enableClipboard:!1})));var t}))))}var un=n(45);function dn(){var e=Object(A.a)(["\n  border-radius: "," "," 0 0;\n  cursor: pointer;\n  border: solid 1px transparent;\n  transition: all ease 0.15s;\n  white-space: nowrap;\n\n  ","\n"]);return dn=function(){return e},e}var fn=Object(i.default)((function(e){return r.createElement(j.Flex,Object.assign({justifyContent:"center",alignItems:"center",as:"li",px:3,py:2,minWidth:100,textAlign:"center"},e))}))(dn(),Object(un.a)("radii.normal"),Object(un.a)("radii.normal"),(function(e){return e.active&&"\n    border: solid 1px ".concat(Object(un.a)("colors.neutral_5")(e),";\n    border-bottom-color: ").concat(Object(un.a)("colors.neutral_1")(e),";\n    background-color: ").concat(Object(un.a)("colors.neutral_1")(e),";\n    ")}));function pn(e){var t=e.elements,n=r.useState(0),a=Object(O.a)(n,2),o=a[0],c=a[1],i=r.useState(t.find((function(e){return e.default}))||t[0]),s=Object(O.a)(i,2),l=s[0],u=s[1];r.useEffect((function(){u((function(e){return t.find((function(t){return t.title===e.title}))}))}),[t]);var d=r.useMemo((function(){return t.map((function(e,t){return r.createElement(fn,{key:t,active:e.title===l.title,onClick:function(){var t;u(e),c((function(e){return e+1})),null===(t=e.onChange)||void 0===t||t.call(e)}},r.createElement(h.y,{variant:"bodySecondary",fontSize:1,color:e.title===l.title?"neutral_8":"primary_2"},e.title))}))}),[t,l]);return r.createElement(j.Box,null,r.createElement(j.Flex,{flexDirection:"row",as:"ul",sx:{listStyle:"none",position:"relative",zIndex:1},m:0,p:0,mr:4},d),r.createElement(j.Box,{mt:"-1px",sx:{boxShadow:"0 6px 21px 0 rgba(152, 152, 152, 0.06), 0 2px 4px 0 #f2f4fa",borderRadius:"normal"}},r.createElement(Ge,{key:o,disabled:0===l.content.length,preformatted:!0,fullSize:!0,css:l.title===t[0].title?{borderTopLeftRadius:0}:{},onCopy:l.onCopy&&l.onCopy},0===l.content.length?"No story yet":l.content)))}function mn(e){var t=e.editable,n=e.onClearStory,a=e.onCopy,o=e.onSaveStory,c=e.storyName,i=e.conversation,s=e.onSaveE2ETest,l=e.saveE2ETestLoading,u=e.activeGitRepository,d=r.useState(!1),f=Object(O.a)(d,2),p=f[0],m=f[1],b=r.useState(!1),g=Object(O.a)(b,2),v=g[0],y=g[1],E=Object(q.h)(),C=r.useMemo((function(){var e=[];return i.forEach((function(t){(function(e){return"user"===e.event||"slot"===e.event||"form"===e.event||"action"===e.event&&"action_listen"!==e.name})(t)&&("action"!==t.event||"action_restart"!==t.name&&"action_session_start"!==t.name?e.push("".concat("user"!==t.event?"    - ":"* ").concat(Object(jt.f)(t,p))):e=[])})),e.length>0?["## ".concat(c),""].concat(Object(x.a)(e)):[]}),[i,c,p]);r.useEffect((function(){y(!1)}),[C]);var S=r.useCallback((function(){s(C.join("\n")),y(!0)}),[C,s]),w=r.useMemo((function(){return!u||v&&!l}),[v,l,u]);return r.createElement($t,null,r.createElement(on,{title:"Story till now",expanded:!0},r.createElement(pn,{elements:[{title:"Story",content:C,onChange:function(){return m(!1)},onCopy:function(){return E("entity:story:copied")}},{title:"Test story",content:C,onChange:function(){E("entity:e2eStory:opened"),m(!0)},onCopy:function(){return E("entity:e2eStory:copied")}}]}),C.length>0&&(p?r.createElement(j.Flex,{flexDirection:"row-reverse",mt:3},r.createElement(pe.a,{resource:me.d.Tests,action:me.a.Create,yes:r.createElement(Pe.a,{disabled:!!u,content:r.createElement(j.Box,{sx:{textAlign:"center"}},"Connect to a remote Git repository to save this test story")},r.createElement(h.m,{disabled:w,loading:l,onClick:S,variant:"primary"},v&&!l?r.createElement(r.Fragment,null,r.createElement(h.j,{mr:1,icon:"check-circle"})," Saved"):"Save test story"))})):t?r.createElement(j.Flex,{mt:3,flexDirection:"row-reverse",mr:-1},r.createElement(pe.a,{resource:me.d.Stories,action:me.a.Create,yes:r.createElement(h.d,{mx:1,onClick:function(){return o&&o({story:C.join("\n")})},variant:"primary"},"Save Story")}),n&&r.createElement(h.d,{mx:1,onClick:n,ml:1,variant:"secondary"},"Clear")):r.createElement(j.Flex,{flexDirection:"row-reverse",mt:3},r.createElement(h.d,{onClick:function(){return a&&a()},variant:"primary"},"Copy to interactive learning")))),r.createElement(on,{title:"Slots",expanded:!0},r.createElement(ln,{conversation:i})))}var bn=function(e,t,n){return e.confidence?r.createElement(j.Flex,null,r.createElement(h.y,{display:"inline-block",title:t,variant:"bodySecondary"},t),function(e){return e.confidence&&r.createElement(h.y,{mx:1,display:"inline-block",variant:"bodySecondary",color:"neutral_6"},"(",e.confidence,")")}(e),e.value===n&&r.createElement(h.y,{ml:1,display:"inline-block",marginLeft:"auto",variant:"bodySecondary",color:"neutral_6"},"predicted intent")):t},hn=r.memo((function(e){var t=e.intent,n=e.intents,a=e.onChange,o=e.predictedIntent,c=e.rankedIntents,i=void 0===c?[]:c,s=e.variant,l=Object(y.a)(e,["intent","intents","onChange","predictedIntent","rankedIntents","variant"]),u=r.useState(!1),d=Object(O.a)(u,2),f=d[0],p=d[1],m=r.useMemo((function(){if(!i||0===i.length)return n.map((function(e){return{value:e,label:e,data:{name:e}}}));var e=n.map((function(e){return{name:e}})),t=i.map((function(e){return Object(E.a)({},e,{confidence:e.confidence||0})})).sort((function(e,t){return Number(t.confidence)-Number(e.confidence)})).map((function(e){return Object(E.a)({},e,{confidence:Number(e.confidence)})})),r=t[t.length-1],a=Number(r.confidence||0).toPrecision(2);return Object(Ot.uniqBy)(t.concat(e),"name").map((function(e){return{value:e.name,label:e.name,confidence:"confidence"in e?Number(e.confidence).toPrecision(2):"< ".concat(a),data:e}})).filter((function(e){return null!==e.value}))}),[i,n]),b=null===t?null:m.find((function(e){return e.value===t}))||{value:t,label:t,data:{name:t}},g=r.useCallback((function(e){return e&&a(e.data||{name:e.value})}),[a]),v=r.useState(""),x=Object(O.a)(v,2),j=x[0],C=x[1];Object(q.b)((function(){""!==j&&g({value:j})}),200,[g,j]);var S=Object(q.e)(me.d.Domain,me.a.Update);return f?r.createElement(h.l,{block:l.block,px:2,autoFocus:!0,onChangeValue:C,value:j,fullWidth:l.fullWidth,variant:s,suffix:r.createElement(r.Fragment,null,r.createElement(h.d,{fontSize:"12px",onClick:function(){C(""),p(!1)},ml:3,variant:"inverse"===s?"plain":"plainDropdown"},r.createElement(h.j,{icon:"times"})))}):r.createElement(h.u,Object.assign({renderItem:function(e,t){return bn(e,t,o||null)},onChange:g,onCreate:S?function(e){C(e),p(!0)}:void 0,createNewText:"Create new intent",items:m,value:b&&b.value.length?b:null,variant:s},l))}));function gn(e){var t=e.entities,n=e.onChangeEntity,a=e.entityTypes,o=e.onRemoveEntity,c=e.onClickOutside,s=e.synonyms,l=e.enableCreation,u=r.useContext(i.ThemeContext),d=r.useRef(null);Object(q.a)(d,c,(function(e){return Object(x.a)(e.classList).find((function(e){return e.startsWith("rasa-x-entity-table-select")}))}));var f=r.useCallback((function(e){return function(t){t&&!Array.isArray(t)&&n(Object(E.a)({},e,{entity:t.value}))}}),[n]),p=r.useCallback((function(e){return function(t){t&&!Array.isArray(t)&&n(Object(E.a)({},e,{entity_synonym_id:t.value}))}}),[n]),m=r.useState({}),b=Object(O.a)(m,2),g=b[0],v=b[1];return Object(q.b)((function(){Object.values(g).forEach((function(e){var t=e.creating,r=e.entity,a=e.previous;if(null===r&&null!==a)n(a);else{if(!0!==t)return;r&&n(r)}}))}),200,[g,n]),r.createElement(r.Fragment,null,r.createElement(j.Box,{width:"100%",as:"table",sx:{width:"100%",borderSpacing:0,textAlign:"left",display:"flex"},ref:d},r.createElement("tbody",{style:{width:"100%"}},r.createElement(j.Flex,{as:"tr",sx:{width:"calc(100% - 23px)"}},r.createElement(j.Flex,{as:"th",width:1/3},r.createElement(h.i,{variant:"h5"},"Word/phrase")),r.createElement(j.Flex,{as:"th",width:1/3},r.createElement(h.i,{variant:"h5"},"Entity type")),r.createElement(j.Flex,{as:"th",width:1/3},r.createElement(h.i,{variant:"h5"},r.createElement(j.Flex,{alignItems:"center"},"Synonym"," ",r.createElement(ze,{ml:1,color:"neutral_5",content:r.createElement(j.Box,{sx:{cursor:"default",textAlign:"left"}},"Whenever this entity is extracted, it will use this value instead of the actual text in the message."," ",r.createElement("a",{style:{color:Object(k.get)(u,"colours.neutral_0")},target:"_blank",rel:"noopener noreferrer",href:"https://rasa.com/docs/rasa/nlu/training-data-format/#entity-synonyms"},"Learn more"))}))))),t&&s&&t.map((function(e){var t="".concat(e.start,"-").concat(e.end,"-").concat(e.extractor||"none"),n=function(e){return!!e.extractor&&!["ner_crf","CRFEntityExtractor","DIETClassifier","ner_mitie","MitieEntityExtractor"].includes(e.extractor)}(e),c=e.value,i=e.entity?{value:e.entity,label:e.entity}:null,u=e.entity_synonym_id&&s.find((function(t){return t.id===e.entity_synonym_id}))?{label:s.find((function(t){return t.id===e.entity_synonym_id})).synonym_reference,value:e.entity_synonym_id}:null,d=g[t],m=l?function(){return v((function(n){return Object(E.a)({},n,{[t]:Object(E.a)({},n[t],{previous:e,creating:!0})})}))}:void 0,b=n||!l&&0===a.length;return r.createElement(j.Flex,{as:"tr",key:t},r.createElement(j.Box,{as:"td",width:1/3,pt:2,pr:2,pl:0},r.createElement(h.l,{fullWidth:!0,value:c,disabled:!0,title:c})),r.createElement(j.Box,{as:"td",width:1/3,pt:2,pr:2,pl:0},d&&d.creating?r.createElement(h.l,{px:2,autoFocus:!0,onChangeValue:function(n){return v((function(r){return Object(E.a)({},r,{[t]:Object(E.a)({},r[t],{entity:Object(E.a)({},e,{entity:n})})})}))},value:d.entity?d.entity.entity:"",suffix:r.createElement(r.Fragment,null,r.createElement(h.d,{fontSize:"12px",p:"6px",variant:"plainIcon",onClick:function(){return v((function(e){return Object(E.a)({},e,{[t]:Object(E.a)({},e[t],{entity:null,creating:!1})})}))}},r.createElement(h.j,{icon:"times"})))}):r.createElement(h.u,{className:"rasa-x-entity-table-select",onCreate:m,items:a.map((function(e){return{value:e,label:e}})),value:i,disabled:b,onChange:f(e),fullWidth:!0})),r.createElement(j.Box,{as:"td",width:1/3,pt:2,pr:2,pl:0},r.createElement(h.u,{className:"rasa-x-entity-table-select",placeholder:"Select a synonym",value:u,disabled:n||0===s.length,items:s.map((function(e){return{value:e.id,label:e.synonym_reference}})),onChange:p(e),fullWidth:!0})),r.createElement(j.Box,{as:"td",sx:{alignSelf:"center"},pt:2},n?r.createElement(Pe.a,{content:"This entity is read-only since it was extracted by a pre-trained model."},r.createElement(h.j,{icon:"info-circle",color:"neutral_5"})):r.createElement(h.d,{variant:"plainIcon",fontSize:4,p:0,onClick:function(){return o(e)}},r.createElement(h.j,{icon:"trash-alt"}))))})))))}function vn(e){var t=e.entities,n=e.entityTypes,a=e.onChangeEntity,o=e.onClickOutside,c=e.onRemoveEntity,i=e.synonyms,s=e.text,l=Object(q.e)(me.d.Domain,me.a.Update),u=0===n.length&&!l,d=u?"warning":"success",f=u?"You don't have permission to create entities.":"Select more words or phrases in the sentence to annotate more entities.";return r.createElement(r.Fragment,null,r.createElement(gn,{entities:t,entityTypes:n,onChangeEntity:a,onClickOutside:o,onRemoveEntity:c,text:s,synonyms:i,enableCreation:l}),r.createElement(h.a,{variant:d,m:0,py:"10px",mt:3,mb:2},r.createElement(h.y,{as:"i",variant:"bodySecondary",lineHeight:"initial",color:"inherit"},f)))}vn.defaultProps={onClickOutside:function(){}};var yn=n(102),En=n(126),xn=n(120),On=n(119),jn=n(416),Cn=n.n(jn),Sn=n(424),wn=n(1433),kn=n(755),Tn=n.n(kn),Rn=n(475),An=function(e){e.placeholderColor;var t=Object(y.a)(e,["placeholderColor"]);return r.createElement(Tn.a,t)},_n=Object(i.default)(An).withConfig({displayName:"Textarea__EditableArea",componentId:"sc-1kx7jdj-0"})([""," "," "," line-height:",";width:100%;min-height:calc(("," * 2) + ","px);background:transparent;white-space:pre-wrap;word-wrap:break-word;resize:none;outline:none;display:inline-block;cursor:text;&:empty:before{content:attr(placeholder);display:block;","}"],k.space,k.fontSize,k.border,Object(un.a)("lineHeights.big"),(function(e){return e.px}),(function(e){return Number(e.fontSize)/2}),Object(k.system)({placeholderColor:{property:"color",scale:"colors"}})),In=function(e){Object(xn.a)(n,e);var t=Object(On.a)(n);function n(){var e;Object(yn.a)(this,n);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).state={height:0},e.container=r.createRef(),e.ro=new Rn.default((function(t){var n=Object(O.a)(t,1)[0],r=e.props.onResize,a=n.contentRect.height,o=e.state.height;r&&a!==o&&(e.setState({height:a}),r())})),e}return Object(En.a)(n,[{key:"componentDidMount",value:function(){var e=this.container.current;e&&this.ro.observe(e)}},{key:"componentWillUnmount",value:function(){var e=this.container.current;e&&this.ro.unobserve(e)}},{key:"render",value:function(){var e=this.props,t=e.onEnter,n=e.onChange,a=e.returnHtml,o=e.forwardedRef,c=(e.onResize,e.onSelect),i=e.value,s=e.onFocus,l=Object(y.a)(e,["onEnter","onChange","returnHtml","forwardedRef","onResize","onSelect","value","onFocus"]);return r.createElement(j.Flex,{width:"100%",ref:this.container,onKeyDown:function(e){t&&"Enter"===e.key&&(e.preventDefault(),t(e))},onSelect:function(e){return c&&c(e,e.currentTarget)}},r.createElement(_n,Object.assign({onFocus:s,onChange:function(e){var t=e.target.value;if(a)n(t);else{var r=document.createElement("div");r.innerHTML=t,n(r.textContent||"")}},html:i||"",innerRef:o},l)))}}]),n}(r.Component);In.defaultProps={fontSize:13,px:0,py:0,radius:"normal",placeholderColor:"neutral_6"};var Fn=r.forwardRef((function(e,t){return r.createElement(In,Object.assign({forwardedRef:t},e))}));function Un(e){var t=0,n=[],r=[],a="",o=document.createElement("div");return o.innerHTML=e,o.childNodes.forEach((function(e){var o=e.textContent||"",c=o.length;if(e instanceof HTMLElement){var i=Number(e.dataset.num);"start"===e.dataset.type?n[i]={start:t,end:t}:(r[i]=n[i],delete n[i]),n=n.map((function(e){return Object(E.a)({},e,{end:e.end+c})}))}else n.forEach((function(e,t){r[t]=e})),n=[];t+=c,a+=o})),n.forEach((function(e,t){r[t]=e})),{text:a,marks:r.map((function(e){return Object(E.a)({},e,{value:a.substring(e.start,e.end)})}))}}var Nn=function(e){Object(xn.a)(n,e);var t=Object(On.a)(n);function n(){var e;Object(yn.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).handleSelect=function(t,n){var r=e.props,a=r.onSelect,o=r.onClickMark,c=r.marks,i=window.getSelection();if(null!==i){var s=i.getRangeAt(0),l=s.cloneRange();l.selectNodeContents(n),l.setEnd(s.startContainer,s.startOffset);var u=l.toString().length;l.setEnd(s.endContainer,s.endOffset);var d=l.toString().length,f=c.find((function(e){return e.start<=u&&e.end>u}));u===d||f&&!f.extractor&&f.start===u&&f.end===d?f&&o&&o(f):a&&a(u,d)}},e.handleChange=function(t){var n=e.props,r=n.marks,a=n.value,o=Un(t),c=o.text,i=o.marks;e.props.onChange(c,i.map((function(e,t){var n=r[t];return Object(E.a)({},n,{},e,{},a.substring(n.start,n.end)!==n.value?{value:r[t].value}:{})})))},e}return Object(En.a)(n,[{key:"shouldComponentUpdate",value:function(e){var t=this;return e.value!==this.props.value||(e.marks.length!==this.props.marks.length||!!e.marks.some((function(e,n){return e.entity!==t.props.marks[n].entity})))}},{key:"render",value:function(){var e=this.props,t=e.value,n=e.marks,a=(e.onChange,e.onSelect,e.onClickMark,Object(y.a)(e,["value","marks","onChange","onSelect","onClickMark"])),o=function(e,t){if(0===t.length)return e;var n=new Cn.a,r=t.reduce((function(e,t,n){return[].concat(Object(x.a)(e),[{i:t.start,type:"start",mark:t,num:n},{i:t.end,type:"end",mark:t,num:n}])}),[]).sort((function(e,t){return e.i-t.i})).reduce((function(t,r){var a,o=Object(O.a)(t,3),c=o[0],i=o[1],s=o[2],l=r.mark,u=r.type,d=r.i,f=r.num;if("start"===u)a=[].concat(Object(x.a)(s),[l.entity]).sort();else{var p=s.indexOf(l.entity);a=[].concat(Object(x.a)(s.slice(0,p)),Object(x.a)(s.slice(p+1)))}var m="";if(a.length>0){var b=a.map((function(e){return n.hex(e)})).reduce((function(e,t){return null===e?new Sn.a(t):e.mix(t)}),null);m='<mark data-type="'.concat(u,'" data-num="').concat(f,'" style="background-color: ').concat(b,"; color: ").concat(Object(wn.a)(b||"transparent",["black","white"]),'">')}return["".concat(c).concat(e.substring(i,d)).concat(s.length>0?"</mark>":"").concat(m),d,a]}),["",0,[]]),a=Object(O.a)(r,2),o=a[0],c=a[1];return"".concat(o).concat(e.substring(c,e.length))}(t,n);return r.createElement(Fn,Object.assign({},a,{onSelect:this.handleSelect,onChange:this.handleChange,value:o,returnHtml:!0}))}}]),n}(r.Component);function Ln(e){var t=e.entities,n=e.entityTypes,a=e.onChangeEntity,o=e.onClickOutside,c=e.onRemoveEntity,i=e.hidePopover,s=e.showPopover,l=e.text,u=e.children,d=e.synonyms,f=(e.onShow,Object(y.a)(e,["entities","entityTypes","onChangeEntity","onClickOutside","onRemoveEntity","hidePopover","showPopover","text","children","synonyms","onShow"]));return r.createElement(qt,Object.assign({content:r.createElement(j.Flex,{p:5,flexDirection:"column",alignItems:"start",width:576,style:{textAlign:"left"}},r.createElement(h.i,{variant:"h2",mb:3},"Annotate Entities"),r.createElement(j.Box,{width:1},r.createElement(vn,{entities:t,entityTypes:n,onChangeEntity:a,onClickOutside:o,onRemoveEntity:c,text:l,synonyms:d}))),visible:s,placement:"top",arrow:!0,offset:[0,24],disabled:i},f),u)}var Dn=function(e,t){return e.start===t.start&&e.end===t.end&&e.extractor===t.extractor},Mn=r.memo((function(e){var t=e.entities,n=void 0===t?[]:t,a=e.entityTypes,o=e.text,c=e.onChange,i=e.onResize,s=e.hidePopover,l=e.synonyms,u=r.useState(!1),d=Object(O.a)(u,2),f=d[0],p=d[1];return r.createElement(Ln,{text:o,entities:n,entityTypes:a,onChangeEntity:function(e){return c(o,n.map((function(t){return Dn(t,e)?e:t})))},onClose:function(){return p(!1)},onClickOutside:function(){return p(!1)},onRemoveEntity:function(e){var t=n.filter((function(t){return!Dn(t,e)}));0===t.length&&p(!1),c(o,t)},hidePopover:s,showPopover:f,synonyms:l},r.createElement(Nn,{fontSize:13,marks:n,value:o,onChange:c,onSelect:function(e,t){c(o,n.concat({start:e,end:t,value:o.substring(e,t),entity:a[0]})),p(!0)},onClickMark:function(){return p(!0)},onResize:i}))})),Pn=function(e,t){return e.start===t.start&&e.end===t.end&&e.extractor===t.extractor};function Bn(e){var t=e.message,n=e.intents,a=void 0===n?[]:n,o=e.correction,c=e.onChangeCorrection,i=e.onFetchExample,l=e.onSaveCorrection,u=e.originalIntent,d=e.entityTypes,f=e.onChange,p=e.entities,m=e.rankedIntents,b=e.synonyms,g=Object(s.c)(),v=Object(q.h)(),y=r.useState(""),C=Object(O.a)(y,2),S=C[0],w=C[1];r.useEffect((function(){return w(t.text)}),[t]);var k=r.useCallback((function(e){return g(kt.c.request(e))}),[g]),T=Object(s.d)((function(e){return e.examples.draftExampleExists})),R=r.useMemo((function(){return t.text!==S}),[t,S]);Object(q.j)((function(){k(S)}),100,[S]);var A=r.useCallback((function(e){return o&&c(Object(E.a)({},o,{intent:e.name}))}),[o,c]),_=r.useCallback((function(e){return f(t.text,p.map((function(t){return Pn(t,e)?e:t})))}),[p,f,t]),I=r.useCallback((function(e){var n=p?p.filter((function(t){return!Pn(t,e)})):[];f(t.text,n)}),[p,f,t]),F=r.useCallback((function(){o&&S&&(v("entity:annotation:corrected"),l(Object(E.a)({},o,{text:S})))}),[o,l,S,v]),U=r.useMemo((function(){if(u){var e=a.indexOf(u),t=a.filter((function(t,n){return n!==e}));return[u].concat(Object(x.a)(t))}return a}),[a,u]);return r.createElement(j.Flex,{flex:"1",flexDirection:"column"},r.createElement(j.Box,null,o&&r.createElement(r.Fragment,null,r.createElement(j.Flex,{alignItems:"center",mb:2},r.createElement(h.i,{variant:"h5",mr:1},"Sentence"),r.createElement(Pe.a,{maxWidth:"350px",content:"Edit and/or annotate this sentence with entities and the correct intent and add it to your training data.",px:3,py:3},r.createElement(h.j,{fontSize:1,color:"neutral_6",icon:"info-circle"}))),r.createElement(j.Flex,{alignItems:"center",justifyContent:"space-between",flexDirection:"row",mb:3,px:3,py:"6px",sx:{minHeight:"40px",border:"1px solid",borderColor:"neutral_5",borderRadius:"normal","&:hover":{borderColor:"neutral_6"},"&:focus-within:not(:disabled), &:focus:not(:disabled)":{borderColor:"primary_2"}}},o&&r.createElement(r.Fragment,null,r.createElement(j.Box,{width:"100%"},r.createElement(Mn,{text:S,entities:o.entities,entityTypes:d,onChange:function(e,t){w(e),t.length>0&&c(Object(E.a)({},o,{entities:t,text:e}))},hidePopover:!0,synonyms:b})),T&&R&&r.createElement(j.Box,{ml:2},r.createElement(Pe.a,{content:"This already exists as training data."},r.createElement(h.j,{fontSize:1,color:"neutral_6",icon:"exclamation-circle"}))))),r.createElement(h.i,{variant:"h5",mb:2},"Correct intent"),r.createElement(hn,{intent:o.intent,intents:U,predictedIntent:u,rankedIntents:m,onChange:A,fullWidth:!0}),p.length>0&&r.createElement(j.Box,{mt:4,mb:3},r.createElement(h.v,{variant:"center",mb:3},r.createElement(h.i,{variant:"h5"},"Correct entities")),r.createElement(vn,{entityTypes:d,onChangeEntity:_,onRemoveEntity:I,text:t.text,entities:p,synonyms:b}))),r.createElement(j.Flex,{mt:4},r.createElement(j.Box,{flex:"1"}),r.createElement(j.Box,null,r.createElement(h.d,{disabled:!o||!o.isDirty&&!R,onClick:function(){w(t.text),i(t.text)},variant:"secondary"},"Cancel"),r.createElement(h.d,{disabled:!o||!o.isDirty&&(T||S.length<=0),variant:"primary",ml:2,onClick:F},"Save to training data")))))}var Hn=r.memo((function(e){var t=e.date,n=e.color,a=fe()(1e3*t);return r.createElement(h.y,{color:n,variant:"metadata",title:a.format("D MMM YYYY h:mm a")},a.format("h:mm a"))})),qn=n(215),Gn=function(e){var t=e.newIntent,n=e.oldIntent,a=e.confidence,o=t!==n;return r.createElement(r.Fragment,null,r.createElement(Pe.a,{content:"Intent and Confidence",placement:"bottom"},r.createElement(qn.a,{variant:o?"incorrect":"default",confidence:o?null:a},n),o&&t&&r.createElement(qn.a,{ml:1,variant:"correct"},t)))},Vn=i.default.div.withConfig({displayName:"MessagePreview__DotSeparator",componentId:"sc-1qsh8rv-0"})(["width:4px;height:4px;background-color:#979fb4;border-radius:50%;margin-right:12px;margin-left:12px;"]);function zn(e){var t=e.action,n=e.message,a=e.confidence,o=e.correction,c=(e.entityTypes,e.originalIntent),i=(e.onChangeCorrection,e.onFlagMessage),s=(e.synonyms,n.text),l=n.timestamp,u=n.event,d=r.useCallback((function(){i(n.timestamp,!n.is_flagged)}),[i,n]);return r.createElement(j.Flex,{pl:4,pr:6,py:5,sx:{borderBottomStyle:"solid",borderBottomWidth:"1px",borderColor:"neutral_4"}},r.createElement(j.Box,{mr:3,sx:{minWidth:"40px "}},r.createElement(h.b,{variant:"large",bg:"user"===u?"neutral_3":"cyan_2"},r.createElement(h.j,{icon:["fas","user"===u?"user":"robot"]}))),r.createElement(j.Flex,{flexDirection:"column"},r.createElement(h.y,{variant:"bodySecondary",mb:2,as:"div"},s),r.createElement(j.Flex,{flexDirection:"row",alignItems:"center"},r.createElement(Hn,{color:"neutral_6",date:l}),"user"===n.event&&o&&c&&r.createElement(r.Fragment,null,r.createElement(Vn,null),r.createElement(Gn,{newIntent:o.intent,oldIntent:c,confidence:a}),r.createElement(Vn,null),r.createElement(h.d,Object.assign({variant:"plainIcon",onClick:d},n.is_flagged&&{color:"secondary_2"}),r.createElement(h.j,{icon:n.is_flagged?["fas","flag-alt"]:["far","flag-alt"]}))),"bot"===n.event&&t&&r.createElement(r.Fragment,null,r.createElement(Vn,null),r.createElement(Pe.a,{content:"Action and Confidence",placement:"bottom"},r.createElement(qn.a,null,t,a&&r.createElement("span",{style:{marginLeft:"4px"}},"(",a.toFixed(2),")")))))))}function Wn(e){var t=e.conversation,n=void 0===t?[]:t,a=e.conversationId,o=e.editable,c=e.entityTypes,i=e.correction,l=e.onChangeCorrection,u=e.onClose,d=e.onCopy,f=e.onFlagMessage,p=e.onFetchExample,m=e.onSaveCorrection,b=e.intents,g=e.storyName,v=e.timestamp,y=e.synonyms,O=e.onSaveE2ETest,C=e.saveE2ETestLoading,S=e.activeGitRepository,w=r.useMemo((function(){return n.findIndex((function(e){return e.timestamp===v}))}),[n,v]),k=r.useMemo((function(){return n[w]}),[n,w]),T=Object(s.d)((function(e){return e.examples.draftExampleExists}));r.useEffect((function(){k&&"user"===k.event&&p(k.text)}),[k,p]);var R=k&&["user","bot"].includes(k.event)?k:null,A=r.useMemo((function(){for(var e=w-1;e>=1&&"bot"===n[e].event;)e--;return e>=0&&"action"===n[e].event?n[e]:null}),[w,n]),_=r.useMemo((function(){return k&&"user"===k.event?k.parse_data.intent.confidence:k&&"bot"===k.event&&A&&A.confidence?A.confidence:null}),[k,A]),I=r.useMemo((function(){return k&&"user"===k.event?k.parse_data.intent_ranking:[]}),[k]),F=r.useMemo((function(){return A?A.name:null}),[A]),U=r.useMemo((function(){return function(e,t){var n=void 0!==t?e.findIndex((function(e){return e.timestamp===t})):-1,r=n<0?e.length-1:n,a=Object(x.a)(e).reverse(),o=e.length-r,c=a.slice(o).findIndex((function(e){return"session_started"===e.event||"restart"===e.event})),i=c>=0?c+o:e.length,s=e.length-i;return e.slice(s,r+1)}(n,v)}),[n,v]),N=r.useCallback((function(e,t){return l(Object(E.a)({},i,{entities:t}))}),[i,l]),L=r.useMemo((function(){return R&&function(e){if("user"===e.event&&e.parse_data.response_selector){var t=e.parse_data.intent.name,n=e.parse_data.response_selector,r=Object.keys(n)[0],a=n&&r&&n[r].full_retrieval_intent;return a&&a.length>0&&a.split("/")[0]===t?a:t}return"user"===e.event&&e.parse_data.intent.name?e.parse_data.intent.name:null}(R)}),[R]),D=R&&"user"===R.event?{intent:L,entities:[],text:R.text}:null;return r.createElement(j.Flex,{"data-qa":"conversation-inspector_div",flexDirection:"column"},r.createElement(h.d,{fontSize:5,variant:"plainIcon",onClick:u,p:3,style:{alignSelf:"flex-end",position:"absolute"}},r.createElement(h.j,{icon:"times"})),R&&r.createElement(zn,{message:R,onChangeCorrection:l,onFlagMessage:f,entityTypes:c,correction:i||D,synonyms:y,confidence:_,action:F,originalIntent:L}),r.createElement($t,null,R&&"user"===R.event&&r.createElement(on,{title:T?"This message already exists as training data":"Create training data",expanded:!0},r.createElement(j.Box,null,r.createElement(Bn,{onChange:N,onFetchExample:p,entityTypes:c,onChangeCorrection:l,onSaveCorrection:m,correction:i||D,conversationId:a,message:R,intents:b,rankedIntents:I,entities:i?i.entities:[],synonyms:y,originalIntent:L}))),r.createElement(mn,{activeGitRepository:S,saveE2ETestLoading:C,onSaveE2ETest:O,editable:o,onCopy:d,storyName:g,conversation:U})))}var Yn=Object(i.default)(Y.a).withConfig({displayName:"Dropdown__Tooltip",componentId:"sc-1mdiyw5-0"})([""," "," max-width:max-content !important;box-shadow:0 2px 8px 0 rgba(116,118,123,0.31) !important;"],k.border,k.color),Kn=Object(i.default)(j.Flex).withConfig({displayName:"Dropdown__Option",componentId:"sc-1mdiyw5-1"})(["text-align:left;cursor:pointer;transition:all ease 0.15s;",""],ge.d);function Qn(e){var t=e.children,n=e.options,a=e.onClose,o=e.clearDateRangeInputs,c=e.onClickOutside,i=Object(y.a)(e,["children","options","onClose","clearDateRangeInputs","onClickOutside"]),s=r.useMemo((function(){return r.createElement(j.Box,{as:"ul",style:{listStyle:"none"},width:348,p:0,my:2},n.map((function(e,t){var n=e.label,c=e.action,i=e.customLabel;return i?r.createElement(Kn,{as:"li",key:t,sx:{marginTop:"8px"},onClick:function(){c&&(c(),a(),o&&o())}},i(a)):r.createElement(Kn,{bgHover:"neutral_1",as:"li",key:t,onClick:function(){c&&c(),a(),o&&o()}},r.createElement(h.y,{width:1,as:"div",variant:"bodySecondary",lineHeight:"48px",px:4},n))})))}),[n,a,o]);return r.createElement(Yn,Object.assign({content:s,borderRadius:"normal",bg:"neutral_0",onClickOutside:c||a},i),r.createElement(j.Box,null,t))}function Xn(e){var t=e.onChange,n=r.useState("All time"),a=Object(O.a)(n,2),o=a[0],c=a[1],s=r.useState(""),l=Object(O.a)(s,2),u=l[0],d=l[1],f=r.useState(""),p=Object(O.a)(f,2),m=p[0],b=p[1],g=r.useState(!1),v=Object(O.a)(g,2),y=v[0],E=v[1],C=r.useContext(i.ThemeContext),S=function(e){return e.format("YYYY-MM-DD")},w=function(){return fe()().startOf("day")},T=r.useMemo((function(){return[{label:"Today",from:S(w())},{label:"Yesterday",from:S(w().subtract(1,"days")),to:S(w())},{label:"Last week",from:S(w().subtract(1,"weeks"))},{label:"Last month",from:S(w().subtract(1,"months"))},{label:"Last year",from:S(w().subtract(1,"years"))},{label:"All time",from:null}]}),[]),R=r.useMemo((function(){return T.map((function(e){return{label:e.label,action:function(){c(e.label),t({from:e.from,to:e.to||null})}}}))}),[t,T]),A=function(e){var n=fe()(u,["DD/MM/YYYY","D/M/YYYY"],!0),r=fe()(m,["DD/MM/YYYY","D/M/YYYY"],!0);n.isValid()&&r.isValid()&&(c("".concat(u," - ").concat(m)),e(),t({from:S(n),to:S(r)||null}))},_={label:"",customLabel:function(e){return r.createElement(Ve.a,{text:"Custom",px:4,pt:3,mb:4,sx:{borderTop:"1px solid;",borderColor:"neutral_1"}},r.createElement(j.Flex,{alignItems:"center"},r.createElement(h.l,{width:"140px",placeholder:"dd/mm/yyyy",value:u,onChangeValue:function(e){return d(e)},onReturn:function(){return A(e)},maxLength:10}),r.createElement(h.j,{icon:"minus",ml:2,mr:2,style:{width:"4px",color:"neutral_8"}}),r.createElement(h.l,{width:"140px",placeholder:"dd/mm/yyyy",value:m,onChangeValue:function(e){return b(e)},onReturn:function(){return A(e)},maxLength:10})))}};return r.createElement(Qn,{options:[].concat(Object(x.a)(R),[_]),clearDateRangeInputs:function(){d(""),b("")},onClose:function(){return E(!1)},visible:y},r.createElement(h.d,{variant:"headerIcon",onClick:function(){return E(!y)}},r.createElement(j.Box,{sx:{width:"245px",textAlign:"left"}},r.createElement(h.j,{icon:"calendar-alt"}),r.createElement("span",{style:{margin:"0 auto 0 8px",color:Object(k.get)(C,"colours.neutral_8"),fontSize:Object(k.get)(C,"fontSizes.3")}},o),r.createElement(h.j,{icon:"chevron-down",pull:"right",color:"neutral_7",fontSize:"12px",pt:"2px"}))))}Qn.defaultProps={animation:"shift-away",placement:"bottom-end",offset:[0,8],interactive:!0,role:"dropdown",arrow:!1,appendTo:document.body};var Zn=n(390),Jn={lineHeight:"inherit",marginLeft:"12px",maxWidth:"calc(100% - 48px)",overflowWrap:"break-word"};function $n(e){var t=e.text,n=e.query,a=e.icon;if(""===n)return r.createElement(r.Fragment,null,a&&a(t),r.createElement(h.y,{variant:"bodySecondary",sx:Jn},t));var o=t.split(n);return r.createElement(r.Fragment,null,a&&a(t),r.createElement(h.y,{variant:"bodySecondary",sx:Jn}," ",o.map((function(e,t){return t===o.length-1?r.createElement(r.Fragment,{key:t},e):r.createElement(r.Fragment,{key:t},e,r.createElement("strong",null,n))}))," "))}function er(e){var t=e.items,n=e.icon,a=e.selected,o=e.searchBoxPlaceholder,c=e.emptyListPlaceholder,i=e.noResultsPlaceholder,s=e.onChange,l=r.useState(""),u=Object(O.a)(l,2),d=u[0],f=u[1],p=r.useMemo((function(){var e=new RegExp((d||"").replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),"i");return t.filter((function(t){return t.match(e)}))}),[t,d]);return r.createElement(Zn.a,{name:"Intents",items:p,checkedItems:a,onChange:function(e){return s(e)},placeholder:r.createElement(j.Flex,{color:"neutral_6",justifyContent:"center",alignItems:"center",flexDirection:"column",style:{height:"100%"}},r.createElement(h.j,{icon:"exclamation-circle",mb:2,mt:-52,fontSize:4}),r.createElement(h.y,{variant:"bodySecondary",inheritColor:!0,px:"25%",textAlign:"center"},0===t.length?c:i)),header:function(){return r.createElement(h.l,{active:!0,disabled:0===t.length,fullWidth:!0,onChangeValue:f,placeholder:o,value:d,variant:"search"})},item:function(e){var t=e.item;return r.createElement($n,{text:t,query:d,icon:n})},stickyHeader:!0})}function tr(e){var t=e.filter,n=e.onChange,a=Object(s.d)((function(e){return e.messages.actions}));return r.createElement(er,{items:a,selected:t.actions,onChange:function(e){return n(Object(E.a)({},t,{actions:e}))},searchBoxPlaceholder:"Search actions...",emptyListPlaceholder:"There are no actions to filter by.",noResultsPlaceholder:"There are no actions matching your search."})}function nr(e){var t=e.filter,n=e.onChange,a=Object(s.d)((function(e){return e.messages.channels})),o=function(e){return jt.a[e]||e},c=r.useMemo((function(){return a.map(o)}),[a]),i=r.useMemo((function(){return t.channels.map(o)}),[t]),l=r.useCallback((function(e){var t=c.indexOf(e);return-1===t?e:a[t]}),[c,a]);return r.createElement(er,{items:c,selected:i,onChange:function(e){return n(Object(E.a)({},t,{channels:e.map(l)}))},searchBoxPlaceholder:"Search channels...",emptyListPlaceholder:"There are no channels to filter by.",noResultsPlaceholder:"There are no channels matching your search."})}function rr(e){var t=e.disabled,n=e.value,a=e.onChange,o=r.useMemo((function(){return[{label:"At most",value:"max"},{label:"At least",value:"min"}]}),[]),c=r.useMemo((function(){return"min"===n.operator?o[1]:o[0]}),[n,o]),i=n.value,s=r.useCallback((function(e){a({operator:e.value,value:i})}),[i,a]),l=r.useCallback((function(e){var t=e.target.value;a({operator:c.value,value:t})}),[c.value,a]);return r.createElement(j.Flex,{width:"100%",justifyContent:"space-between",mt:2,pl:"28px"},r.createElement(h.u,{value:c,disabled:t,items:o,onChange:s}),r.createElement(h.l,{min:0,max:1,step:.01,type:"number",disabled:t,noValidate:!0,width:"146px",value:i,onChange:l,px:2,ml:2}))}tr.title="Actions",tr.count=function(e){return e.actions.length},nr.title="Channels",nr.count=function(e){return e.channels.length};var ar={operator:"max",value:.5};function or(e){var t=e.filter,n=e.onChange,a=r.useMemo((function(){return{fontWeight:"bold"}}),[]),o=t.nluConfidence,c=t.coreConfidence,i=Object(q.l)(null!==o),s=Object(O.a)(i,2),l=s[0],u=s[1],d=Object(q.l)(null!==c),f=Object(O.a)(d,2),p=f[0],m=f[1],b=r.useCallback((function(e){return n(Object(E.a)({},t,{nluConfidence:e}))}),[t,n]),g=r.useCallback((function(e){return n(Object(E.a)({},t,{coreConfidence:e}))}),[t,n]);return r.useEffect((function(){!o&&l&&b(ar)}),[o,l,b]),r.useEffect((function(){!c&&p&&g(ar)}),[c,p,g]),r.createElement("div",null,r.createElement(h.a,{variant:"alertThatUsesColoursThatArentInTheStyleguide",m:0,py:"12px",mb:4},r.createElement(h.y,{as:"i",variant:"bodySecondary",lineHeight:"1.54",inheritColor:!0},"Use this filter to view conversations that include predictions with specific confidences.")),r.createElement(j.Flex,{as:"label",mt:2},r.createElement(h.f,{onChange:u,checked:l}),r.createElement(h.y,{ml:"12px",variant:"bodySecondary",lineHeight:"inherit",sx:a},"Intent Confidence")),r.createElement(rr,{disabled:!l,onChange:b,value:o||ar}),r.createElement(j.Flex,{as:"label",mt:4,alignItems:"flex-start"},r.createElement(h.f,{onChange:m,checked:p}),r.createElement(h.y,{ml:"12px",variant:"bodySecondary",lineHeight:"inherit",sx:a},"Action Confidence")),r.createElement(rr,{disabled:!p,onChange:g,value:c||ar}))}function cr(e){var t=e.filter,n=e.onChange,a=Object(s.d)((function(e){return e.messages.entities}));return r.createElement(er,{items:a,selected:t.entities,onChange:function(e){return n(Object(E.a)({},t,{entities:e}))},searchBoxPlaceholder:"Search entities...",emptyListPlaceholder:"There are no entities to filter by.",noResultsPlaceholder:"There are no entities matching your search."})}function ir(e){var t=e.filter,n=e.onChange,a=Object(s.d)((function(e){return e.messages.intents}));return r.createElement(er,{items:a,selected:t.intents,onChange:function(e){return n(Object(E.a)({},t,{intents:e}))},searchBoxPlaceholder:"Search intents...",emptyListPlaceholder:"There are no intents to filter by.",noResultsPlaceholder:"There are no intents matching your search."})}function sr(e){var t=e.filter,n=e.onChange,a=Object(s.d)((function(e){return e.messages.slotNames})),o=Object(s.d)((function(e){return e.messages.slotValues})),c=r.useState(null),i=Object(O.a)(c,2),l=i[0],u=i[1],d=r.useState([{slotName:{},slotValues:[]}]),f=Object(O.a)(d,2),p=f[0],m=f[1],b=r.useMemo((function(){return p.map((function(e){return e.slotName}))}),[p]),g=r.useMemo((function(){return a&&a.map((function(e){return{label:e,value:e}}))}),[a]),v=r.useMemo((function(){return o&&o.map((function(e){return{label:e,value:e}}))}),[o]),y=Object(s.c)(),C=r.useCallback((function(e){return y(Et.o.request({slot:e,q:""}))}),[y]),S=r.useCallback((function(){var e=p[p.length-1];e.slotName.value&&0!==e.slotName.value.length&&e.slotValues&&0!==e.slotValues.length?u(null):u(e);var t=p.filter((function(e){return e.slotName.value&&e.slotName.value.length>0&&e.slotValues&&e.slotValues.length>0}));return t&&t.map((function(e){return e.slotValues&&e.slotValues.map((function(t){var n=t;return e.slotName.value+":"+n.value})).join(",")}))}),[p]),w=r.useCallback((function(e){var t=e?[].concat(Object(x.a)(b),[e]):b;return g.filter((function(e){return!t.some((function(t){return e.value===t.value}))}))}),[g,b]);r.useEffect((function(){var e=S();Object(Ot.isEqual)(t.slots,e)||n(Object(E.a)({},t,{slots:e}))}),[n,S,t]);var k=r.useCallback((function(){var e=[],n={},r=0;return t.slots.forEach((function(t,a){var o=t&&t.split(",");o&&o.forEach((function(t){var a=t.split(":"),o=a[0],c=a[1],i={label:c,value:c};if(o in n){var s=n[o];e[s].slotValues.push(i)}else{var l={slotName:{label:o,value:o},slotValues:[i]};e=[].concat(Object(x.a)(e),[l]);var u={[o]:r};r++,n=Object(E.a)({},n,{},u)}}))})),e}),[t.slots]);r.useEffect((function(){var e=k();if(!Object(Ot.isEqual)(t.slots,e)){var n=e.length>0?e:[{slotName:{},slotValues:[]}];l&&n.push(l),m(n)}}),[k,t.slots,l]);var T=r.useCallback((function(e,t,n){var r=!1;m(p.map((function(a){var o=p.indexOf(a);if(o===e&&!r)return r=!0,{slotName:n.slotName,slotValues:t||[]};if(a.slotName.value===n.slotName.value&&!r){if(-1===a.slotValues.findIndex((function(e){return e.value===t[t.length-1].value}))){r=!0;var c=o===e?t:[].concat(Object(x.a)(a.slotValues),Object(x.a)(t));return{slotName:n.slotName,slotValues:c}}r=!0}return a})))}),[p]),R=r.useMemo((function(){return p.map((function(e,t){return r.createElement("tr",{key:t},r.createElement(j.Box,{as:"td",width:.4,sx:{maxWidth:"152px"},pt:2,pr:2,pl:0},r.createElement(h.u,{fullWidth:!0,placeholder:"Select a slot",value:e.slotName.value?e.slotName:null,disabled:!1,items:w(e.slotName.value?e.slotName:void 0),onChange:function(e){C(e.value),m(p.map((function(n){return p.indexOf(n)===t?{slotName:e,slotValues:n.slotValues}:n})))}})),r.createElement(j.Box,{as:"td",width:.6,sx:{maxWidth:"224px"},pt:2,pr:2,pl:0},r.createElement(h.p,{disabled:!e.slotName.value,placeholder:"Select a value",value:e.slotValues?e.slotValues:[""],items:v,onMenuOpen:function(){return C(e.slotName.value)},onChange:function(n){return T(t,n,e)},fullWidth:!0})),r.createElement(j.Box,{as:"td",pt:2,sx:{verticalAlign:"middle"}},t===p.length-1?r.createElement(h.d,{disabled:0===e.slotValues.length,variant:"plainIcon",fontSize:4,p:0,onClick:function(){return function(e,t){if(e&&t){var n={slotName:{},slotValues:[]};m((function(e){return[].concat(Object(x.a)(e),[n])}))}}(e.slotName,e.slotValues)}},r.createElement(h.j,{icon:"plus"})):r.createElement(h.d,{variant:"plainIcon",fontSize:4,p:0,onClick:function(){return m((function(e){return e.filter((function(e,n){return n!==t}))}))}},r.createElement(h.j,{icon:"times"}))))}))}),[p,v,C,T,w]);return r.createElement(j.Box,{sx:{height:"100%",width:"100%",overflow:"scroll"}},r.createElement(h.a,{variant:"alertThatUsesColoursThatArentInTheStyleguide",m:0,py:"12px",mb:4},r.createElement(h.y,{as:"i",variant:"bodySecondary",lineHeight:"1.54",inheritColor:!0},'Select a slot and the slot values you want to filter by. Click the "+" icon to add multiple slots.')),r.createElement(h.i,{variant:"h4"},"Slots"),r.createElement(j.Box,{width:1,as:"table",sx:{width:"100%",borderSpacing:0,textAlign:"left"}},r.createElement("tbody",{style:{verticalAlign:"initial"}},R)))}function lr(e){var t=e.filter,n=e.onChange,a=jt.b;return r.createElement(W.d,{flexDirection:"column"},a.map((function(e){return r.createElement(W.d,{as:"label",key:e.label,alignItems:"center",mb:4},r.createElement(h.f,{variant:"radio",fontSize:"8px",width:"12px",checked:t.reviewStatus===e.status,onChange:function(){return n(Object(E.a)({},t,{reviewStatus:e.status}))}}),r.createElement(h.y,{ml:3,variant:"bodySecondary",inheritColor:!0},e.label))})))}function ur(e){var t=e.filter,n=e.onChange,a=Object(s.d)((function(e){return e.messages.tags})),o=r.useMemo((function(){return Object(Ot.keyBy)(a,(function(e){return e.value}))}),[a]),c=r.useMemo((function(){return t.tags.map((function(e){return e.value}))}),[t.tags]),i=r.useCallback((function(e){return r.createElement(Ft,{ml:"12px",mr:"-6px",color:"#".concat(o[e].color)})}),[o]);return r.createElement(er,{items:a.map((function(e){return e.value})),icon:i,selected:c,onChange:function(e){return n(Object(E.a)({},t,{tags:e.map((function(e){return o[e]}))}))},searchBoxPlaceholder:"Search tags...",emptyListPlaceholder:"There are no tags to filter by.",noResultsPlaceholder:"There are no tags matching your search."})}or.title="Confidence",or.count=function(e){return 0+(e.nluConfidence?1:0)+(e.coreConfidence?1:0)},cr.title="Entities",cr.count=function(e){return e.entities.length},ir.title="Intents",ir.count=function(e){return e.intents.length},sr.title="Slots",sr.count=function(e){return e.slots.length},lr.title="Review status",lr.count=function(e){return e.reviewStatus&&e.reviewStatus.length>0?1:0},ur.title="Tags",ur.count=function(e){return e.tags.length};var dr={fontWeight:"bold"};function fr(e){var t=e.filter,n=e.onChange,a=t.flaggedOnly,o=r.useCallback((function(){var e=!a;n(Object(E.a)({},t,{flaggedOnly:e}))}),[t,n,a]),c=t.storiesNotRecognised,i=r.useCallback((function(){var e=!c;n(Object(E.a)({},t,{storiesNotRecognised:e}))}),[t,n,c]),s=r.useState(t.minimumMessages||10),l=Object(O.a)(s,2),u=l[0],d=l[1],f=null!==t.minimumMessages,p=r.useCallback((function(e){var r=e||0;f&&n(Object(E.a)({},t,{minimumMessages:r})),d(r)}),[t,n,f]),m=r.useCallback((function(){var e=null===t.minimumMessages?u:null;n(Object(E.a)({},t,{minimumMessages:e}))}),[t,n,u]);return r.createElement("div",null,r.createElement(j.Flex,{as:"label",my:2,alignItems:"center",mb:4},r.createElement(h.f,{onChange:o,checked:a}),r.createElement(h.y,{ml:"12px",variant:"bodySecondary",lineHeight:"inherit",sx:dr},"Includes flagged messages")),r.createElement(j.Flex,{as:"label",my:2,alignItems:"center",mb:4},r.createElement(h.f,{onChange:i,checked:c}),r.createElement(h.y,{ml:"12px",variant:"bodySecondary",lineHeight:"inherit",sx:dr},"Stories not included in training data")),r.createElement(j.Flex,{as:"label",my:2,alignItems:"flex-start",mb:4},r.createElement(h.f,{onChange:m,checked:f}),r.createElement(j.Box,null,r.createElement(h.y,{ml:"12px",variant:"bodySecondary",lineHeight:"inherit",sx:dr},"Conversation length (number of user messages)"),r.createElement(j.Flex,{justifyContent:"space-between",width:"224px",mt:3},r.createElement(h.y,{ml:"12px",mt:2,variant:"bodySecondary"},"At least"," "),r.createElement(h.l,{noValidate:!0,min:"0",type:"number",value:u||0,onChangeValue:function(e){return p(""!==e?Number(e):null)},width:"146px",px:2,ml:2,disabled:!f})))))}function pr(e){var t=e.selected,n=e.count,a=e.children,o=e.onClick;return r.createElement(j.Flex,{pl:4,pr:2,sx:{backgroundColor:t?"neutral_1":"neutral_0","&:hover":{backgroundColor:"neutral_1"},height:"40px",width:"100%",alignItems:"center",justifyContent:"space-between",cursor:"pointer",userSelect:"none"},onClick:o},r.createElement(h.y,{variant:"bodySecondary",sx:{flexGrow:1}},a),0!==n&&r.createElement(j.Flex,{sx:{borderRadius:"4px",backgroundColor:t?"neutral_0":"neutral_1",minWidth:"20px",height:"20px",alignItems:"center",justifyContent:"center"}},r.createElement(h.y,{variant:"captionSecondary"},n)),r.createElement(j.Box,{ml:2,sx:{backgroundColor:"primary_2",height:"100%",width:"4px",marginRight:"-10px",borderRadius:"1.5px",visibility:t?"normal":"hidden"}}))}function mr(e){var t=e.filter,n=e.onChange,a=r.useState(0),o=Object(O.a)(a,2),c=o[0],i=o[1],s=[lr,ur,ir,tr,nr,cr,sr,or,fr],l=r.useMemo((function(){return s[c]}),[s,c]);return r.createElement(j.Flex,{sx:{borderStyle:"solid",borderWidth:"1px 0 1px 0",borderColor:"#e8ebf4",flexGrow:1,height:"100%",overflow:"hidden"}},r.createElement(en.a,{right:!0,pt:4,sx:{minWidth:"176px"}},s.map((function(e,n){return r.createElement(pr,{key:e.title,count:e.count(t),onClick:function(){return i(n)},selected:n===c},e.title)}))),r.createElement(j.Box,{sx:{flexGrow:"1"},p:4},r.createElement(l,{filter:t,onChange:n})))}function br(e){var t=e.onApply,n=e.onCancel,a=e.filter,o=r.useState(a),c=Object(O.a)(o,2),i=c[0],s=c[1],l=r.useCallback((function(){return t(i)}),[t,i]);return r.createElement(j.Flex,{flexDirection:"column",sx:{margin:"4px",width:"640px",height:"536px",borderRadius:"16px",boxShadow:"0 2px 8px 0 rgba(116, 118, 123, 0.31)",backgroundColor:"neutral_0",position:"absolute",zIndex:"100"}},r.createElement(j.Box,{px:4,py:3,sx:{minHeight:"56px"}},r.createElement(h.i,{variant:"h3"},"Filter by:")),r.createElement(mr,{filter:i,onChange:s}),r.createElement(j.Flex,{sx:{justifyContent:"flex-end"},px:4,py:3},r.createElement(h.d,{large:!0,variant:"secondary",onClick:n},"Cancel"),r.createElement(h.d,{large:!0,ml:2,onClick:l},"Apply")))}fr.title="Other",fr.count=function(e){return 0+(e.flaggedOnly?1:0)+(e.storiesNotRecognised?1:0)+(null!==e.minimumMessages?1:0)};var hr=r.memo((function(e){var t=e.expanded,n=e.filter,a=e.onApply,o=e.onCancel;return r.createElement(r.Fragment,null,t&&r.createElement(br,{filter:n,onApply:a,onCancel:o}))})),gr=n(417),vr=n.n(gr),yr=jt.c.filter,Er=function(e){var t="min"===e.operator?"\u2265":"\u2264";return"".concat(t," ").concat(e.value)},xr={channels:{label:"Channels",test:function(e){return e.length>0},transformContent:function(e){return e.map((function(e){return jt.a[e]||e})).join(", ")}},intents:{label:"Intents",test:function(e){return e.length>0},transformContent:function(e){return e.join(", ")}},entities:{label:"Entities",test:function(e){return e.length>0},transformContent:function(e){return e.join(", ")}},actions:{label:"Actions",test:function(e){return e.length>0},transformContent:function(e){return e.join(", ")}},policies:{label:"Policy",test:function(e){return e.length>0},transformContent:function(e){return e[0]}},reviewStatus:{label:"Status",test:function(e){return e&&e.length>0},transformContent:function(e){var t;return null===(t=jt.b.find((function(t){return t.status===e})))||void 0===t?void 0:t.label}},slots:{label:"Slots",test:function(e){return e.length>0},transformContent:function(e){var t={};e.forEach((function(e){e.split(",").forEach((function(e){var n=e.split(":"),r=n[0],a=n[1];r in t?t[r].push(a):t[r]=[a]}))}));for(var n="",r=0,a=Object.entries(t);r<a.length;r++){var o=Object(O.a)(a[r],2),c=o[0],i=o[1];n=n+(n.length>0?" | ":"")+"".concat(c,": ").concat(i)}return n}},tags:{label:"Tags",test:function(e){return e.length>0},transformContent:function(e){return e.map((function(e){return e.value})).join(", ")}},nluConfidence:{label:"NLU Confidence",test:function(e){return null!==e},transformContent:function(e){return Er(e)}},coreConfidence:{label:"Core Confidence",test:function(e){return null!==e},transformContent:function(e){return Er(e)}},minimumMessages:{label:"Minimum user messages",test:function(e){return null!==e},transformContent:function(e){return e}},flaggedOnly:{label:"Flagged only",test:function(e){return e},transformContent:function(e){return null}},storiesNotRecognised:{label:"Stories not in training data",test:function(e){return e},transformContent:function(e){return null}}},Or=r.memo((function(e){var t=e.filter,n=e.onChange,a=Object.keys(xr).filter((function(e){return xr[e].test(t[e])}));return 0===a.length?r.createElement(h.y,{variant:"captionPrimary",sx:{fontStyle:"italic",marginLeft:"8px"}},"No filters applied"):r.createElement(j.Flex,null,a.map((function(e){return r.createElement(j.Box,{key:e,ml:2},r.createElement(h.s,{label:xr[e].label,content:xr[e].transformContent(t[e]),active:!0,onChange:function(){return n(Object(E.a)({},t,{[e]:yr[e]}))}}))})))})),jr=function(e){Object(xn.a)(n,e);var t=Object(On.a)(n);function n(){var e;Object(yn.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={hasError:!1},e}return Object(En.a)(n,[{key:"componentDidCatch",value:function(e,t){console.log(e,t)}},{key:"render",value:function(){if(this.state.hasError){var e=this.props.message;return r.createElement(tt,null,e)}return this.props.children}}],[{key:"getDerivedStateFromError",value:function(){return{hasError:!0}}}]),n}(r.Component);jr.defaultProps={message:"Something went wrong!"};var Cr=n(756),Sr=n.n(Cr);function wr(e){var t=e.children,n=e.offset,a=e.placement,o=e.currentUser,c=z(),i=c.hintsEnabled,s=c.allHints,l=c.nextHints,u=c.setHintsEnabled,d=c.updateCurrentHint,f=r.useMemo((function(){return o.data&&o.data.viewed_hints&&0!==o.data.viewed_hints.length?"View ".concat(l.length," remaining hints to make the most of this screen."):"Learn how to make most of this screen in ".concat(s.length," small steps!")}),[o,s,l]);return r.createElement(Y.a,{offset:n,placement:a,disabled:i,boxShadow:"-3px 5px 13px 0 rgba(43, 58, 172, 0.29)",bg:"primary_2",appendTo:document.body,arrow:!1,borderRadius:"large",interactive:!0,content:r.createElement(j.Flex,{sx:{width:"max-content"},p:3,alignItems:"center"},r.createElement(h.j,{icon:"lightbulb-on",fontSize:"20px",mx:"12px"}),r.createElement(h.y,{color:"neutral_0",mr:8},f),r.createElement(h.d,{variant:"inverse",large:!0,onClick:function(){d(!1),u(!0)}},"Show me"))},t)}var kr=n(96);function Tr(e){var t=e.actions,n=e.body,a=e.heading,o=e.image,c=e.imegeAlt,i=e.imageWidth,s=void 0===i?220:i,l=Object(y.a)(e,["actions","body","heading","image","imegeAlt","imageWidth"]);return r.createElement(j.Flex,Object.assign({flex:"1 1 auto",color:"neutral_6",flexDirection:"column",justifyContent:"center",alignItems:"center",style:{height:"100%"}},l),r.createElement(h.k,{width:s,src:o,alt:c,mb:4}),r.createElement(h.i,{variant:"h4"},a),r.createElement(h.y,{as:"div",inheritColor:!0,textAlign:"center",variant:"captionSecondary",lineHeight:"normal",style:{maxWidth:"220px"},p:2},n),t&&r.createElement(j.Box,{mt:3},t))}Tr.defaultProps={bg:"neutral_0"};var Rr=function(e){return e.charAt(0).toUpperCase()+e.slice(1)};function Ar(e){var t=e.environment,n=e.environments,a=e.chatToken,o=e.onClose,c=e.onFetchChatToken,i=r.useState(t),s=Object(O.a)(i,2),l=s[0],u=s[1],d=r.useState(""),f=Object(O.a)(d,2),p=f[0],m=f[1],b=r.useState(""),g=Object(O.a)(b,2),v=g[0],y=g[1],E=H().addToast,x=r.useMemo((function(){return n.filter((function(e){return e!==l})).map((function(e){return{value:e,label:Rr(e)}}))}),[n,l]),C=r.useCallback((function(e){return e&&!Array.isArray(e)&&u(e.value)}),[u]),S=r.useCallback((function(){c({botName:p,description:v})}),[p,v,c]),w=r.useCallback((function(){/localhost|127\.0\.0\.1|::1|\.local|^$/i.test(window.location.hostname)&&E({head:"Link contains \u201clocalhost\u201d",key:"generatedLocalhostLink",content:r.createElement(r.Fragment,null,r.createElement(j.Box,{as:"a",color:"neutral_0",href:"//rasa.com/docs/rasa-x/installation-and-setup/deploy/#share-your-bot-deployment",target:"_blank"},"View docs")," ","on how to make this local instance accessible.")})}),[E]);return r.createElement(j.Flex,{flexDirection:"column"},r.createElement(j.Flex,{"data-e2e":"ShareBotDialogue",flexDirection:"column",px:6,py:5,style:{textAlign:"left",width:"580px"}},x.length>0&&r.createElement(j.Flex,{mb:4,flexDirection:"column"},r.createElement(Ve.a,{text:"Environment to be tested"},r.createElement(h.u,{placeholder:"Select the environment guest testers should be able to access",onChange:C,value:{value:l,label:Rr(l)},items:x}))),r.createElement(j.Flex,{mb:4,flexDirection:"column"},r.createElement(Ve.a,{text:"Assistant's Details"},r.createElement(h.l,{value:p,onChangeValue:function(e){return m(e)},placeholder:"Enter a name for your bot that your testers should see...",fullWidth:!0}))),r.createElement(j.Flex,{flexDirection:"column"},r.createElement(Ve.a,{text:r.createElement(j.Flex,null,"Description"," ",r.createElement(Pe.a,{content:r.createElement(j.Box,{style:{cursor:"default",maxWidth:"240px",textAlign:"left"}},"A description of your assistant, that your testers should see."),ml:1,mt:1,px:4,py:3},r.createElement(h.j,{fontSize:"12px",color:"neutral_6",icon:"info-circle"})))},r.createElement(j.Box,{sx:{height:a?"64px":"160px"}},r.createElement(h.l,{textarea:!0,value:v,onChangeValue:function(e){return y(e)},placeholder:"Enter a description of your assistant that you'd like your testers to see...",fullWidth:!0,fullHeight:!0})))),a&&r.createElement(r.Fragment,null,r.createElement(j.Flex,{mt:4,flexDirection:"column"},r.createElement(Ve.a,{text:"Share this link with any guest users"},r.createElement(Ge,{fullSize:!0,onCopy:w},window.location.origin,"/guest/conversations/",l,"/",a)))),r.createElement(h.a,{variant:"success",m:0,py:"14px",mt:4},r.createElement(h.y,{as:"i",variant:"bodySecondary",lineHeight:"initial",inheritColor:!0},r.createElement(j.Box,{as:"strong"},"Note:")," Remember to use an incognito browser to be able to test the link yourself."))),r.createElement(j.Card,{sx:{borderTop:"1px solid",borderColor:"neutral_2"}},r.createElement(j.Flex,{px:4,py:3,flexDirection:"row-reverse"},r.createElement(h.d,{"data-e2e":"Button--Generate-Link",onClick:S,large:!0,ml:2},"Generate link"),r.createElement(h.d,{large:!0,variant:"secondary",onClick:function(){return o&&o()}},"Cancel"))))}function _r(e){var t=e.children,n=e.offset,a=e.onClose,o=e.visible,c=Object(y.a)(e,["children","offset","onClose","visible"]);return r.createElement(qt,{content:r.createElement(Ar,Object.assign({onClose:a},c)),title:r.createElement(h.i,{variant:"h2"},"Share your assistant with Guest Testers"),offset:n,visible:o,onClose:a},r.createElement(Pe.a,{content:"Share with guest testers",hideOnClick:!0,disabled:o},t))}function Ir(e){var t=e.filtersApplied,n=e.filtersExpanded,a=e.setFiltersExpanded,o=e.canHintBeShown,c=Object(q.h)();return r.createElement(pe.a,{resource:me.d.Metadata,action:me.a.Read,yes:r.createElement(At,{title:"Filter Conversations",content:"Filter through real conversations to find the ones that may need improvement.",docs:"https://rasa.com/docs/rasa-x/user-guide/review-conversations/#filtering-conversations",step:"filterConversations",nextStep:"shareYourBot",canBeShown:o},r.createElement(en.a,{right:!0},r.createElement(h.d,{variant:"barIcon",color:t||n?void 0:"neutral_6",active:n,onClick:function(){c(n?"view:conversations:filters:hide":"view:conversations:filters:show"),a(!n)}},r.createElement(h.j,{icon:"sliders-h"}))))})}function Fr(e){var t=e.restartPolling;return r.createElement(h.a,{variant:"error"},r.createElement(h.y,{variant:"metadata",lineHeight:"initial",inheritColor:!0},"There was an error loading messages and polling has been stopped."),r.createElement(h.d,{onClick:t,variant:"plain"},"Restart polling"))}function Ur(e){var t=e.awaitingResponse,n=e.chatToken,a=e.conversationEvents,o=e.conversationId,c=e.conversations,i=e.correction,u=e.currentUser,d=e.entityTypes,f=e.environment,p=e.environments,m=e.error,b=e.filter,g=e.filterBarIsEmpty,v=e.filterIsEmpty,y=e.intents,x=e.onChangeCorrection,C=e.onCreateConversation,S=e.onFetchConversationIntents,w=e.onFetchConversations,k=e.onFetchConversationSlotNames,T=e.onFetchExample,R=e.onFetchIntents,A=e.onFetchEntities,_=e.onFetchActions,I=e.onFetchPolicies,F=e.onFetchChannels,U=e.onFetchEntityTypes,N=e.onFetchUser,L=e.onFlagMessage,D=e.onFetchChatToken,M=e.onLoadMoreConversations,P=e.onSaveExampleFromCorrection,B=e.onStartPolling,H=e.onStopPolling,G=e.onUnflagMessage,V=e.timestamp,W=e.totalConversations,Y=(e.username,e.synonyms),K=e.onSaveE2ETest,Q=e.saveE2ETestLoading,X=e.activeGitRepository;r.useEffect((function(){N(),R(),S(),k(),A(),_(),I(),F(),U(),w({filter:b,offset:0,limit:20})}),[b,_,w,A,U,R,S,k,I,N,F]);var Z=Object(s.c)(),J=Object(l.g)().push,$=z(),ee=$.hintsEnabled,ne=$.setInitialHint,re=$.setCurrentHint,ae=$.nextHints,oe=Object(q.h)(),ce=te(),ie=ce.setOnboardingShown,se=ce.currentOnboardingStep,le=ce.removeStep;r.useEffect((function(){oe("view:conversations:loaded")}),[oe]),r.useEffect((function(){Object.values(c).some((function(e){return"rasa"!==e.latest_input_channel}))&&("onboarding_share_bot"===se&&ie(!0),le("onboarding_share_bot"))}),[c,se,le,ie]);var ue=r.useState(!1),de=Object(O.a)(ue,2),be=de[0],he=de[1],ge=r.useState(!1),ve=Object(O.a)(ge,2),ye=ve[0],Ee=ve[1],xe=Object.values(c)[0],Oe=o||(xe?xe.sender_id:""),je=a[Oe],Ce=Object(s.d)((function(e){return e.messages.loading.conversations})),Se=Object(s.d)((function(e){return e.messages.loading.conversation})),we=r.useMemo((function(){return Object.values(c).find((function(e){return e.sender_id===Oe}))}),[Oe,c]),ke=V?"Story from conversation with ".concat(Oe," on ").concat(fe()(1e3*V).format("MMMM Do YYYY")):"",Te=r.useCallback((function(){var e=Object.values(c).findIndex((function(e){return e.sender_id===Oe})),t=e>0&&c[e-1].sender_id||c[1]&&c[1].sender_id||"";Z(Et.c.request({conversationId:Oe})),J("/conversations/".concat(t))}),[Oe,c,Z,J]);r.useEffect((function(){return ne("connectToChannels"),re("connectToChannels"),Oe?(x(null),B({conversationId:Oe}),function(){return H()}):function(){}}),[Oe,x,B,H,re,ne]);var Re=r.useCallback((function(e){var t=V===e.timestamp?"/conversations/".concat(Oe):"/conversations/".concat(Oe,"/").concat(e.timestamp);oe("entity:event:selected"),J(t)}),[J,Oe,oe,V]),Ae=r.useCallback((function(){J("/conversations/".concat(Oe))}),[J,Oe]),_e=r.useCallback((function(e){J("/conversations/".concat(e))}),[J]),Fe=r.useCallback((function(e,t){var n={conversationId:Oe,timestamp:e};t?(oe("entity:event:flagged"),L(n)):(oe("entity:event:unflagged"),G(n))}),[L,G,Oe,oe]),Ue=r.useCallback((function(){oe("actions:share-bot:show"),Ee(!0)}),[Ee,oe]),Ne=r.useCallback((function(e){var t={use_channels:e.channels.length>0,use_intents:e.intents.length>0,use_entities:e.entities.length>0,use_actions:e.actions.length>0,use_policies:e.policies.length>0,use_slots:e.slots.length>0,use_tags:e.tags.length>0,core_confidence:e.coreConfidence,nlu_confidence:e.nluConfidence,minimum_messages:e.minimumMessages,flagged_only:e.flaggedOnly,stories_not_recognised:e.flaggedOnly,review_status:e.reviewStatus};oe("view:conversations:filters:apply",t),w({filter:e,offset:0,limit:20}),he(!1)}),[w,oe]),Le=r.useCallback((function(e){oe("view:conversation:filters:apply:date"),Ne(Object(E.a)({},b,{date:e}))}),[Ne,b,oe]),De=r.createElement(j.Flex,{justifyContent:"flex-end"},!(0===W&&v&&!Ce)&&r.createElement(pe.a,{resource:me.d.Metadata,action:me.a.Read,yes:r.createElement(en.a,{left:!0},r.createElement(Xn,{onChange:Le}))}),r.createElement(pe.a,{resource:me.d.ChatToken,action:me.a.Update,yes:r.createElement(en.a,{left:!0},r.createElement(ct,{title:"Get your assistant talking to real people",content:"Generate a link to invite test users to talk to your assistant.",links:[{title:"Learn more about sharing your assistant with test users",href:"//rasa.com/docs/rasa-x/user-guide/share-assistant"}],name:"share_bot"},r.createElement(At,{title:"Share your bot",content:"Improve your assistant by getting someone else to test it.",docs:"https://rasa.com/docs/rasa-x/user-guide/share-assistant",step:"shareYourBot",canBeShown:!0},r.createElement(_r,{environment:f,environments:p,onClose:function(){return Ee(!1)},onFetchChatToken:D,chatToken:n,offset:[0,0],visible:ye},r.createElement(h.d,{variant:"headerIcon",active:ye,style:{position:"relative"},onClick:function(){ye?Ee(!1):("onboarding_share_bot"===se&&ie(!1),be&&he(!1),Ee(!0))}},r.createElement(h.j,{icon:"share-alt"}))))))}),r.createElement(At,{title:"Connect your assistant to an external channel",content:"Connect your assistant and let it talk to real users.",docs:"https://rasa.com/docs/rasa-x/user-guide/share-assistant/#external-channels",step:"connectToChannels",nextStep:"annotateConversations",canBeShown:!0},r.createElement(At,{title:"Annotate Conversations",content:"Label entities and correct incorrectly predicted intents to improve your assitant.",docs:"https://rasa.com/docs/rasa-x/user-guide/annotate-nlu-examples/#annotating-in-conversations",step:"annotateConversations",nextStep:"filterConversations",canBeShown:!0},u&&ae.length>0&&r.createElement(en.a,{left:!0,sx:{display:"inline-block",position:"relative"}},r.createElement(wr,{offset:[8,8],placement:"bottom-end",currentUser:u},r.createElement(h.d,{color:ee?"primary_1":void 0,variant:"headerIcon",onClick:function(){return console.log("You'd think clicking this button would do something")}},r.createElement(Ie,{show:!ee,top:"24px",right:"26px"}),r.createElement(h.j,{icon:"lightbulb"}))))))),Me=r.useCallback((function(){oe("view:conversations:filters:hide"),he(!1)}),[he,oe]),Pe=r.createElement(pe.a,{resource:me.d.Metadata,action:me.a.Read,yes:r.createElement(j.Box,{flex:"0 1"},r.createElement(jr,null,r.createElement(hr,{filter:b,onApply:Ne,onCancel:Me,expanded:be})))}),Be=r.createElement(pe.a,{resource:me.d.Metadata,action:me.a.Read,yes:r.createElement(en.a,{width:1/4,right:!0,sx:{maxHeight:"100%",maxWidth:"304px"}},r.createElement(jr,null,r.createElement(Dt,{total:W,conversations:c,conversationId:Oe,onSelectConversation:_e,filter:b,onLoadMoreRows:M,loading:Ce})))}),He=r.createElement(en.a,{top:!0,sx:{height:"100%",overflow:"hidden"}},r.createElement(j.Flex,{flexDirection:"column",sx:{bg:"neutral_0",height:"100%",overflow:"hidden"}},r.createElement(en.a,{bottom:!0,sx:{zIndex:100,bg:"neutral_1"}},r.createElement(j.Flex,{alignItems:"center",flex:"1"},r.createElement(Ir,{filtersApplied:!g,filtersExpanded:be,setFiltersExpanded:he,canHintBeShown:W>0}),r.createElement(j.Box,{flex:"1",pl:16},r.createElement(Or,{filter:b,onChange:Ne})),g||r.createElement(j.Box,{mr:2,pr:24},r.createElement(h.d,{variant:"plain",color:"primary_1",onClick:function(){oe("view:conversations:filters:reset"),Ne(Object(E.a)({},jt.e,{date:b.date}))}},"Clear filters")))),Pe,r.createElement(j.Flex,{sx:{height:"100%",overflow:"auto"},justifyContent:"center"},!Ce&&!v&&0===W&&r.createElement(Tr,{heading:"There is nothing here",body:g?"Please try a different date range":"Please try a different set of filters for better results",image:Sr.a,bg:"neutral_0"}),(Ce||W>0||v)&&r.createElement(r.Fragment,null,Be,r.createElement(j.Flex,{flex:"1 1"},r.createElement(en.a,{right:!0,flex:"1 0",width:.6},r.createElement(jr,null,m&&r.createElement(Fr,{restartPolling:function(){return B({conversationId:Oe,environment:f})}}),!je&&Se&&r.createElement(Lt,{mt:20},"Loading messages"),je&&r.createElement("div",{style:m?{height:"calc(100% - 72px)"}:{height:"100%"}},r.createElement(Bt,{awaitingResponse:t,username:Oe,conversation:je,filter:v?null:b,onFlagMessage:Fe,onMessageClick:Re,timestamp:V})))),r.createElement(j.Box,{width:.4,style:{maxWidth:"400px",overflow:"auto"}},r.createElement(jr,null,0===V&&je&&r.createElement(Zt,{conversation:we,conversationId:Oe,onConversationDelete:Te,onUpdatedReviewStatus:function(){w({filter:b,offset:0,limit:20}),b.reviewStatus&&J("/conversations/")}}),0!==V&&r.createElement(Wn,{activeGitRepository:X,saveE2ETestLoading:Q,onSaveE2ETest:K,entityTypes:d,editable:!1,onChangeCorrection:x,onClose:Ae,timestamp:V,conversation:je,onCopy:function(){oe("entity:story:copied-to-il"),C({data:{conversation_id_to_copy_from:Oe,interactive:!0,until:V},storyName:ke})},storyName:ke,conversationId:Oe,onFlagMessage:Fe,onFetchExample:T,intents:y,correction:i,onSaveCorrection:P,synonyms:Y}))))))));return r.createElement(kr.a,{title:"Conversations (".concat(W,")"),rightContent:De,noPadding:!0},0===W&&v&&!Ce&&r.createElement(r.Fragment,null,r.createElement(Tr,{heading:"No conversations yet!",body:"When users talk to your assistant,\u2028their conversations will show up here.",image:vr.a,actions:r.createElement(pe.a,{resource:me.d.ChatToken,action:me.a.Update,yes:r.createElement(h.d,{"data-e2e":"Button--Share-First-Use",disabled:ye,onClick:Ue,large:!0},"Share your bot")}),bg:"neutral_0"})),He)}var Nr={onChangeCorrection:kt.a,onChangeEnvironment:Et.a,onChangeFilter:Et.b,onCreateConversation:wt.h.request,onFetchActions:Et.i.request,onFetchChatToken:Et.g.request,onFetchConversationIntents:Et.l.request,onFetchConversationSlotNames:Et.n.request,onFetchConversationSlotValues:Et.o.request,onFetchConversations:Et.q.request,onFetchEntities:Et.k.request,onFetchEntityTypes:kt.f.request,onFetchEnvironments:le.c.request,onFetchExample:kt.g.request,onFetchIntents:kt.i.request,onFetchPolicies:Et.m.request,onFetchChannels:Et.j.request,onFetchUser:J.b.request,onFlagMessage:Et.t.request,onSaveExampleFromCorrection:kt.l.request,onSelectIntent:Et.y,onStartPolling:Et.z,onStopPolling:Et.A,onUnflagMessage:Et.B.request,onSaveE2ETest:Et.v.request};var Lr=Object(s.b)((function(e,t){return{awaitingResponse:e.messages.awaitingResponse,chatToken:e.messages.chatToken,conversationEvents:e.messages.conversationEvents,conversationId:t.match.params.conversationId,conversationIntents:e.messages.intents,conversations:e.messages.conversations,correction:e.examples.correction,currentUser:e.users.currentUser,draftFilter:e.messages.draftFilter,entityTypes:e.examples.entityTypes,environment:e.messages.environment,environments:e.models.environments,error:e.messages.error,filter:e.messages.filter,filterBarIsEmpty:St.filterBarIsEmpty(e.messages),filterIsEmpty:St.filterIsEmpty(e.messages),intents:e.examples.intents,policies:e.messages.policies,role:e.auth.role,selectedIntent:e.messages.selectedIntent,timestamp:Number(t.match.params.timestamp)||0,totalConversations:e.messages.total,username:e.auth.username,synonyms:e.synonyms.synonyms,saveE2ETestLoading:e.messages.loading.e2eTest,activeGitRepository:e.gitRepositories.activeGitRepository}}),Nr)((function(e){var t=Object(q.f)(Et.q);return r.createElement(Ur,Object.assign({},e,{onLoadMoreConversations:t}))})),Dr=n(54),Mr=n(89),Pr=n.n(Mr);function Br(e){var t=e.onSave,n=Object(y.a)(e,["onSave"]),a=n.onClose,o=H().addToast,c=r.useCallback((function(e){var n=e.target.files[0];if(n){var r=new FileReader;r.onload=function(){"string"===typeof r.result&&t({domain:r.result,storeResponses:!0,onSuccess:function(){o({head:"Domain uploaded successfully",content:"The domain has been replaced. Please check the warnings to fix any inconsistencies that the new domain might introduced."}),a()}})},r.readAsText(n)}}),[o,a,t]);return r.createElement(qt,Object.assign({content:r.createElement(j.Flex,{p:5,flexDirection:"column",alignItems:"start",width:400,style:{textAlign:"left"}},r.createElement(h.i,{variant:"h2",mb:3},"Replace the existing domain?"),r.createElement(h.y,{variant:"bodySecondary",mb:5},"Uploading a new domain will replace the existing one. All current responses will also be replaced."),r.createElement(j.Flex,{flexDirection:"row-reverse",alignSelf:"end",width:1},r.createElement(h.A,{accept:".yaml, .yml",onUpload:c,large:!0,ml:2},"Upload and replace"),r.createElement(h.d,{large:!0,variant:"secondary",onClick:a},"Cancel"))),offset:[0,8]},n))}var Hr=n(216),qr=n.n(Hr);function Gr(e){var t=e.location,n=e.element,a=e.value,o=e.onNavigate,c=e.copyToDomain,i=e.removeFromDomain;return r.createElement(zt.a,{flexDirection:"row",mb:2},r.createElement(h.y,{variant:"bodySecondary",lineHeight:"normal",inheritColor:!0},"The ",n," ",r.createElement("strong",null,a)," was found in the"," ","in_training_data"===t?"training data":"domain"," but is missing in the"," ","in_training_data"===t?"domain":"training data","."),r.createElement(Vt.b,null,r.createElement(j.Flex,{flexDirection:"row"},"in_domain"===t&&"action"===n&&r.createElement(h.d,{ml:3,variant:"plain",onClick:function(){return o("/responses")},fontSize:13},"Create response"),"in_domain"===t&&["intent","entity"].includes(n)&&r.createElement(h.d,{ml:3,variant:"plain",onClick:function(){return o("/data")},fontSize:13},"Create NLU example"),"in_training_data"===t?r.createElement(h.d,{ml:3,variant:"plain",onClick:function(){return c(n,a)},fontSize:13},"Copy to the domain"):r.createElement(h.d,{ml:3,variant:"plain",onClick:function(){return i(n,a)},fontSize:13},"Remove from domain"))))}var Vr=r.memo((function(e){var t=e.domain,n=e.onChange,a=e.domainWarnings,o=e.onNavigate,c=e.errors,i=H().addToast,s=r.useState(!1),l=Object(O.a)(s,2),u=l[0],d=l[1],f=r.useState([]),p=Object(O.a)(f,2),m=p[0],b=p[1],g=r.useMemo((function(){return a.filter((function(e){return!m.find((function(t){return t.element===e.element&&t.location===e.location&&t.value===e.value}))}))}),[a,m]),v=r.useCallback((function(){i({head:"Invalid YAML file",variant:"error",content:"It looks like something is wrong with your YAML file. Please update it and try again.",key:"InvalidYaml"})}),[i]),y=r.useCallback((function(e,r){var a=qr()(e),o=Object(E.a)({},t);Array.isArray(t[a])?o=Object(E.a)({},o,{[a]:o[a].filter((function(e){return e!==r}))}):t[a]instanceof Object&&delete o[a][r],n(Pr.a.dump(o)),b((function(t){return[].concat(Object(x.a)(t),[{location:"in_domain",element:e,value:r}])}))}),[t,n]),C=r.useCallback((function(e,r){var a=qr()(e);n(Pr.a.dump(Object(E.a)({},t,{[a]:[].concat(Object(x.a)(t[a]),[r])}))),b((function(t){return[].concat(Object(x.a)(t),[{location:"in_training_data",element:e,value:r}])}))}),[t,n]);return 0===g.length?null:r.createElement(h.a,{m:0,mb:3},r.createElement(j.Flex,{justifyContent:"start",flexDirection:"column",sx:{cursor:"default"}},r.createElement(h.y,{variant:"bodySecondary",lineHeight:"initial",inheritColor:!0},g.length," inconsistenc",g.length>1?"ies were":"y was"," detected with this file.",r.createElement(h.d,{variant:"plain",onClick:function(){return d(!u)},ml:2,fontSize:13},"Show ",u?"less":"more")),u&&r.createElement(j.Flex,{as:"ul",flexDirection:"column",pl:4,mx:0,mt:3,mb:2},g.map((function(e){return r.createElement(Gr,Object.assign({key:"".concat(e.element,"-").concat(e.location,"-").concat(e.value)},e,{onNavigate:o,copyToDomain:0===c.length?C:v,removeFromDomain:0===c.length?y:v}))})))))})),zr=n(757),Wr=n.n(zr),Yr=n(758);n(1150),n(1151),n(1154),n(615),n(1155),n(1156),n(1157);function Kr(){var e=Object(A.a)(["\n  .CodeMirror {\n    ","\n    height: auto;\n    margin-left: -24px;\n\n    & * {\n      ","\n      letter-spacing: 1px;\n    }\n\n    &-line {\n      .cm-header,\n      .cm-variable-2,\n      .cm-atom {\n        ","\n      }\n\n      .cm-quote {\n        ","\n      }\n\n      .cm-variable,\n      .cm-variable-3 {\n        ","\n      }\n    }\n\n    &-gutters {\n      background-color: transparent;\n      border: 0;\n      margin-left: 28px;\n\n      &.lineerrors {\n        margin-left: -70px;\n      }\n    }\n\n    &-gutter-elt {\n      left: 28px;\n    }\n\n    &-linenumber {\n      ","\n      padding: 0;\n    }\n\n    &-sizer {\n      padding-left: 28px;\n    }\n\n    &-foldmarker {\n      cursor: pointer;\n      border-radius: 1px;\n      width: 16px;\n      height: 8px;\n      line-height: 1px;\n      display: inline-block;\n      letter-spacing: -3px;\n      margin-left: 4px;\n      ","\n      color: transparent;\n      position: relative;\n\n      &:after {\n        content: '...';\n        position: absolute;\n        left: 0;\n        ","\n      }\n    }\n\n    &-foldgutter {\n      width: 20px;\n\n      &-open,\n      &-folded {\n        cursor: pointer;\n        ","\n        text-align: center;\n      }\n\n      &-open:after {\n        content: '\\25BE';\n      }\n\n      &-folded:after {\n        content: '\\25B8';\n      }\n    }\n  }\n"],["\n  .CodeMirror {\n    ","\n    height: auto;\n    margin-left: -24px;\n\n    & * {\n      ","\n      letter-spacing: 1px;\n    }\n\n    &-line {\n      .cm-header,\n      .cm-variable-2,\n      .cm-atom {\n        ","\n      }\n\n      .cm-quote {\n        ","\n      }\n\n      .cm-variable,\n      .cm-variable-3 {\n        ","\n      }\n    }\n\n    &-gutters {\n      background-color: transparent;\n      border: 0;\n      margin-left: 28px;\n\n      &.lineerrors {\n        margin-left: -70px;\n      }\n    }\n\n    &-gutter-elt {\n      left: 28px;\n    }\n\n    &-linenumber {\n      ","\n      padding: 0;\n    }\n\n    &-sizer {\n      padding-left: 28px;\n    }\n\n    &-foldmarker {\n      cursor: pointer;\n      border-radius: 1px;\n      width: 16px;\n      height: 8px;\n      line-height: 1px;\n      display: inline-block;\n      letter-spacing: -3px;\n      margin-left: 4px;\n      ","\n      color: transparent;\n      position: relative;\n\n      &:after {\n        content: '...';\n        position: absolute;\n        left: 0;\n        ","\n      }\n    }\n\n    &-foldgutter {\n      width: 20px;\n\n      &-open,\n      &-folded {\n        cursor: pointer;\n        ","\n        text-align: center;\n      }\n\n      &-open:after {\n        content: '\\\\25BE';\n      }\n\n      &-folded:after {\n        content: '\\\\25B8';\n      }\n    }\n  }\n"]);return Kr=function(){return e},e}var Qr=Object(i.default)(Yr.Controlled)(Kr(),k.color,k.typography,Object(k.system)({headerColor:{property:"color",scale:"colors"}}),Object(k.system)({quoteColor:{property:"color",scale:"colors"}}),Object(k.system)({variableColor:{property:"color",scale:"colors"}}),Object(k.system)({lineNumberColor:{property:"color",scale:"colors"}}),Object(k.system)({foldMarkerBg:{property:"color",scale:"colors"}}),Object(k.system)({foldMarkerColor:{property:"color",scale:"colors"}}),Object(k.system)({lineNumberColor:{property:"color",scale:"colors"}}));function Xr(e){var t=e.value,n=e.onChange,a=e.language,o=e.readOnly,c=void 0===o?[]:o,s=e.errors,l=e.disabled,u=r.useContext(i.ThemeContext),d=r.useState(null),f=Object(O.a)(d,2),p=f[0],m=f[1],b=H().addToast,g=r.useMemo((function(){return new RegExp("^(".concat(c.map((function(e){return e.title})).join("|"),")\\s*:(\\s*[\\n\\r]+(?:^[-\\s\\t]+.*[\\n\\r]+|^-.*)*)"),"gm")}),[c]),v=r.useCallback((function(e,t){for(var n,r=e.getDoc();null!==(n=g.exec(t));){var a=r.posFromIndex(n.index),o=r.posFromIndex(n.index+n[0].length);if(r.findMarksAt(a).length>0)return;e.foldCode(a),r.markText(a,o,{css:"color: ".concat(Object(k.get)(u,"colors.neutral_6")),inclusiveRight:!1,attributes:{title:n[1],readOnly:!0}})}}),[g,u]),y=r.useCallback((function(){var e=document.createElement("div");return e.innerHTML=Wr.a.renderToStaticMarkup(r.createElement(j.Box,null,r.createElement(h.j,{icon:["fas","exclamation-circle"],color:Object(k.get)(u,"colors.secondary_3")}))),e}),[u]),E=r.useCallback((function(e){e.clearGutter("lineerrors"),s&&s.map((function(t){return e.setGutterMarker(t-1,"lineerrors",y())}))}),[s,y]);r.useEffect((function(){if(p&&l){var e=p.getDoc();e.markText(e.posFromIndex(0),e.posFromIndex(t.length),{css:"color: ".concat(Object(k.get)(u,"colors.neutral_6")),attributes:{readOnly:!0}})}}),[l,p,u,t]),r.useEffect((function(){p&&!l&&v(p,t)}),[p,t,l,v]);var C=r.useCallback((function(e){return m(e)}),[]),S=r.useCallback((function(e,t,r){[].concat(Object(x.a)(e.getDoc().findMarksAt(t.from)),Object(x.a)(e.getDoc().findMarksAt(t.to))).some((function(e){if(e.attributes.readOnly){var t=c.find((function(t){return t.title===e.attributes.title}));t&&t.alert&&b(t.alert)}return!0}))||n(r)}),[b,n,c]);return r.createElement(Qr,{value:t,options:{mode:a,lineWrapping:!0,lineNumbers:!0,foldGutter:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter","lineerrors"]},editorDidMount:C,onBeforeChange:S,onChange:E})}function Zr(e){var t=e.domain,n=e.domainWarnings,a=e.onSave,o=e.error,c=Object(q.h)();r.useEffect((function(){c("view:domain:loaded")}),[c]);var i=Object(l.g)().push,s=r.useState(t),u=Object(O.a)(s,2),d=u[0],f=u[1],p=r.useState([]),m=Object(O.a)(p,2),b=m[0],g=m[1],v=r.useState(o),y=Object(O.a)(v,2),E=y[0],x=y[1],C=r.useState(!1),S=Object(O.a)(C,2),w=S[0],k=S[1],T=H(),R=T.addToast,A=T.removeToast,_=r.useMemo((function(){try{return g([]),Pr.a.load(d)}catch(e){return g((function(t){return t.filter((function(t){return t!==e.mark.line})).concat([e.mark.line])})),Pr.a.load(t)}}),[d,t]),I=[{title:"responses",alert:{head:"Want to edit your responses?",content:"We recommend editing and creating responses directly from the Responses section. Editing responses is currently disabled on this page to avoid duplication of data.",key:"responsesPreventEdit",actions:r.createElement(r.Fragment,null,r.createElement(h.d,{ml:4,large:!0,variant:"inverse",onClick:function(){i("/responses"),A("responsesPreventEdit")}},"Go to Responses"),r.createElement(h.d,{large:!0,variant:"plain",onClick:function(){return A("responsesPreventEdit")}},"Never mind"))}}];r.useEffect((function(){E&&R({head:E.name,content:E.message,variant:"error"})}),[E,R]),r.useEffect((function(){f(t)}),[t]),r.useEffect((function(){x(o)}),[o]);var F=r.useMemo((function(){var e=new Blob([t],{type:"application/x-yaml"});return window.URL.createObjectURL(e)}),[t]),U=Object(q.e)(me.d.Domain,me.a.Update),N=d!==t;return r.createElement(kr.a,{title:"Manage Domain",scrollable:!0,rightContent:r.createElement(pe.a,{resource:me.d.Domain,action:me.a.Update,yes:r.createElement(r.Fragment,null,N?r.createElement(r.Fragment,null,r.createElement(h.d,{onClick:function(){f(t)},variant:"secondary",large:!0,mr:2,disabled:!N},"Discard"),r.createElement(h.d,{onClick:function(){a({domain:d})},large:!0,mr:3,disabled:!N},"Save changes")):r.createElement(r.Fragment,null,r.createElement(j.Box,{sx:{display:"inline-block"}},r.createElement(Br,{onClose:function(){return k(!1)},visible:w,onSave:a},r.createElement(en.a,{left:!0},r.createElement(h.d,{variant:"headerIcon",active:w,onClick:function(){return k(!w)}},r.createElement(h.j,{icon:"arrow-to-top"}))))),r.createElement(en.a,{left:!0,sx:{display:"inline-block"}},r.createElement(h.d,{as:"a",download:"domain.yaml",href:F,variant:"headerIcon",p:"28px",onClick:function(){}},r.createElement(h.j,{icon:"arrow-to-bottom"})))))})},r.createElement(j.Box,null,N&&r.createElement(l.a,{message:"Are you sure you want to navigate away before saving the new domain?"}),r.createElement(h.e,{p:4,sx:{boxShadow:"0 2px 4px 0 rgba(207, 207, 207, 0.21)",border:0,borderRadius:"large"}},r.createElement(Vr,{domainWarnings:n,domain:_,onChange:f,onNavigate:i,errors:b}),r.createElement(Xr,{language:"yaml",value:d,onChange:f,readOnly:I,errors:b,disabled:!U}))))}Qr.defaultProps={color:"neutral_8",headerColor:"primary_1",quoteColor:"green_1",variableColor:"neutral_8",lineNumberColor:"neutral_6",foldMarkerBg:"primary_1",foldMarkerColor:"neutral_0",fontFamily:"mono",fontSize:"1",lineHeight:"normal"};var Jr={onFetchDomain:Dr.b.request,onSave:Dr.e.request};var $r=Object(s.b)((function(e){return{domain:e.projects.domain,domainWarnings:e.projects.domainWarnings,error:e.projects.error}}),Jr)((function(e){var t=e.onFetchDomain,n=Object(y.a)(e,["onFetchDomain"]);return r.useEffect((function(){t()}),[t]),r.createElement(Zr,n)})),ea=n(759),ta=n.n(ea),na=n(760),ra=n.n(na);function aa(e){var t=e.username,n=e.password,a=e.error,o=e.onLogin,c=e.onFetchSsoUrl,s=e.onCreateEnterpriseUser,u=e.onFetchEnterpriseTokenLogin,d=e.singleUseToken,f=e.newEnterpriseUser,p=e.enterpriseUser,m=e.role,b=e.permissions,v=e.fetchedUsername,y=e.onNavigate,E=r.useContext(i.ThemeContext);r.useEffect((function(){d&&u({singleUseToken:d})}),[u,d]);var x=r.useState(g.a?"":"me"),C=Object(O.a)(x,2),S=C[0],w=C[1],T=r.useState(""),R=Object(O.a)(T,2),A=R[0],_=R[1];r.useEffect((function(){null!==t&&w(t),null!==n&&_(n)}),[t,n]);var I=r.createElement(r.Fragment,null,r.createElement(h.i,{fontSize:5,variant:"h3",mb:2,letterSpacing:2,color:"neutral_8"},"Welcome !"),r.createElement(h.y,{variant:"bodySecondary",mb:3,sx:{display:"block"}},"Sign in to continue perfecting your bot!"),r.createElement(j.Box,null,r.createElement(h.l,{fullWidth:!0,type:g.a?"text":"hidden",name:"username","data-qa":"login-username-field_input",placeholder:"Username",onChangeValue:function(e){return w(e)},value:S,mb:2,px:4,onReturn:function(){return o({username:S,password:A})},py:"13px"})),r.createElement(j.Box,null,r.createElement(h.l,{fullWidth:!0,placeholder:"Password",name:"password","data-qa":"login-password-field_input",type:"password",onChangeValue:function(e){return _(e)},value:A,mb:3,onReturn:function(){return o({username:S,password:A})},px:4,py:"13px"})),r.createElement(h.d,{variant:"login","data-qa":"login-sign-in_button",width:"100%",onClick:function(){return o({username:S,password:A})},large:!0},"Sign in"),g.a&&r.createElement(r.Fragment,null,r.createElement(h.v,{my:3},r.createElement(h.y,{variant:"bodySecondary"},"OR")),r.createElement(h.d,{variant:"login",width:"100%",onClick:function(){return c()},large:!0},"I have an enterprise ID"))),F=r.createElement(r.Fragment,null,r.createElement(h.i,{fontSize:5,variant:"h3",mb:3,letterSpacing:2,color:"neutral_8"},"It seems like it's your first time!"),r.createElement(h.y,{variant:"bodySecondary",mb:2,sx:{display:"block"}},"Set a new username for yourself"),r.createElement(h.l,{fullWidth:!0,name:"username",placeholder:"Username",onChangeValue:function(e){return w(e)},value:S,mb:3,px:4,onReturn:function(){return s({username:S})},py:"13px"})),U=r.createElement(r.Fragment,null,r.createElement(h.y,{variant:"bodySecondary",mb:4,sx:{display:"block"}},"Your current role is ",r.createElement("strong",null,"\u201c",m,"\u201d"),". For any further permissions, please contact your Admin."),r.createElement(h.d,{variant:"primary",width:"100%",onClick:function(){return y("/conversations")},large:!0},"Go to platform")),N=r.createElement(h.y,{variant:"bodySecondary",sx:{display:"block"}},"You have not been assigned permissions. Please contact your Admin to continue."),L=r.createElement(h.d,{variant:"login",width:"100%",onClick:function(){return s({username:S})},large:!0},"CONTINUE"),D=r.useMemo((function(){return b&&-1!==b.findIndex((function(e){var t=e.resource,n=e.action;return t===me.d.Metadata&&n===me.a.Read}))?"/conversations":"/interactive"}),[b]);return r.createElement(j.Flex,{bg:"neutral_3",alignItems:"center",justifyContent:"center",style:{height:"100%"}},a&&a.message&&r.createElement(j.Box,{sx:{position:"absolute",top:0,left:0,width:"100%"}},r.createElement(h.a,{variant:"error",p:0,m:0,block:!0,py:"14px"},r.createElement(h.y,{variant:"bodySecondary",inheritColor:!0,textAlign:"center",width:1},a.message))),r.createElement(j.Card,{flex:"0 1 1000px",sx:{borderRadius:"large",boxShadow:"0 11px 43px 0 rgba(120, 119, 150, 0.1)",overflow:"hidden",height:"472px"}},r.createElement(j.Flex,{style:{height:"100%"}},r.createElement(j.Card,{sx:{backgroundImage:Object(k.get)(E,"gradients.primary_1")},width:.5,p:11,pt:9},r.createElement(j.Flex,{flexDirection:"column",style:{maxWidth:"300px",height:"100%"}},r.createElement(h.k,{width:"77px",src:ra.a,alt:"Rasa Logo",mb:5}),r.createElement(j.Box,{flex:"1"}),r.createElement(h.i,{variant:"h1",sx:{color:"neutral_0",fontSize:30,lineHeight:"large",letterSpacing:3,mb:4}},"Rasa ",g.a?"Enterprise":"X"),r.createElement(h.y,{sx:{color:"neutral_0",lineHeight:"big"}},"Build, improve, and deploy assistants powered by Rasa Open Source."))),r.createElement(j.Flex,{bg:"neutral_0",width:.5,px:11,py:9,justifyContent:"center",flexDirection:"column"},!d&&m&&m.length>=0&&m[0]!==me.c?r.createElement(l.b,{to:D}):(p||f)&&d?r.createElement(r.Fragment,null,f&&F,v?r.createElement(r.Fragment,null,m&&m.length>=0&&m[0]!==me.c?p?r.createElement(l.b,{to:D}):U:N):L):I))))}var oa={onLogin:se.g.request,onFetchSsoUrl:se.e.request,onFetchEnterpriseTokenLogin:se.c.request,onCreateEnterpriseUser:se.b.request};var ca=Object(s.b)((function(e,t){return{error:e.auth.error,singleUseToken:t.match.params.singleUseToken,fetchedUsername:e.auth.username,newEnterpriseUser:e.auth.newEnterpriseUser,enterpriseUser:e.auth.enterpriseUser,role:e.auth.role,permissions:e.auth.permissions}}),oa)((function(e){var t=Object(l.g)(),n=t.push,a=t.location.search,o=e.onLogin,c=r.useMemo((function(){var e=new ta.a(a);return[e.get("username"),e.get("password")]}),[a]),i=Object(O.a)(c,2),s=i[0],u=i[1];return r.useEffect((function(){null!==s&&null!==u&&o({username:s,password:u})}),[s,u,o]),r.createElement(aa,Object.assign({username:s,password:u,onNavigate:n},e))})),ia=n(761),sa=n.n(ia);function la(){var e=Object(A.a)(["\n  @media (max-device-width: ",") {\n    border: 0;\n    box-shadow: 0 4px 11px 0 rgba(152, 163, 193, 0.17);\n    z-index: 1;\n    width: 100%;\n  }\n  @media (max-device-width: ",") {\n    border-radius: 0;\n    margin: 0;\n    padding: 16px;\n  }\n"]);return la=function(){return e},e}function ua(){var e=Object(A.a)(["\n  height: 100%;\n  min-height: 100%;\n  @media (max-device-width: ",") {\n    flex-direction: column;\n  }\n  @media (max-device-width: ",") {\n    padding: 0;\n    height: 100%;\n  }\n"]);return ua=function(){return e},e}var da=Object(i.default)(j.Flex)(ua(),Object(un.a)("breakpoints.2"),Object(un.a)("breakpoints.1")),fa=Object(i.default)(j.Card)(la(),Object(un.a)("breakpoints.2"),Object(un.a)("breakpoints.1"));function pa(e){var t=e.awaitingResponse,n=e.botDescription,a=e.botName,o=e.conversationEvents,c=e.environment,s=e.onSendMessage,l=e.onStartPolling,u=e.onStopPolling,d=e.timestamp,f=e.username,p=r.useContext(i.ThemeContext),m=Object(q.d)("(max-device-width: ".concat(p.breakpoints[1],")")),b=r.useState(!0),g=Object(O.a)(b,2),v=g[0],y=g[1];r.useEffect((function(){return f?(l({conversationId:f,environment:c,guest:!0}),function(){return u()}):function(){}}),[f,c,l,u]);var E=r.useCallback((function(e){s({senderId:f,text:e,environment:c})}),[f,c,s]),x=o[f];return x&&(x=x.filter((function(e){return["bot","user","typing"].includes(e.event)}))),r.createElement(da,{bg:"neutral_3",alignItems:"center",justifyContent:"center",p:4},r.createElement(fa,{flex:"0 1 976px",sx:{borderRadius:"large",boxShadow:"0 4px 11px 0 rgba(152, 163, 193, 0.17)",overflow:"hidden",height:"700px",["@media (max-device-width: ".concat(p.breakpoints[1],")")]:{"&&":{height:"auto",padding:0,overflow:"unset"}}},my:3},r.createElement(da,{sx:{height:"100%"}},r.createElement(fa,{bg:"neutral_0",width:400,p:6,pb:11,sx:{borderRight:"1px solid",borderColor:"neutral_4"}},r.createElement(j.Flex,{flexDirection:"column",sx:{height:"100%"}},r.createElement(j.Flex,{justifyContent:"space-between",alignItems:"flex-start"},r.createElement(j.Image,{src:sa.a,alt:"Rasa Logo",sx:{width:"77px",["@media (max-device-width: ".concat(p.breakpoints[1],")")]:{width:"50px"}}}),m&&!v&&r.createElement(h.d,{variant:"plainIcon",p:0,onClick:function(){y(!v)}},r.createElement(h.j,{icon:"ellipsis-v",color:"neutral_6",fontSize:"24px"}))),v&&r.createElement(j.Box,{mt:[21,21,5],px:[2,2,0]},r.createElement(j.Box,{flex:"1"}),r.createElement(h.i,{fontWeight:400,variant:"h1",fontSize:[0,15,20],lineHeight:[0,1.33,"28px"],letterSpacing:3,sx:{maxWidth:"240px",["@media (max-device-width: ".concat(p.breakpoints[1],")")]:{maxWidth:"initial"}}},"You have been invited to have a conversation with"," ",a?r.createElement("strong",null,a):"an AI assistant"),n&&r.createElement(h.y,{lineHeight:"big",mt:[0,3,4],sx:{["@media (max-device-width: ".concat(p.breakpoints[1],")")]:{fontSize:"13px"}}},n)))),r.createElement(j.Flex,{bg:"neutral_0",flex:1,justifyContent:"center",flexDirection:"column",pb:[0,72,0],onTouchMove:function(){y(!1)}},r.createElement(Bt,{onChatFocus:function(){return m&&y(!1)},awaitingResponse:t,username:f,conversation:x,onSendMessage:E,timestamp:d,userAvatar:r.createElement(h.j,{fontSize:14,icon:["fas","user"]})})))))}var ma={onSendMessage:Et.w,onStartPolling:Et.z,onStopPolling:Et.A,onFetchTemporaryAccessToken:se.f.request,onFetchBotDetails:Et.f.request,onFetchConversation:Et.r};var ba=Object(s.b)((function(e,t){return{awaitingResponse:e.messages.awaitingResponse,chatToken:t.match.params.chatToken,conversationEvents:e.messages.conversationEvents,entities:e.messages.entities,entityTypes:e.examples.entityTypes,role:e.auth.role,timestamp:Number(t.match.params.timestamp)||0,guestUsername:e.auth.guestUsername,environment:e.messages.environment,loading:e.messages.loading,botName:e.messages.botName,botDescription:e.messages.botDescription}}),ma)((function(e){var t=e.guestUsername,n=e.onFetchTemporaryAccessToken,a=e.onFetchBotDetails,o=e.onFetchConversation,c=e.chatToken,i=Object(y.a)(e,["guestUsername","onFetchTemporaryAccessToken","onFetchBotDetails","onFetchConversation","chatToken"]),l=Object(s.d)((function(e){return e.auth.guestAccessToken}));return r.useEffect((function(){l&&t?(a(),o({conversationId:t})):n({chatToken:c})}),[c,n,a,o,l,t]),null===t?null:r.createElement(pa,Object.assign({username:t},i))})),ha=n(2),ga=n(167),va=n(11);function ya(e){var t=e.onConfirm,n=e.onClose,a=e.modelName;return r.createElement(j.Flex,{p:5,flexDirection:"column",alignItems:"start",width:412,style:{textAlign:"left"}},r.createElement(h.i,{variant:"h2",mb:3},"Delete Model?"),r.createElement(j.Box,{width:1},r.createElement(h.y,null,"Are you sure you want to delete model ",a,"? This action cannot be undone."),r.createElement(j.Flex,{flexDirection:"row-reverse",mt:5},r.createElement(h.d,{onClick:t,large:!0,ml:2},"Delete"),r.createElement(h.d,{onClick:n,large:!0,variant:"secondary"},"Cancel"))))}function Ea(e){var t=e.environments;return r.createElement(r.Fragment,null,t.map((function(e){var t=function(e){switch(e){case"production":return["cyan_1","cyan_3"];case"staging":return["blue_1","blue_3"];case"development":return["yellow_1","yellow_3"];default:return["orange_1","orange_3"]}}(e),n=Object(O.a)(t,2),a=n[0],o=n[1];return r.createElement(h.r,{key:e,color:a,bg:o},g.a?e:"Active")})))}function xa(e){var t=e.environment,n=e.onChange,a=e.healthy,o=e.checked,c=void 0!==o&&o,i=Object(y.a)(e,["environment","onChange","healthy","checked"]);return r.createElement(j.Card,Object.assign({as:"label"},i,{sx:{display:"block"}}),r.createElement(j.Flex,null,r.createElement(Pe.a,{disabled:a,content:"Environment not responsive"},r.createElement(j.Box,{p:2},r.createElement(h.f,{checked:c,onChange:function(){return n(!c)},disabled:!a})),r.createElement(j.Box,{p:2,flex:"1"},r.createElement(h.i,{variant:"h4",color:a?"inherit":"neutral_6"},t.charAt(0).toUpperCase()+t.slice(1))))))}function Oa(e){var t=e.open,n=e.onAddEnvironment,a=e.onClose,o=e.model,c=e.environments,i=e.environmentsHealth,s=r.useState([]),l=Object(O.a)(s,2),u=l[0],d=l[1],f=function(){d([]),a()},p=r.useMemo((function(){return o?c.filter((function(e){return!o.tags.includes(e)})):c}),[c,o]);if(!o)return null;var m=function(e){return Boolean(i[e]&&200===i[e].status)};return r.createElement(Qe,{open:t,onClose:f,title:"Manage Deployment Environment",px:5,py:5,footer:r.createElement(pe.a,{resource:me.d.Environments,action:me.a.Update,yes:r.createElement(j.Flex,{flexDirection:"row-reverse",mr:-1},r.createElement(h.d,{mx:1,variant:"primary",onClick:function(){n({model:o,environment:u}),f()},large:!0},"Save"),r.createElement(h.d,{mx:1,variant:"secondary",onClick:f,large:!0},"Cancel"))})},o.tags.length>0&&r.createElement(j.Box,{mb:5},r.createElement(h.i,{variant:"h4",mb:4},"Model ",o.model," is currently in:"),r.createElement(Ea,{environments:o.tags})),p.length>0&&r.createElement(j.Box,null,r.createElement(h.i,{variant:"h4",mb:4},"Add model to:"),p.map((function(e){return r.createElement(xa,{key:e,mb:4,checked:u.includes(e),environment:e,healthy:m(e),onChange:function(t){return d(t?[].concat(Object(x.a)(u),[e]):u.filter((function(t){return e!==t})))}})}))))}xa.defaultProps={p:2,border:"1px solid",borderColor:"neutral_5",borderRadius:"normal"};var ja=n(166);function Ca(e){var t=e.environments,n=e.environmentsHealth,a=e.models,o=e.onAddModelEnvironment,c=e.noRowsRenderer,i=e.onDeleteModels,s=e.onLoadMoreRows,l=e.total,u=r.useState(null),d=Object(O.a)(u,2),f=d[0],p=d[1],m=r.useState(null),b=Object(O.a)(m,2),v=b[0],y=b[1],E=r.useState(null),x=Object(O.a)(E,2),C=x[0],S=x[1],w=r.useState(null),k=Object(O.a)(w,2),T=k[0],R=k[1],A=te(),_=A.removeStep,I=A.setOnboardingShown,F=A.currentOnboardingStep,U=r.useMemo((function(){return null!==v?v:C}),[C,v]),N=r.useCallback((function(e){o(e),"onboarding_push_changes"!==F&&"onboarding_populate_model"!==F||(I(!0),_(F))}),[o,I,_,F]),L=r.useCallback((function(e){var t=e.selected,n=e.onChangeSelected;return function(e){var a=e.rowIndex,o=e.rowData;if(!o)return null;var c=t.includes(a);return r.createElement(j.Flex,{alignItems:"center"},r.createElement(pe.a,{resource:me.d.Models,action:me.a.Update,yes:r.createElement(j.Box,{flex:"0 1 auto",mr:3},r.createElement("label",null,r.createElement(h.f,{checked:c,onChange:function(){return n(a,!c)}})))}),r.createElement(j.Box,{flex:"1",style:{overflow:"hidden",textOverflow:"ellipsis"}},r.createElement(h.y,{variant:"bodySecondary"},o.model)))}}),[]),D=function(e){var a=e.onResetCache;return function(e){var o=e.rowData,c=e.rowIndex,s=o;if(!s)return null;var l=f&&f.model===s.model?r.createElement(Oa,{open:!0,onClose:function(){return p(null)},model:s,onAddEnvironment:function(e){N(e),a(!0)},environments:t,environmentsHealth:n}):null;return r.createElement(r.Fragment,null,l,r.createElement(j.Flex,{flexDirection:"row-reverse"},r.createElement(pe.a,{resource:me.d.Models,action:me.a.Delete,yes:r.createElement(qt,{content:r.createElement(ya,{onConfirm:function(){return i([s])&&S(null)},onClose:function(){return S(null)},modelName:s.model}),offset:[0,8],onClose:function(){return S(null)},visible:C===c},r.createElement(h.d,{ml:1,variant:"icon",active:c===C,onClick:function(){return S(c)}},r.createElement(h.j,{icon:"trash-alt"})))}),s.is_compatible&&c!==T&&r.createElement(pe.a,{resource:me.d.Models,action:me.a.Update,yes:r.createElement(Qn,{options:g.a?[{label:"Manage deployment environment",action:function(){return p(s)}}]:[{label:"Make active",action:function(){N({model:s,environment:"production"}),a(!0)}}],visible:c===v,onClose:function(){return y(null)}},r.createElement(h.d,{ml:1,variant:"icon",active:c===v,onClick:function(){return y(c)}},r.createElement(h.j,{icon:"ellipsis-h"})))})))}};return r.createElement(ja.a,{total:l,data:a,onLoadMoreRows:s,noRowsRenderer:c,resource:me.d.Models,bulkActionsRenderer:function(e){var t=e.dataSelected,n=e.setSelected;return r.createElement(pe.a,{resource:me.d.Models,action:me.a.Delete,yes:r.createElement(h.d,{onClick:function(){i(t),n([])},variant:"inverse"},"Delete")})},focused:U},(function(e){return[r.createElement(_t.d,{key:"model",cellDataGetter:function(){},flexGrow:2,width:300,dataKey:"model",label:"Model name",className:"ReactVirtualized__Table__rowColumn_overflow",cellRenderer:L(e)}),r.createElement(_t.d,{key:"createdOn",cellDataGetter:function(){},flexGrow:2,width:300,dataKey:"trained_at",label:"Created on",cellRenderer:function(e){var t=e.rowData;return t?r.createElement(h.y,{variant:"bodySecondary"},fe.a.unix(t.trained_at).toString()):null}}),r.createElement(_t.d,{key:"tags",cellDataGetter:function(){},flexGrow:1,width:250,dataKey:"tags",label:"State",cellRenderer:function(e){var t=e.rowData,n=e.rowIndex,a=t;return a?(!g.a&&a.tags&&a.tags.length>0&&R(n),r.createElement(r.Fragment,null,r.createElement(Ea,{environments:a.tags}),!a.is_compatible&&r.createElement(h.r,{bg:"neutral_3",color:"neutral_6"},"Not compatible"))):null}}),r.createElement(_t.d,{key:"actions",cellDataGetter:function(){},flexGrow:1,width:150,dataKey:"model",className:"ReactVirtualized__Table__rowColumnOnHover",label:"",cellRenderer:D(e)})]}))}function Sa(e){var t=e.apiUrl,n=e.apiToken,a=e.onUploadModel,o=e.onClose,c='curl -k -F "model=@my_model.tar.gz" "'.concat(t,"/projects/default/models?api_token=").concat(n,'"'),i=r.useCallback((function(e){var t=e.target.files[0];if(t){var n=new FormData;n.append("model",t),a(n),o()}}),[a,o]);return r.createElement(j.Flex,{p:5,flexDirection:"column",alignItems:"start",width:412,style:{textAlign:"left"}},r.createElement(h.i,{variant:"h3",mb:2},"Upload a model"),r.createElement(h.y,{variant:"bodySecondary",mb:3},"To upload a model via the API, use this command:"),r.createElement(j.Box,{width:1},r.createElement(Ge,null,c)),r.createElement(h.A,{accept:"application/gzip, .gz",onUpload:i,fullWidth:!0,mt:3,width:1,large:!0},"Upload a model from files instead"))}function wa(e){var t=e.apiToken,n=e.apiUrl,a=e.children,o=e.onUploadModel,c=e.showUploadPopup,i=Object(y.a)(e,["apiToken","apiUrl","children","onUploadModel","showUploadPopup"]),s=i.onClose;return r.createElement(qt,Object.assign({content:r.createElement(Sa,{onClose:s,onUploadModel:o,apiUrl:n,apiToken:t}),offset:[-8,8],appendTo:"parent"},i),r.createElement(Pe.a,{content:"Upload a model",disabled:c},a))}var ka=n(418),Ta=n.n(ka);function Ra(e){var t=e.apiToken,n=e.apiUrl,a=e.chatToken,o=e.environment,c=e.environments,i=e.environmentsHealth,s=e.models,l=e.onAddModelEnvironment,u=e.onDeleteModels,d=e.onFetchChatToken,f=e.onLoadMoreRows,p=e.onUploadModel,m=e.total,b=Object(q.h)(),g=te(),v=g.setOnboardingShown,y=g.currentOnboardingStep;r.useEffect((function(){b("view:models:loaded")}),[b]);var E=r.useState(!1),x=Object(O.a)(E,2),C=x[0],S=x[1],w=r.useState(!1),k=Object(O.a)(w,2),T=k[0],R=k[1];return r.createElement(kr.a,{title:"Models",rightContent:r.createElement(r.Fragment,null,r.createElement(pe.a,{resource:me.d.ChatToken,action:me.a.Update,yes:r.createElement(en.a,{left:!0},r.createElement(_r,{visible:C,environment:o,environments:c,onClose:function(){return S(!1)},offset:[0,8],onFetchChatToken:d,chatToken:a},r.createElement(h.d,{variant:"headerIcon",active:C,style:{position:"relative"},onClick:function(){return S(!C)}},r.createElement(h.j,{icon:"share-alt"}))))}),r.createElement(pe.a,{resource:me.d.Models,action:me.a.Create,yes:r.createElement(ct,{title:"Upload and activate a model",content:"To have a first model for your assistant to use, you\u2019ll need to upload a model and activate it.",links:[{title:"Learn more about models",href:"//rasa.com/docs/rasa-x/installation-and-setup/deploy/#train-upload-a-model"}],sticky:!0,name:"upload_model"},r.createElement(j.Box,{sx:{display:"inline-block"}},r.createElement(wa,{showUploadPopup:T,onClose:function(){return R(!1)},onUploadModel:p,apiUrl:n,apiToken:t,visible:T},r.createElement(en.a,{left:!0},r.createElement(h.d,{variant:"headerIcon",active:T,onClick:function(){"onboarding_populate_model"===y&&v(!1),R(!T)}},r.createElement(h.j,{icon:"arrow-to-top"}))))))}))},r.createElement(Ca,{environments:c,environmentsHealth:i,models:s,onDeleteModels:u,onLoadMoreRows:f,onAddModelEnvironment:l,total:m,noRowsRenderer:function(){return r.createElement(Tr,{heading:"There are no trained models",body:"When you train a new model, it'll show up here!",image:Ta.a})}}))}var Aa={onFetchModels:le.f.request,onFetchChatToken:Et.g.request,onAddModelEnvironment:le.a.request,onDeleteModels:le.b.request,onFetchEnvironments:le.c.request,onFetchHealth:le.e.request,onUploadModel:le.l.request};var _a=Object(s.b)((function(e){return{apiToken:e.auth.apiToken,apiUrl:new URL(va.c,window.location.href).href,environment:e.messages.environment,environments:e.models.environments,environmentsHealth:e.models.environmentsHealth,models:e.models.models,role:e.auth.role,total:e.models.total,chatToken:e.messages.chatToken}}),Aa)((function(e){var t=e.onFetchEnvironments,n=e.onFetchHealth,a=e.onFetchModels;return r.useEffect((function(){t(),n(),a({search:"",offset:0,limit:0})}),[t,n,a]),r.createElement(ga.a,{listener:v.b,start:Object(ha.getType)(le.f.request),resolve:Object(ha.getType)(le.f.success),reject:Object(ha.getType)(le.f.failure)},(function(t){return r.createElement(Ra,Object.assign({},e,{onLoadMoreRows:t}))}))})),Ia=n(281),Fa=n.n(Ia),Ua=n(31),Na=n(169),La=n.n(Na);function Da(e){var t=e.error,n=e.loading,a=e.lookupTables,o=e.onCreateLookupTable,c=e.onDeleteLookupTables,i=e.onDownloadLookupTable,s=e.total,l=H().addToast;r.useEffect((function(){!1===n.createLookupTable&&(t.createLookupTable?l({head:"Lookup Table file upload failed",content:"It seems something was wrong with the Lookup Table file you tried to upload. Please check the formatting of the file and try again.",variant:"error",key:"UploadLookupTablesFailed"}):l({head:"Upload succeeded",content:"Lookup Table upload has succeeded",key:"UploadLookupTablesSucceeded"}))}),[l,n.createLookupTable,t.createLookupTable]);var u=r.useCallback((function(e){var t=e.target.files[0];if(t){var n=new FileReader;n.onload=function(){"string"===typeof n.result&&o({filename:t.name,content:window.btoa(unescape(encodeURIComponent(n.result)))})},n.readAsText(t)}}),[o]),d=r.useCallback((function(){return function(e){var t=e.rowData;return t?r.createElement(j.Flex,{alignItems:"center"},r.createElement(j.Box,{flex:"1",pl:3},r.createElement(h.y,{variant:"bodySecondary"},t.name))):null}}),[]),f=function(e){var t=e.onResetCache;return function(e){var n=e.rowData,a=n;return a?r.createElement(r.Fragment,null,r.createElement(pe.a,{resource:me.d.Regexes,action:me.a.List,yes:r.createElement(j.Box,{style:{display:"inline-block"}},r.createElement(Pe.a,{content:"Download the file ".concat(n.name," to view its contents")},r.createElement(h.d,{ml:1,variant:"icon",onClick:function(){i({filename:n.name,lookupTableId:a.id})}},r.createElement(h.j,{icon:"arrow-to-bottom"}))))}),r.createElement(pe.a,{resource:me.d.Regexes,action:me.a.Delete,yes:r.createElement(j.Box,{style:{display:"inline-block"}},r.createElement(Pe.a,{content:"Delete ".concat(n.name)},r.createElement(h.d,{ml:1,variant:"icon",onClick:function(){c([a]),t(!0)}},r.createElement(h.j,{icon:"trash-alt"}))))})):null}};return r.createElement(ja.a,{total:s,buttons:[r.createElement(Pe.a,{content:"Upload lookup table file",hideOnClick:!0},r.createElement(h.A,{accept:".txt",onUpload:u,variant:"headerIcon"},r.createElement(h.j,{icon:"arrow-to-top"})))],title:"Lookup tables",data:a,resource:me.d.Regexes,disableLabels:!0,noRowsRenderer:function(){return r.createElement(Tr,{heading:"You have no lookup tables",imageWidth:125,image:La.a,pb:5,body:r.createElement(j.Box,{width:128},"To learn more about lookup tables, go"," ",r.createElement(j.Box,{as:"a",color:"primary_1",style:{textDecoration:"none"},href:"//rasa.com/docs/rasa/nlu/training-data-format/#lookup-tables",target:"_blank"},"here"),"."," "),actions:r.createElement(h.A,{accept:".txt",onUpload:u,large:!0},"Upload lookup table file")})}},(function(e){return[r.createElement(_t.d,{key:"lookupTable",cellDataGetter:function(){},flexGrow:2,width:300,style:{marginLeft:"16px"},dataKey:"lookupTable",className:"ReactVirtualized__Table__rowColumn_overflow",cellRenderer:d()}),r.createElement(_t.d,{key:"count",cellDataGetter:function(){},flexGrow:2,width:300,style:{marginLeft:"16px"},dataKey:"count",cellRenderer:function(e){var t=e.rowData;return t?r.createElement(j.Flex,{alignItems:"center"},r.createElement(j.Box,{flex:"1",pl:3},r.createElement(h.y,{variant:"bodySecondary",color:"neutral_6"},t.number_of_elements," values"))):null}}),r.createElement(_t.d,{key:"actions",cellDataGetter:function(){},flexGrow:1,width:250,style:{textAlign:"right"},dataKey:"actions",className:"ReactVirtualized__Table__rowColumnOnHover",label:"",cellRenderer:f(e)})]}))}function Ma(e){var t=e.onClickOutside,n=e.children,a=e.shouldOmit,o=Object(y.a)(e,["onClickOutside","children","shouldOmit"]),c=r.useRef(null);return Object(q.a)(c,t,a),r.createElement(j.Flex,Object.assign({ref:c},o),n)}function Pa(e){var t=e.onCreateRegex,n=e.onClose,a=r.useState(""),o=Object(O.a)(a,2),c=o[0],i=o[1],s=r.useState(""),l=Object(O.a)(s,2),u=l[0],d=l[1],f=r.useCallback((function(){t({name:c,pattern:u}),n(),i(""),d("")}),[t,n,c,i,u,d]);return r.createElement(Ma,{width:1,onClickOutside:n,px:3},r.createElement(j.Box,{width:1/3,mr:2},r.createElement(h.l,{autoFocus:!0,fullWidth:!0,onReturn:f,placeholder:"Enter a Regex name",value:c,onChangeValue:i})),r.createElement(j.Box,{mr:2,flex:1},r.createElement(h.l,{fullWidth:!0,fontFamily:"mono",fontSize:1,onReturn:f,placeholder:"Enter a Regex",value:u,onChangeValue:d})),r.createElement(j.Flex,{flexDirection:"row-reverse",style:{height:"100%"}},r.createElement(h.d,{disabled:""===c||""===u,variant:"primary",onClick:f,large:!0},"Save")))}function Ba(e){var t=e.onCreateRegex,n=e.onDeleteRegexes,a=e.onLoadMoreRows,o=e.onUpdateRegex,c=e.regexes,i=e.total,s=r.useState(null),l=Object(O.a)(s,2),u=l[0],d=l[1],f=r.useState(""),p=Object(O.a)(f,2),m=p[0],b=p[1],g=r.useState(""),v=Object(O.a)(g,2),y=v[0],x=v[1],C=r.useCallback((function(e){return t&&r.createElement(Pa,{onCreateRegex:t,onClose:e})}),[t]),S=r.useCallback((function(){return function(e){var t=e.rowData,n=e.rowIndex,a=t;return a?r.createElement(j.Flex,{alignItems:"center"},r.createElement(j.Box,{flex:"1",pl:3},n===u?r.createElement(Ma,{onClickOutside:function(){return d(null)},shouldOmit:function(e){if(e.getAttribute("aria-rowindex")===(n+1).toString())return!0}},r.createElement(h.l,{fullWidth:!0,autoFocus:!0,placeholder:"Regex name",value:m,onChangeValue:b,ml:-3})):r.createElement(h.y,{variant:"bodySecondary"},a.name))):null}}),[u,m]),w=function(e){var t=e.onResetCache;return function(e){var a=e.rowData,c=e.rowIndex,i=a;return i?r.createElement(r.Fragment,null,c===u?r.createElement(h.d,{variant:"primary",large:!0,onClick:function(){o(Object(E.a)({},i,{name:m,pattern:y})),d(null),t(!0)}},"Save"):r.createElement(r.Fragment,null,r.createElement(pe.a,{resource:me.d.Regexes,action:me.a.Update,yes:r.createElement(j.Box,{style:{display:"inline-block"}},r.createElement(Pe.a,{content:"Edit"},r.createElement(h.d,{ml:1,variant:"icon",onClick:function(){d(c),b(i.name),x(i.pattern)}},r.createElement(h.j,{icon:"pen"}))))}),r.createElement(pe.a,{resource:me.d.Regexes,action:me.a.Delete,yes:r.createElement(j.Box,{style:{display:"inline-block"}},r.createElement(Pe.a,{content:"Delete"},r.createElement(h.d,{ml:1,variant:"icon",onClick:function(){n([i]),t(!0)}},r.createElement(h.j,{icon:"trash-alt"}))))}))):null}};return r.createElement(ja.a,{total:i,title:"Regular expressions",data:c,onLoadMoreRows:a,addRenderer:C,resource:me.d.Regexes,disableLabels:!0,focused:u,noRowsRenderer:function(e,t){return r.createElement(Tr,{heading:"You have no regexes",imageWidth:125,pb:5,image:La.a,body:r.createElement(r.Fragment,null,"To learn more about regular expressions, go"," ",r.createElement(j.Box,{as:"a",color:"primary_1",style:{textDecoration:"none"},href:"//rasa.com/docs/rasa/nlu/training-data-format/#regular-expression-features",target:"_blank"},"here"),"."," "),actions:r.createElement(h.d,{large:!0,disabled:e,onClick:function(){return t&&t(!0)}},"Create new regex")})}},(function(e){return[r.createElement(_t.d,{key:"regex",flexGrow:2,cellDataGetter:function(){},width:440,style:{marginLeft:"16px",marginRight:"-8px"},dataKey:"regex",cellRenderer:S()}),r.createElement(_t.d,{key:"pattern",flexGrow:2,cellDataGetter:function(){},width:600,style:{marginLeft:"0px",marginRight:0},dataKey:"pattern",cellRenderer:function(e){var t=e.rowData,n=e.rowIndex,a=t;return a?r.createElement(j.Flex,{alignItems:"center"},r.createElement(j.Box,{flex:"1",pl:3},n===u?r.createElement(h.l,{fullWidth:!0,fontFamily:"mono",fontSize:1,placeholder:"Regex pattern",value:y,onChangeValue:x,ml:-3}):r.createElement(h.y,{variant:"code"},a.pattern))):null}}),r.createElement(_t.d,{key:"actions",flexGrow:1,cellDataGetter:function(){},width:200,style:{flexBasis:"auto",marginRight:"16px",textAlign:"right"},dataKey:"actions",className:"ReactVirtualized__Table__rowColumnOnHover",label:"",cellRenderer:w(e)})]}))}function Ha(e){var t=e.error,n=e.loading,a=e.lookupTables,o=e.lookupTablesTotal,c=e.onCreateLookupTable,i=e.onCreateRegex,s=e.onDeleteLookupTables,l=e.onDeleteRegexes,u=e.onDownloadLookupTable,d=e.onLoadMoreRows,f=e.onUpdateRegex,p=e.regexes,m=e.regexesTotal,b=Object(q.h)();return r.useEffect((function(){b("view:regex-lookup:loaded")}),[b]),r.createElement(j.Flex,{style:{minHeight:"480px"}},r.createElement(j.Flex,{flex:.5,pr:32},r.createElement(Ba,{onCreateRegex:i,onDeleteRegexes:l,onLoadMoreRows:d,onUpdateRegex:f,regexes:p,total:m})),r.createElement(j.Flex,{flex:.5},r.createElement(Da,{error:t,loading:n,lookupTables:a,onCreateLookupTable:c,onDeleteLookupTables:s,onDownloadLookupTable:u,total:o})))}var qa={onCreateRegex:Ua.b.request,onCreateLookupTable:Ua.a.request,onFetchRegex:Ua.g.request,onDownloadLookupTable:Ua.e.request,onFetchLookupTables:Ua.f.request,onFetchRegexes:Ua.h.request,onDeleteRegexes:Ua.d.request,onDeleteLookupTables:Ua.c.request,onUpdateRegex:Ua.i.request};var Ga=Object(s.b)((function(e){return{error:e.regexes.error,loading:e.regexes.loading,lookupTables:e.regexes.lookupTables,lookupTablesTotal:e.regexes.lookupTablesTotal,regexes:e.regexes.regexes,regexesTotal:e.regexes.regexesTotal,role:e.auth.role}}),qa)((function(e){var t=e.onFetchRegexes,n=e.onFetchLookupTables,a=e.regexes;return r.useEffect((function(){0===Object.keys(a).length&&(t({offset:0,limit:0}),n())}),[t,n,a]),r.createElement(ga.a,{listener:v.b,start:Object(ha.getType)(Ua.h.request),resolve:Object(ha.getType)(Ua.h.success),reject:Object(ha.getType)(Ua.h.failure)},(function(t){return r.createElement(Ha,Object.assign({},e,{onLoadMoreRows:t}))}))})),Va=(n(616),n(141)),za=n(412),Wa=n.n(za);function Ya(e,t){return e.start===t.start&&e.end===t.end&&e.extractor===t.extractor}function Ka(){var e=Object(A.a)(["\n  border-radius: 4px;\n  padding: 2px;\n  margin: -2px;\n  &:hover {\n    background-color: ",";\n  }\n"]);return Ka=function(){return e},e}var Qa=Object(i.default)(W.g)(Ka(),Object(un.a)("colors.neutral_4"));function Xa(e,t,n){e.findStyleRanges((function(e){return e.getStyle().size>0}),t)}function Za(e,t,n){var r=e.getText().split(/\b/),a=0;r.forEach((function(e){e.match(/[^\W]/)&&t(a,a+e.length),a+=e.length}))}function Ja(e){var t=e.getSelection();return e.getCurrentContent().getBlockForKey(t.getAnchorKey()).getText().slice(t.getStartOffset(),t.getEndOffset())}function $a(e){var t=e.text,n=e.entities,a=e.entityTypes,o=e.onChange,c=e.hidePopover,s=e.isCollapsed,l=e.isLongText,u=e.onExpandCollapse,d=e.synonyms,f=e.onPopupShow,p=(Object(y.a)(e,["text","entities","entityTypes","onChange","hidePopover","isCollapsed","isLongText","onExpandCollapse","synonyms","onPopupShow"]),r.useContext(i.ThemeContext)),m=r.useState(!1),b=Object(O.a)(m,2),g=b[0],v=b[1],E=r.useMemo((function(){return function(e){var t=e.children;return r.createElement(Qa,{as:"span",style:{height:"20px",borderRadius:"2px"},title:s?"":"Select a word or a phrase to annotate"},t)}}),[s]),j=r.useMemo((function(){return function(e){var t=e.children,n=e.contentState,a=e.start,o=I(n).getInlineStyleAt(a),c=new Cn.a,i=o.map((function(e){return new Sn.a(c.hex(e.split("/")[0]))})).reduce((function(e,t){return e?e.mix(t):t})),s=i?i.toHexString():"#d2c179",l=Object(wn.a)(s,[Object(k.get)(p,"colours.neutral_0"),Object(k.get)(p,"colours.neutral_8")]),u=l?l.toHexString():"";return r.createElement(W.g,{as:"span",sx:{backgroundColor:s,color:u},onClick:function(){return v(!0)}},t)}}),[v,p]),C=function(e){return Va.EditorState.createWithContent(Va.ContentState.createFromText(e),new Va.CompositeDecorator([{strategy:Xa,component:j},{strategy:Za,component:E}]))},S=r.useState(C(t)),w=Object(O.a)(S,2),T=w[0],R=w[1],A=r.useRef(null),_=r.useRef([]);r.useEffect((function(){var e=T.getCurrentContent().getPlainText();e!==t&&(console.warn("Editor being replaced.",{previous:e,new:t}),A&&A.current&&A.current.blur());var r=e!==t;if(r||n!==_.current){var a=r?C(t):T,o=a.getSelection(),c=n.reduce((function(e,n){if("number"!==typeof n.start||"number"!==typeof n.end||n.start<0||n.start>=t.length||n.end<0||n.end>t.length)return console.warn("Skipping impossible annotation:"),console.warn("Entity (".concat(n.entity,") spans ").concat(n.start,"-").concat(n.end,", but sentence has length ").concat(t.length)),e;var r=a.getCurrentContent().getBlockForKey(o.getAnchorKey()).getText().slice(n.start,n.end),c=o.getAnchorKey();if(r!==n.value){var i=e.getBlocksAsArray().find((function(e){return e.getText().slice(n.start,n.end)===n.value})),s=i&&i.getKey();if(c=s||c,!i)return e}var l,u,d=(l=n.start,u=n.end,a.getSelection().set("anchorOffset",l).set("focusOffset",u).set("isBackward",!1).set("anchorKey",c).set("focusKey",c));return Va.Modifier.applyInlineStyle(e,d,"".concat(n.entity,"/").concat(n.id))}),a.getCurrentContent()),i=Va.EditorState.push(a,c,"change-inline-style");_.current=n,R(i)}}),[t,n]);var I=function(e){var t=e.getSelectionAfter().getAnchorKey();return e.getBlockForKey(t)},F=function(e,t){var n=t.start,r=t.end,a=t.entity,o=t.id,c=e.getCurrentContent(),i=c.getSelectionBefore().getAnchorKey(),s=Va.SelectionState.createEmpty(i).set("anchorOffset",n).set("focusOffset",r).set("focusKey",i),l=Va.Modifier.removeInlineStyle(c,s,"".concat(a,"/").concat(o));return Va.EditorState.push(e,l,"change-inline-style")},U=function(e){var t=e.getCurrentContent(),n=t.getSelectionBefore().getAnchorKey(),r=t.getPlainText().length,a=Va.SelectionState.createEmpty(n).set("anchorOffset",r).set("focusOffset",r).set("focusKey",n);return Va.EditorState.forceSelection(e,a)},N=r.useRef((new Date).getTime()),L=function(e){return!(e-N.current>350)||(N.current=e,!1)},D=r.useCallback((function(e){var r=function(e,t){return e.find((function(e){return e.id===t}))}(n,e.id);r&&R(F(T,r)),o(t,function(e,t){return e.map((function(e){return Ya(e,t)?t:e}))}(n,e))}),[t,n,T,o]),M=r.useCallback((function(e){var r=function(e,t){return e.filter((function(e){return!Ya(e,t)}))}(n,e);R(F(T,e)),0===r.length&&v(!1),o(t,r)}),[t,n,T,o]),P=r.useState(!1),B=Object(O.a)(P,2),H=B[0],q=B[1];return r.createElement(Ln,{text:t,entities:n,entityTypes:a,onChangeEntity:D,onClickOutside:function(){return v(!1)},onClose:function(){return v(!1)},onRemoveEntity:M,hidePopover:c,showPopover:g,synonyms:d,onShow:f},r.createElement(W.a,{sx:s?{cursor:"default"}:{cursor:"text"}},H||n.length>0?r.createElement(Va.Editor,{editorState:T,onChange:function(e){var t=(new Date).getTime(),r=Ja(e),c=e.getCurrentContent(),i=Ja(T);if(s)return L(t)?(console.warn("Debouncing selection"),void R(U(e))):(R(U(e)),void u());if(r!==i&&""!==r){if(L(t))return console.warn("Debouncing selection"),void R(U(e));var l=e.getSelection(),d=e.getCurrentContent(),f=l.getAnchorKey(),p=d.getBlockForKey(f),m=d.getPlainText(),b=p.getText(),h=l.getStartOffset(),g=l.getEndOffset(),y=function(e,t){return e.some((function(e){return Ya(e,t)&&e.entity===t.entity}))?e:[].concat(Object(x.a)(e),[t])}(n,function(e,t,n,r){return{id:Wa()(),start:t,end:n,value:e.substring(t,n),entity:r}}(b,h,g,a[0]));o(m,y),v(!0)}else{var E=T.getCurrentContent(),j=c.getPlainText();if(j!==E.getPlainText()){var C=function(e){var t=e.getCurrentContent(),n=t.getPlainText();return I(t).getCharacterList().reduce((function(e,t,r,a){if(!t||!e||"undefined"===typeof r||!a)return e;var o=e.active,c=e.marks,i=t.getStyle(),s=i.filter((function(e){return!o.includes(e)})).toJS();return{active:[].concat(Object(x.a)(o.filter((function(e){return i.includes(e)}))),Object(x.a)(s)),marks:[].concat(Object(x.a)(c),Object(x.a)(s.map((function(e){var t=a.slice(r).takeUntil((function(t){return!t.getStyle().includes(e)})),o=e.split("/"),c=Object(O.a)(o,2),i=c[0],s=c[1];return{start:r,end:r+t.size,value:n.slice(r,r+t.size),entity:i,id:s}}))))}}),{active:[],marks:[]}).marks}(e);_.current=C,o(j,C)}}R(e)},ref:A,blockStyleFn:function(){return"defaultEditorStyles"}}):r.createElement("div",{className:"defaultEditorStyles",onMouseOver:function(){return q(!0)},style:{whiteSpace:"normal",overflowWrap:"break-word"}},t)),l&&r.createElement(h.q,{onClick:function(){return u()},variant:"primary"},s?"See more...":"See less..."))}function eo(e){var t=e.entityTypes,n=e.entities,a=e.onChange,o=e.onPopupShow,c=e.synonyms,i=e.text,s=r.useState(null),l=Object(O.a)(s,2),u=l[0],d=l[1],f=r.useMemo((function(){return i.length>160}),[i]),p=r.useMemo((function(){return function(e){var t=e;return e.length>160&&(t=e.slice(0,160)+"..."),t}(i)}),[i]);return r.useEffect((function(){null===u&&f&&d(!0)}),[u,f]),r.createElement(Pe.a,{disabled:!u,content:"Expand the collapsed text to annotate a word or phrase."},r.createElement($a,{entities:n,entityTypes:t,isCollapsed:!!u,isLongText:f,onChange:a,onExpandCollapse:function(){d(!u)},onPopupShow:o,synonyms:c,text:u?p:i}))}function to(e){var t=e.example,n=e.entityTypes,a=e.onChange,o=e.synonyms,c=r.useCallback((function(e,n){return a(Object(E.a)({},t,{text:e,entities:n}))}),[t,a]);return r.createElement(eo,{text:t.text,entities:t.entities,entityTypes:n,onChange:c,synonyms:o})}function no(e){var t=e.intents,n=e.onClose,a=e.onSaveExample,o=Object(s.c)(),c=r.useCallback((function(e){return o(be.b.request(e))}),[o]),i=Object(s.d)((function(e){return e.suggestions.draftSuggestionExists})),l=r.useState(""),u=Object(O.a)(l,2),d=u[0],f=u[1],p=r.useState(""),m=Object(O.a)(p,2),b=m[0],g=m[1];Object(q.j)((function(){c(d)}),100,[d]);var v=r.useCallback((function(){a({team:"default",project_id:"default",text:d,intent:b,entities:[]}),f(""),g("")}),[a,d,b]),y=r.useMemo((function(){return d.length>0&&b.length>0}),[d,b]);return r.createElement(j.Flex,{style:{width:"100%"},"data-qa":"training-data-new-row_div"},r.createElement(j.Box,{className:"ReactVirtualized__Table__rowColumn",flex:"3 1 300px"},r.createElement(h.l,{"data-qa":"training-data-new-row-sentence_input",fullWidth:!0,placeholder:"Add a new sentence...",value:d,onChangeValue:f,invalid:i,onReturn:i||!y?void 0:v,autoFocus:!0})),r.createElement(j.Box,{className:"ReactVirtualized__Table__rowColumn",flex:"2 1 100px",mx:"10px"},r.createElement(hn,{"data-qa":"training-data-new-row-intent_input",rankedIntents:[],intent:b,onChange:function(e){return g(e.name)},onReturn:function(){return!i&&y&&v()},intents:t,fullWidth:!0})),r.createElement(j.Box,{className:"ReactVirtualized__Table__rowColumn",width:150,flex:"1 1 150px"},r.createElement(j.Flex,{flexDirection:"row-reverse",mr:-1,style:{height:"100%"}},r.createElement(h.d,{"data-qa":"training-data-new-row-save_button",mx:1,variant:"primary",disabled:i||!y,onClick:v},"Save"),r.createElement(h.d,{mx:1,variant:"secondary",onClick:n,bg:"neutral_0"},"Cancel"))))}function ro(e){var t=e.entityTypes,n=e.examples,a=e.intents,o=e.onChange,c=e.onDelete,i=e.onLoadMoreRows,s=e.onSave,l=e.onSaveExample,u=e.onSearch,d=e.noRowsRenderer,f=e.searchQuery,p=e.totalExamples,m=e.synonyms,b=r.useRef(new _t.c({fixedWidth:!0,minHeight:64})),g=r.useRef(null),v=r.useCallback((function(e,t){return r.createElement(Zn.a,{p:4,name:"Intents",items:a,checkedItems:e.filter((function(e){return"intent"===e.keyword})).map((function(e){return e.value})),onChange:function(n){return t(e.filter((function(e){return"intent"!==e.keyword})).concat(n.map((function(e){return{keyword:"intent",value:e,negated:!1}}))))}})}),[a]),y=r.useCallback((function(e){return r.createElement(no,{intents:a,onSaveExample:l,onClose:e})}),[l,a]),x=r.useCallback((function(){return function(e){var n=e.rowIndex,a=e.rowData,c=e.dataKey,i=e.parent,s=a;return s?r.createElement(_t.b,{key:c,cache:b.current,parent:i,columnIndex:0,rowIndex:n},r.createElement(j.Box,{py:4},r.createElement(jr,null,r.createElement(to,{example:s,onChange:function(e){return o(e)},entityTypes:t,synonyms:m})))):null}}),[o,t,m]),O=r.useCallback((function(){return function(e){var t=e.rowData;return t?r.createElement(j.Flex,{width:"100%",alignItems:"flex-start",mt:"12px"},r.createElement(hn,{fullWidth:!0,autoFocus:!1,rankedIntents:[],intent:t.intent,onChange:function(e){return o(Object(E.a)({},t,{intent:e.name}))},intents:a,onReturn:function(){return s(t)},onEscape:function(){return c(t)}})):null}}),[a,s,c,o]),C=r.useCallback((function(e){var t=e.onResetCache;return function(e){var n=e.rowData;return n?r.createElement(j.Flex,{flexDirection:"row-reverse",mr:-1,mt:"12px"},r.createElement(pe.a,{resource:me.d.Examples,action:me.a.Delete,yes:r.createElement(Pe.a,{content:"Delete"},r.createElement(h.d,{mx:1,onClick:function(){c(n),t(!0)},variant:"icon"},r.createElement(h.j,{icon:"trash-alt"})))}),r.createElement(pe.a,{resource:me.d.Examples,action:me.a.Update,yes:r.createElement(j.Box,{style:{visibility:n.isDirty?"visible":"hidden"}},r.createElement(Pe.a,{content:"Save changes"},r.createElement(h.d,{mx:1,onClick:function(){return s(n)},variant:"icon"},r.createElement(h.j,{icon:"save"}))))})):null}}),[c,s]);return r.createElement(ja.a,{onSearch:u,searchQuery:f,resource:me.d.Examples,addRenderer:l&&y,clearCache:function(){b.current.clearAll(),g.current&&g.current.recomputeRowHeights(0)},data:n,forwardedRef:g,deferredMeasurementCache:b.current,rowHeight:b.current.rowHeight,total:p,filtersRenderer:v,onLoadMoreRows:i,noRowsRenderer:d,rowStyle:function(){return{alignItems:"flex-start"}},disableDimmable:!0,highlightAddRenderer:!0},(function(e){return[r.createElement(_t.d,{key:"sentence",cellDataGetter:function(){},width:300,flexGrow:3,dataKey:"text",label:"Sentence",cellRenderer:x()}),r.createElement(_t.d,{key:"intent",cellDataGetter:function(){},width:100,flexGrow:2,dataKey:"intent",label:"Intent",cellRenderer:O()}),r.createElement(_t.d,{key:"actions",cellDataGetter:function(){},width:150,flexGrow:1,dataKey:"actions",className:"ReactVirtualized__Table__rowColumnOnHover",cellRenderer:C(e)})]}))}function ao(e){var t=e.entityTypes,n=e.examples,a=e.intents,o=e.onChangeExample,c=e.onDeleteTrainingExample,i=e.onFetchExamples,s=e.onLoadMoreRows,u=e.onSaveExample,d=e.onUpdateExample,f=e.searchQuery,p=e.synonyms,m=Object(q.h)();r.useEffect((function(){m("view:suggestions:loaded")}),[m]);var b=Object(l.g)().push,g=r.useCallback((function(e){return i({search:e,offset:0,limit:20})}),[i]);return r.createElement(ro,{entityTypes:t,examples:n.reduce((function(e,t,n){return Object(E.a)({},e,{[n]:t})}),{}),intents:a,onChange:o,onDelete:c,onLoadMoreRows:s,onSave:d,onSaveExample:u,onSearch:g,searchQuery:f,totalExamples:n.length,synonyms:p,noRowsRenderer:function(){return r.createElement(Tr,{heading:f.length>=0?"There are no matches for this search":"You have no training data yet!",body:f.length>=0?"Try a different search query or add more data.":"You have no training data. Create new training data or annotate new data from the NLU Inbox.",image:vr.a,actions:r.createElement(h.d,{onClick:function(){return b("/nlu-inbox")},large:!0},"Search the NLU Inbox")})}})}var oo=n(47),co={onChangeExample:kt.b,onUpdateExample:kt.o.request,onDeleteTrainingExample:kt.d.request,onFetchExamples:kt.h.request,onFetchEntities:kt.f.request,onFetchSynonyms:oo.b.request,onSaveExample:kt.k.request};var io=Object(s.b)((function(e){return{synonyms:e.synonyms.synonyms,searchQuery:e.examples.searchQuery,examples:e.examples.examples,intents:e.examples.intents,entityTypes:e.examples.entityTypes,role:e.auth.role}}),co)((function(e){var t=e.onFetchEntities,n=e.onFetchExamples,a=e.onFetchSynonyms,o=e.searchQuery;return r.useEffect((function(){t(),a({search:""}),n({search:o,offset:0,limit:20})}),[t,n,a,o]),r.createElement(ga.a,{listener:v.b,start:Object(ha.getType)(kt.h.request),resolve:Object(ha.getType)(kt.h.success),reject:Object(ha.getType)(kt.h.failure)},(function(t){return r.createElement(ao,Object.assign({onLoadMoreRows:t},e))}))}));function so(){var e=Object(A.a)(["\n            transform: scaleY(0);\n            opacity: 0;\n          "]);return so=function(){return e},e}function lo(){var e=Object(A.a)(["\n            transform: scaleY(1);\n            opacity: 1;\n          "]);return lo=function(){return e},e}function uo(){var e=Object(A.a)(["\n  "," ","\n  height: 64px;\n  border-bottom: 1px solid #f2f4fa;\n  cursor: pointer;\n  position: relative;\n  transition: all ease 0.2s;\n  ","\n  &:after {\n    content: '';\n    border-radius: 2px;\n    width: 4px;\n    height: 100%;\n    position: absolute;\n    right: 0;\n    bottom: 0;\n    ","\n    transition: transform cubic-bezier(0.51, 0.92, 0.24, 1.15) 0.2s;\n  }\n"]);return uo=function(){return e},e}function fo(){var e=Object(A.a)(["\n  ","\n  list-style: none;\n  margin: 0;\n  height: 100%;\n  overflow: auto;\n"]);return fo=function(){return e},e}var po=Object(i.default)(j.Box)(fo(),k.width),mo="calc(100% + ".concat("419px",")"),bo="-".concat("419px"),ho=Object(i.default)((function(e){return r.createElement(zt.a,Object.assign({as:"li"},e))}))(uo(),ge.a,ge.d,(function(e){return e.active&&ge.b}),(function(e){return e.active?Object(i.css)(lo()):Object(i.css)(so())}));function go(e){var t=e.data,n=e.list,a=e.dataProp,o=e.listElementRenderer,c=e.onEditListElement,i=e.onTabSelected,s=void 0===i?function(){}:i,l=e.onClick,u=void 0===l?function(){}:l,d=Object(y.a)(e,["data","list","dataProp","listElementRenderer","onEditListElement","onTabSelected","onClick"]),f=r.useState(0),p=Object(O.a)(f,2),m=p[0],b=p[1],g=r.useState(null),v=Object(O.a)(g,2),x=v[0],C=v[1],S=r.useState(null),w=Object(O.a)(S,2),k=w[0],T=w[1],R=r.useState(""),A=Object(O.a)(R,2),_=A[0],I=A[1],F=r.useState(0),U=Object(O.a)(F,2),N=U[0],L=U[1];r.useEffect((function(){x&&n.includes(x)||C(n[0])}),[x,n]);var D=r.useMemo((function(){return n.map((function(e,t){var n=function(){c&&e!==_&&c({name:e,newName:_}),T(null)};return r.createElement(ho,{pl:5,pr:1,alignItems:"center",key:t,afterBg:"primary_2",bgHover:"neutral_1",bgActive:"neutral_1",active:x===e,onClick:function(){C(e),L(t),s(t),b((function(e){return e+1}))}},k===t?r.createElement(Ma,{width:1,onClickOutside:n},r.createElement(h.l,{autoFocus:!0,fullWidth:!0,placeholder:"Regex name",value:_,onChangeValue:I,onReturn:n,ml:-3})):r.createElement(r.Fragment,null,r.createElement(It.a,{width:.8},r.createElement(h.y,{variant:"bodySecondary",as:"div",fontWeight:"bold"},o(e))),c&&r.createElement(Vt.b,{ml:"auto"},r.createElement(h.d,{variant:"plainIcon",fontSize:3,mr:2,onClick:function(){I(e),T(t)}},r.createElement(h.j,{icon:"pen"})))))}))}),[x,o,_,k,n,c,s]),M=t[N]?t[N][a]:{};return r.createElement(j.Card,{bg:"neutral_0",p:0,sx:{height:"100%",overflow:"hidden",borderRadius:"large"}},r.createElement(j.Flex,{flexDirection:"row",pt:56,sx:{height:"100%"}},!!t.length&&r.createElement(j.Flex,{sx:{width:"419px",borderRight:"1px solid #f2f4fa"}},r.createElement(po,{as:"ul",width:1,p:0},D)),r.createElement(j.Flex,{flex:1,onClick:u},r.createElement(ja.a,Object.assign({headerStyle:Object(E.a)({position:"absolute",zIndex:1,top:"-56px"},!!t.length&&{width:mo,left:bo}),gridStyle:{backgroundColor:"#fff"},key:m,total:M?Object.keys(M).length:0,data:M,headerHeight:0,disableLabels:!0,disableDimmable:!0},d)))))}go.defaultProps={listElementRenderer:function(e){return e}};var vo=n(276);function yo(){var e=Object(A.a)(["\n  box-shadow: 0 4px 4px 0 rgba(0, 0, 0, 0);\n  ","\n"]);return yo=function(){return e},e}var Eo=Object(i.default)(j.Flex)(yo(),vo.b);function xo(e){var t=e.onClose,n=e.tableDimensions,a=e.onSaveSynonym,o=e.references,c=e.onSaveSynonymValues,i=r.useState(!1),s=Object(O.a)(i,2),l=s[0],u=s[1],d=r.useState(""),f=Object(O.a)(d,2),p=f[0],m=f[1],b=r.useState(),g=Object(O.a)(b,2),v=g[0],y=g[1],E=r.useState(""),C=Object(O.a)(E,2),S=C[0],w=C[1],k=r.useState([]),T=Object(O.a)(k,2),R=T[0],A=T[1],_=r.useCallback((function(){""!==S&&(A([S].concat(Object(x.a)(R))),w(""))}),[R,S]),I=r.useMemo((function(){return[].concat(Object(x.a)(""!==S?[S]:[]),Object(x.a)(R)).map((function(e){return{value:e}}))}),[R,S]),F=r.useCallback((function(){v&&o.map((function(e){return e.id})).includes(v.value)?c({id:v.value,mapped_values:I}):a({synonym_reference:p,mapped_values:I}),t()}),[o,v,a,c,t,I,p]),U=r.useMemo((function(){return o&&o.map((function(e){return{label:e.synonym_reference,value:e.id}}))}),[o]),N=r.useMemo((function(){return R.map((function(e,t){return r.createElement(j.Flex,{key:t,py:"12px",style:{borderBottom:"1px dashed #f2f4fa"},alignItems:"center"},r.createElement(h.l,{value:e,onChangeValue:function(e){return A((function(n){return n.map((function(r){return n.indexOf(r)===t?e:r}))}))},placeholder:"Add synonym",fullWidth:!0}),r.createElement(Pe.a,{content:"Remove this synonym",hideOnClick:!0,delay:200},r.createElement(h.d,{variant:"plainIcon",fontSize:4,onClick:function(){return A(R.filter((function(t){return t!==e})))}},r.createElement(h.j,{icon:"times"}))))}))}),[R]);return r.createElement(Eo,{style:{width:"100%"}},r.createElement(j.Box,{py:"12px",mr:3,width:280,className:"ReactVirtualized__Table__rowColumn"},l?r.createElement(h.l,{autoFocus:!0,fullWidth:!0,value:p,onChangeValue:m}):r.createElement(h.u,{autoFocus:!0,onCreate:function(){return u(!0)},placeholder:"Create or select a reference value",value:v,items:U,onChange:function(e){return e&&y(e)},fullWidth:!0})),r.createElement(j.Box,{className:"ReactVirtualized__Table__rowColumn",flex:"3 1 300px",sx:{overflow:"auto",maxHeight:n.height}},r.createElement(j.Flex,{py:"12px",alignItems:"center"},r.createElement(h.l,{value:S,onChangeValue:function(e){return w(e)},placeholder:"Map a new synonym to this reference value",fullWidth:!0,onReturn:_}),r.createElement(Pe.a,{content:"Map a new synonym to this reference value",hideOnClick:!0},r.createElement(h.d,{variant:"plainIcon",fontSize:4,onClick:_},r.createElement(h.j,{icon:"plus"})))),N),r.createElement(j.Box,{className:"ReactVirtualized__Table__rowColumn",flex:"1 1 150px"},r.createElement(j.Flex,{flexDirection:"row-reverse",mr:-1,mt:3,justifyContent:"end"},r.createElement(h.d,{disabled:!v&&""===p,mx:1,variant:"primary",onClick:F},"Save"),r.createElement(h.d,{mx:1,variant:"secondary",onClick:t},"Cancel"))))}function Oo(e){var t=e.onDelete,n=e.onLoadMoreRows,a=e.onSaveSynonym,o=e.onSearch,c=e.onUpdate,i=e.searchQuery,s=e.onUpdateSynonymReference,l=e.references,u=e.total,d=e.synonyms,f=e.onSaveSynonymValues,p=e.onNavigate,m=r.useState(null),b=Object(O.a)(m,2),g=b[0],v=b[1],y=r.useState(""),E=Object(O.a)(y,2),x=E[0],j=E[1],C=r.useCallback((function(e){var t=e.name,n=e.newName;s({synonymId:d.find((function(e){return e.synonym_reference===t})).id,value:n})}),[s,d]),S=r.useCallback((function(e,t){return r.createElement(xo,{onClose:e,tableDimensions:t,onSaveSynonym:a,onSaveSynonymValues:f,references:l})}),[a,l,f]),w=r.useCallback((function(e){var t=e.selected,n=e.onChangeSelected,a=e.onResetCache;return function(e){var o=e.rowIndex,i=e.rowData;if(!i)return null;var s=t.includes(o),l=function(){x!==i.value&&(c({synonymId:d.find((function(e){return e.mapped_values.includes(i)})).id,valueId:i.id,newValue:x}),a(!0)),v(null)};return r.createElement(W.d,{alignItems:"center"},r.createElement(W.a,{flex:"0 1 auto",mr:2},r.createElement("label",null,r.createElement(h.f,{checked:s,onChange:function(){return n(o,!s)}}))),r.createElement(W.a,{flex:"1",style:{overflow:"hidden",textOverflow:"ellipsis"}},r.createElement(W.d,{flexDirection:"row",alignItems:"center"},o===g?r.createElement(W.a,{width:320},r.createElement(Ma,{onClickOutside:l},r.createElement(h.l,{autoFocus:!0,fullWidth:!0,value:x,onChangeValue:j,px:2,onReturn:l}))):r.createElement(h.y,{as:"div",variant:"bodySecondary",ml:2,onClick:function(){v(o),j(i.value)}},r.createElement(Pe.a,{content:i.value},i.value)))))}}),[g,x,c,d]),k=r.useCallback((function(e){e.onResetCache;return function(e){var t=e.rowData;return t?r.createElement(W.a,{flex:"1",style:{overflow:"hidden",textOverflow:"ellipsis"}},r.createElement(W.d,{flexDirection:"row",alignItems:"center"},r.createElement(h.y,{as:"div",variant:"bodySecondary",color:"neutral_6"},0!==t.nlu_examples_count?r.createElement(r.Fragment,null,t.nlu_examples_count," NLU examples"):r.createElement(Pe.a,{appendTo:document.body,content:"For this synonym to work, please add NLU examples that include it"},r.createElement(It.a,{sx:{display:"inline-block"}},r.createElement(h.j,{color:"neutral_6",icon:"info-circle",mr:1}),r.createElement(h.y,{as:"div",color:"primary_1",sx:{cursor:"pointer",display:"inline"},onClick:function(){return p("/data/training-data")}},"Add NLU examples")," ","with this synonym in order for it to work"))))):null}}),[p]),T=function(e){var n=e.onResetCache;return function(e){var a=e.rowData;return a?r.createElement(W.d,{flexDirection:"row-reverse",mr:-1},r.createElement(pe.a,{resource:me.d.EntitySynonyms,action:me.a.Delete,yes:r.createElement(Pe.a,{content:"Delete"},r.createElement(h.d,{mx:1,onClick:function(){t([{synonymId:d.find((function(e){return e.mapped_values.includes(a)})).id,valueId:a.id}]),n(!0)},variant:"icon"},r.createElement(h.j,{icon:"trash-alt"})))})):null}};return r.createElement(go,{addRenderer:S,bulkActionsRenderer:function(e){var n=e.dataSelected,a=e.setSelected;return r.createElement(pe.a,{resource:me.d.Models,action:me.a.Delete,yes:r.createElement(h.d,{onClick:function(){t(n.map((function(e){return{valueId:e.id,synonymId:d.find((function(t){return t.mapped_values.includes(e)})).id}}))),a([])},variant:"inverse"},"Delete")})},data:d,dataProp:"mapped_values",groupedTotal:u,list:l.map((function(e){return e.synonym_reference})),onEditListElement:C,noRowsRenderer:function(e,t){return r.createElement(Tr,{heading:i&&i.length>=0?"There are no matches for this search":"You have no synonyms",imageWidth:125,pb:5,image:La.a,body:i&&i.length>=0?"Try a different search query or add more data.":r.createElement(W.a,{width:142},"To learn more about entity synonyms, see the"," ",r.createElement(W.a,{as:"a",color:"primary_1",style:{textDecoration:"none"},href:"//rasa.com/docs/rasa/nlu/training-data-format/#entity-synonyms",target:"_blank"},"Rasa docs"),"."," "),actions:r.createElement(h.d,{large:!0,disabled:e,onClick:function(){return t&&t(!0)}},"Create new synonym")})},onLoadMoreRows:n,onSearch:o,resource:me.d.EntitySynonyms,searchQuery:i},(function(e){return[r.createElement(_t.d,{key:"synonym",cellDataGetter:function(){},width:150,flexGrow:3,dataKey:"synonym",label:"Text",cellRenderer:w(e)}),r.createElement(_t.d,{key:"nluExamplesCount",cellDataGetter:function(){},width:400,flexGrow:3,dataKey:"synonym",label:"Text",cellRenderer:k(e)}),r.createElement(_t.d,{key:"actions",cellDataGetter:function(){},width:100,flexGrow:1,className:"ReactVirtualized__Table__rowColumnOnHover",dataKey:"actions",cellRenderer:T(e)})]}))}function jo(e){var t=e.onFetchSynonyms,n=e.onLoadMoreRows,a=e.onSaveSynonym,o=e.onSaveSynonymValues,c=e.onUpdateSynonymValue,i=e.onDeleteSynonymValues,s=e.onUpdateSynonymReference,u=e.references,d=e.searchQuery,f=e.synonyms,p=e.total,m=Object(q.h)();r.useEffect((function(){m("view:synonyms:loaded")}),[m]);var b=Object(l.g)().push,h=r.useCallback((function(e){return t({search:e})}),[t]);return r.createElement(Oo,{onDelete:i,onLoadMoreRows:n,onSaveSynonym:a,onSaveSynonymValues:o,onSearch:h,onUpdate:c,references:u,searchQuery:d,onUpdateSynonymReference:s,synonyms:f,total:p,onNavigate:b})}var Co={onFetchSynonyms:oo.b.request,onSaveSynonym:oo.c.request,onSaveSynonymValues:oo.d.request,onUpdateSynonymValue:oo.f.request,onUpdateSynonymReference:oo.e.request,onDeleteSynonymValues:oo.a.request};var So=Object(s.b)((function(e){return{synonyms:e.synonyms.synonyms,role:e.auth.role,searchQuery:e.synonyms.searchQuery,references:e.synonyms.references,total:e.synonyms.total}}),Co)((function(e){e.history;var t=Object(y.a)(e,["history"]),n=t.searchQuery,a=t.onFetchSynonyms;r.useEffect((function(){a({search:n})}),[a,n]);var o=Object(q.f)(oo.b);return r.createElement(jo,Object.assign({},t,{onLoadMoreRows:o}))}));function wo(e){var t=e.loading,n=e.error,a=e.onUploadExamples,o=Object(y.a)(e,["loading","error","onUploadExamples"]),c=o.onClose,i=H().addToast,s=r.useState(null),l=Object(O.a)(s,2),u=l[0],d=l[1],f=r.useCallback((function(e){var t=e.target.files[0];if(t){var n=new FileReader;n.onload=function(){"string"===typeof n.result&&(d(n.result),a(n.result)),c()},n.readAsText(t)}}),[c,a]);return r.useEffect((function(){!t&&!n&&u&&u.match(/## lookup:/m)&&i({head:"Lookup Tables in nlu.md will be ignored",content:"To include lookup tables, please upload lookup table files separately. Lookup tables within nlu.md will no longer be recognized.",variant:"error",key:"LookupTablesIgnored"})}),[t,n,i,u]),r.createElement(qt,Object.assign({content:r.createElement(j.Flex,{p:5,flexDirection:"column",alignItems:"start",width:400,style:{textAlign:"left"}},r.createElement(h.i,{variant:"h2",mb:3},"Replace existing NLU file?"),r.createElement(h.y,{variant:"bodySecondary",mb:5},"Uploading a new NLU file will replace the existing one. All parts of the NLU file including training data, synonyms, regexes and references to lookup tables will also be replaced. To include lookup tables, please upload lookup table files separately."),r.createElement(j.Flex,{flexDirection:"row-reverse",alignSelf:"end",width:1},r.createElement(h.A,{accept:".json, .md",onUpload:f,large:!0,ml:2},"Upload and replace"),r.createElement(h.d,{large:!0,variant:"secondary",onClick:c},"Cancel"))),offset:[0,8],appendTo:"parent"},o))}function ko(e){var t=e.onClick;return r.createElement(Pe.a,{hideOnClick:!0,textAlign:"left",content:"Download the file nlu.md. This file will contain all your training data, synonyms, regexes, and references to lookup tables."},r.createElement(h.d,{variant:"headerIcon",onClick:t},r.createElement(h.j,{icon:"arrow-to-bottom"})))}var To=n(419),Ro=n(654);function Ao(e){var t=e.loading,n=e.error,a=e.location,o=e.match,c=e.onDownloadExamples,i=e.onNavigate,s=e.onUploadExamples,u=H().addToast,d=r.useRef(!0);r.useEffect((function(){d.current?d.current=!1:!1===t.uploadExamples&&(n.uploadExamples?u({head:"Upload failed",content:"Training data upload failed",variant:"error"}):u({head:"Upload succeeded",content:"Training data upload has succeeded"}))}),[u,t.uploadExamples,n.uploadExamples]);var f=o.url,p=a&&a.pathname,m=r.useState(!1),b=Object(O.a)(m,2),g=b[0],v=b[1],y={lookup:Fa()(f,"lookup"),trainingData:Fa()(f,"training-data"),synonyms:Fa()(f,"synonyms")},E={lookup:!!Object(l.f)(p,{path:y.lookup}),trainingData:!!Object(l.f)(p,{path:y.trainingData}),synonyms:!!Object(l.f)(p,{path:y.synonyms})},x=r.createElement(Ro.a,null,r.createElement(pe.a,{resource:me.d.Examples,action:me.a.Read,yes:r.createElement(To.a,{onClick:function(){return i(y.trainingData)},active:E.trainingData,"data-e2e":"Nlu__MenuItem__TrainingData"},"Training data")}),r.createElement(pe.a,{resource:me.d.Regexes,action:me.a.Read,yes:r.createElement(To.a,{onClick:function(){return i(y.lookup)},active:E.lookup},"Regex & Lookup")}),r.createElement(To.a,{onClick:function(){return i(y.synonyms)},active:E.synonyms},"Synonyms"));return r.createElement(kr.a,{title:"NLU Training Data",centreContent:x,rightContent:r.createElement(r.Fragment,null,r.createElement(en.a,{left:!0},r.createElement(wo,{visible:g,onClose:function(){return v(!1)},onUploadExamples:s,loading:t.uploadExamples,error:n.uploadExamples},r.createElement(Pe.a,{hideOnClick:!0,textAlign:"left",content:"Upload a new NLU file. This will replace all parts of the NLU file including training data, synonyms, regexes and references to lookup tables. To include lookup tables, please upload lookup table files separately."},r.createElement(h.d,{variant:"headerIcon",active:g,onClick:function(){return v(!g)}},r.createElement(h.j,{icon:"arrow-to-top"}))))),r.createElement(en.a,{left:!0},r.createElement(ko,{onClick:c})))},r.createElement(l.c,{exact:!0,path:f,component:io}),r.createElement(l.c,{exact:!0,path:y.lookup,component:Ga}),r.createElement(l.c,{exact:!0,path:y.trainingData,component:io}),r.createElement(l.c,{exact:!0,path:y.synonyms,component:So}))}var _o={onFetchWarnings:kt.j.request,onFetchIntents:kt.i.request,onTrainModel:le.k.request,onUploadExamples:kt.p.request,onDownloadExamples:kt.e};var Io=Object(s.b)((function(e){return{dataWarnings:e.examples.warnings,modelIsTraining:e.models.modelIsTraining,role:e.auth.role,apiToken:e.auth.apiToken,loading:e.examples.loading,error:e.examples.error,apiUrl:new URL(va.c,window.location.href).href}}),_o)((function(e){var t=e.onFetchWarnings,n=e.onFetchIntents,a=Object(y.a)(e,["onFetchWarnings","onFetchIntents"]);r.useEffect((function(){t(),n()}),[t,n]);var o=Object(l.g)().push,c=Object(l.h)(),i=Object(l.i)();return r.createElement(Ao,Object.assign({onNavigate:o,location:c,match:i},a))})),Fo=n(51);function Uo(e){var t=e.onConfirm,n=e.onCancel,a=e.confirmLabel,o=e.cancelLabel;return r.createElement(h.w,{spacing:8},r.createElement(h.d,{onClick:n,variant:"secondary"},o),r.createElement(h.d,{onClick:t},a))}function No(){var e=Object(A.a)(["\n  box-shadow: 0 4px 4px 0 rgba(0, 0, 0, 0);\n  ","\n"]);return No=function(){return e},e}var Lo=Object(i.default)(j.Flex)(No(),vo.b);function Do(e){var t=e.onClose,n=e.tableDimensions,a=e.onSaveResponse,o=e.responseNames,c=r.useState(!1),i=Object(O.a)(c,2),s=i[0],l=i[1],u=r.useState(""),d=Object(O.a)(u,2),f=d[0],p=d[1],m=r.useState(),b=Object(O.a)(m,2),g=b[0],v=b[1],y=r.useState(""),E=Object(O.a)(y,2),C=E[0],S=E[1],w=r.useState([]),k=Object(O.a)(w,2),T=k[0],R=k[1],A=r.useCallback((function(){""!==C&&(R([C].concat(Object(x.a)(T))),S(""))}),[T,C]),_=r.useCallback((function(){var e=g?g.value:f;[].concat(Object(x.a)(""!==C?[C]:[]),Object(x.a)(T)).map((function(t){return a({text:t,response_name:e})})),t()}),[f,g,a,T,t,C]),I=r.useMemo((function(){return o&&o.map((function(e){return{label:e,value:e}}))}),[o]),F=r.useMemo((function(){return T.map((function(e,t){return r.createElement(j.Flex,{key:t,py:"12px",style:{borderBottom:"1px dashed #f2f4fa"},alignItems:"center"},r.createElement(h.l,{value:e,onChangeValue:function(e){return R((function(n){return n.map((function(r){return n.indexOf(r)===t?e:r}))}))},placeholder:"Add text for this response",fullWidth:!0}),r.createElement(Pe.a,{content:"Remove this response text",delay:200},r.createElement(h.d,{variant:"plainIcon",fontSize:4,onClick:function(){return R(T.filter((function(t){return t!==e})))}},r.createElement(h.j,{icon:"times"}))))}))}),[T]);return r.createElement(Lo,{style:{width:"100%"}},r.createElement(j.Box,{py:"12px",mr:3,width:280,className:"ReactVirtualized__Table__rowColumn"},s?r.createElement(h.l,{fullWidth:!0,autoFocus:!0,value:f,onChangeValue:p}):r.createElement(h.u,{onCreate:function(){return l(!0)},placeholder:"Create or select a response",value:g,items:I,onChange:function(e){return e&&v(e)}})),r.createElement(j.Box,{className:"ReactVirtualized__Table__rowColumn",flex:"3 1 300px",sx:{overflow:"auto",maxHeight:n.height}},r.createElement(j.Flex,{py:"12px",alignItems:"center"},r.createElement(h.l,{autoFocus:!0,value:C,onChangeValue:function(e){return S(e)},placeholder:"Add text for this response",fullWidth:!0,onReturn:A}),r.createElement(Pe.a,{content:"Add another response text"},r.createElement(h.d,{variant:"plainIcon",fontSize:4,onClick:A},r.createElement(h.j,{icon:"plus"})))),F),r.createElement(j.Box,{className:"ReactVirtualized__Table__rowColumn",flex:"1 1 150px"},r.createElement(j.Flex,{flexDirection:"row-reverse",mr:-1,mt:3,justifyContent:"end"},r.createElement(h.d,{disabled:!g&&""===f,mx:1,variant:"primary",onClick:_},"Save"),r.createElement(h.d,{mx:1,variant:"secondary",onClick:t},"Cancel"))))}var Mo=n(279);function Po(e){var t=e.open,n=e.onClose,a=e.response,o=e.onUpdate,c=r.useState([]),i=Object(O.a)(c,2)[1],s=r.useState(Object(Ot.omit)(a,["id","response_name"])),l=Object(O.a)(s,2),u=l[0],d=l[1],f=r.useState(Pr.a.dump(u)),p=Object(O.a)(f,2),m=p[0],b=p[1];r.useEffect((function(){try{d(Pr.a.load(m)),i([])}catch(e){i((function(t){return t.filter((function(t){return t!==e.mark.line})).concat([e.mark.line])}))}}),[m,a]);var g=r.useCallback((function(){n(),b(Pr.a.dump(u))}),[n,u]),v=r.useCallback((function(){o(Object(E.a)({},u,{id:a.id,response_name:a.response_name})),n()}),[o,n,a,u]);return r.createElement(Qe,{open:t,onClose:g,style:{width:"864px",height:"600px",maxWidth:"fit-content"},title:r.createElement(j.Flex,{alignItems:"center"},"Edit Response Text"," ",r.createElement(ze,{content:r.createElement(j.Box,{style:{cursor:"default",maxWidth:"240px",textAlign:"left"}},"Edit response text and add buttons, images and more."," ",r.createElement(j.Box,{as:"a",color:"neutral_0",target:"_blank",href:"https://rasa.com/docs/rasa/core/domains/#images-and-buttons"},"Learn more"))})),px:0,py:0,onBackgroundClick:function(){},footer:r.createElement(r.Fragment,null,r.createElement(h.d,{large:!0,ml:2,onClick:v},"Save"),r.createElement(h.d,{large:!0,variant:"secondary",onClick:g},"Cancel"))},r.createElement(j.Flex,{flex:"1 1 auto"},r.createElement(j.Box,{pt:2,width:522,style:{borderRight:"solid 1px #f2f4fa",maxHeight:"454px",overflowX:"auto"}},r.createElement(Xr,{language:"yaml",value:m,onChange:b})),r.createElement(j.Flex,{flexDirection:"column"},r.createElement(h.i,{pt:3,pl:3,variant:"h5",color:"neutral_6"},"Preview"),r.createElement(j.Flex,{alignItems:"center",flex:1,style:{width:"264px"},mr:7,ml:6},r.createElement(Mo.a,{data:u&&{attachment:"",buttons:u.buttons||[],image:u.image},last:!0,onMessageButtonClick:function(){},text:u&&u.text})))))}function Bo(){var e=Object(A.a)(["\n  display: inline-flex;\n  height: 32px;\n  border-radius: 4px;\n  box-shadow: 0 6px 21px 0 rgba(152, 152, 152, 0.06);\n  overflow: hidden;\n"]);return Bo=function(){return e},e}var Ho=Object(i.default)(j.Flex)(Bo());function qo(e){var t=e.onDelete,n=e.onLoadMoreRows,a=e.onSaveResponse,o=e.onSearch,c=e.onUpdate,i=e.onUpdateResponseName,s=e.searchQuery,l=e.responseNames,u=e.total,d=e.groupedResponses,f=r.useState(null),p=Object(O.a)(f,2),m=p[0],b=p[1],g=r.useState(null),v=Object(O.a)(g,2),y=v[0],x=v[1],C=r.useState(""),S=Object(O.a)(C,2),w=S[0],k=S[1],T=r.useState(0),R=Object(O.a)(T,2),A=R[0],_=R[1],I=function(){return _((function(e){return e+1}))},F=r.useCallback((function(e){return d.find((function(t){return t.response_name===e})).responses.some((function(e){return e.edited_since_last_training}))?r.createElement(j.Flex,null,e," (",d.find((function(t){return t.response_name===e})).responses.length,")",r.createElement(j.Flex,{ml:1},r.createElement(h.y,{variant:"bodySecondary",sx:{display:"inline-block",color:"neutral_6"},as:"span"},r.createElement(Pe.a,{content:"This group includes recently edited responses. Train model to finalise this edit.",placement:"right"},"(Edited)")))):r.createElement(r.Fragment,null,e," (",d.find((function(t){return t.response_name===e})).responses.length,")")}),[d]),U=r.useCallback((function(e,t){return r.createElement(Do,{onClose:e,tableDimensions:t,onSaveResponse:a,responseNames:l})}),[a,l]),N=r.useCallback((function(e,t){var n=function(e){return Object(Ot.omit)(e,["annotator_id","annotated_at","project_id","edited_since_last_training"])}(t);w!==n.text&&(c(Object(E.a)({},n,{text:w})),e(!0)),x(null)}),[w,c,x]),L=r.useCallback((function(e){var t=e.selected,n=e.onChangeSelected,a=e.onResetCache;return function(e){var o=e.rowIndex,c=e.rowData;if(!c)return null;var i=t.includes(o);return r.createElement(j.Flex,{alignItems:"center"},r.createElement(j.Box,{flex:"0 1 auto",mr:2},r.createElement("label",null,r.createElement(h.f,{checked:i,onChange:function(){return n(o,!i)}}))),r.createElement(j.Box,{flex:"1",style:{overflow:"hidden",textOverflow:"ellipsis"}},r.createElement(j.Flex,{flexDirection:"row",alignItems:"center",onClick:function(e){return e.stopPropagation()}},c.image&&r.createElement(Ho,{width:40,alignItems:"center",mr:2},r.createElement(j.Image,{as:"img",src:c.image,sx:{borderRadius:"small"}})),o===y?r.createElement(h.l,{autoFocus:!0,fullWidth:!0,value:w,onReturn:function(){return N(a,c)},onChangeValue:k,px:2}):r.createElement(h.y,{as:"div",variant:"bodySecondary",sx:{display:"inline-flex"},ml:2,onClick:function(){x(o),k(c.text)}},c.text,c.edited_since_last_training&&r.createElement(j.Flex,{ml:2},r.createElement(h.y,{variant:"bodySecondary",sx:{display:"inline-block"},as:"span",color:"neutral_6"},r.createElement(Pe.a,{content:"This response was recently edited. Train model to finalise this edit."},"(Edited)")))),c.buttons&&r.createElement(h.y,{as:"div",variant:"bodySecondary",ml:2,sx:{display:"inline-flex"}},r.createElement(j.Box,{as:"strong"},"Buttons:"),c.buttons.map((function(e,t){var n=e.title;return r.createElement(j.Box,{key:t,ml:1},n,c.buttons&&c.buttons.length!==t+1&&",")}))))))}}),[y,w,N]),D=function(e){var n=e.onResetCache;return function(e){var a=e.rowData,o=e.rowIndex,i=a,s=Object(Ot.omit)(i,["annotator_id","annotated_at","project_id","edited_since_last_training"]);return i?r.createElement(r.Fragment,null,r.createElement(Po,{key:A,open:o===m,onClose:function(){return b(null)},response:s,onUpdate:c}),o===y?r.createElement(j.Flex,{flexDirection:"row-reverse",onClick:function(e){return e.stopPropagation()}},r.createElement(Uo,{onConfirm:function(){return N(n,s)},onCancel:function(){return x(null)},confirmLabel:"Save",cancelLabel:"Cancel"})):r.createElement(j.Flex,{flexDirection:"row-reverse",mr:-1},r.createElement(pe.a,{resource:me.d.Responses,action:me.a.Delete,yes:r.createElement(Pe.a,{content:"Delete"},r.createElement(h.d,{mx:1,onClick:function(){t([i]),n(!0)},variant:"icon"},r.createElement(h.j,{icon:"trash-alt"})))}),r.createElement(pe.a,{resource:me.d.Responses,action:me.a.Update,yes:r.createElement(h.d,{mx:1,variant:"icon",onClick:function(){I(),b(o)}},r.createElement(h.j,{icon:"image"}))}),r.createElement(pe.a,{resource:me.d.Responses,action:me.a.Update,yes:r.createElement(h.d,{mx:1,variant:"icon",onClick:function(e){e.stopPropagation(),I(),x(o),k(i.text)}},r.createElement(h.j,{icon:"pen"}))}),r.createElement(pe.a,{resource:me.d.Responses,action:me.a.Update,yes:r.createElement(j.Box,{style:{visibility:i.isDirty?"visible":"hidden"}},r.createElement(Pe.a,{content:"Save changes"},r.createElement(h.d,{mx:1,onClick:function(){c(i)},variant:"icon"},r.createElement(h.j,{icon:"save"}))))}))):null}},M=r.useCallback((function(){return x(null)}),[x]);return r.createElement(go,{data:d,list:l,listElementRenderer:F,groupedTotal:u,onSearch:o,dataProp:"responses",bulkActionsRenderer:function(e){var n=e.dataSelected,a=e.setSelected;return r.createElement(pe.a,{resource:me.d.Models,action:me.a.Delete,yes:r.createElement(h.d,{onClick:function(){t(n),a([])},variant:"inverse"},"Delete")})},searchQuery:s,addRenderer:U,onLoadMoreRows:n,noRowsRenderer:function(e,t){return r.createElement(Tr,{heading:s&&s.length>=0?"There are no matches for this search":"You have no responses",imageWidth:125,pb:5,image:La.a,body:s&&s.length>=0?"Try a different search query or add more data.":r.createElement(j.Box,{width:128},"To learn more about responses, go"," ",r.createElement(j.Box,{as:"a",color:"primary_1",style:{textDecoration:"none"},href:"//rasa.com/docs/rasa/core/responses/",target:"_blank"},"here"),"."," "),actions:r.createElement(h.d,{large:!0,disabled:e,onClick:function(){return t&&t(!0)}},"Create new response")})},onEditListElement:i,onTabSelected:function(e){return x(null)},onClick:M,resource:me.d.Responses},(function(e){return[r.createElement(_t.d,{key:"response",cellDataGetter:function(){},width:300,flexGrow:3,dataKey:"response",label:"Text",cellRenderer:L(e)}),r.createElement(_t.d,{key:"actions",cellDataGetter:function(){},width:150,flexGrow:1,className:"ReactVirtualized__Table__rowColumnOnHover",dataKey:"actions",cellRenderer:D(e)})]}))}function Go(e){var t=e.total,n=e.responseNames,a=e.searchQuery,o=e.onSaveResponse,c=e.onFetchGroupedResponses,i=e.onUpdateResponse,s=e.onUpdateResponseName,l=e.onDeleteResponses,u=e.onLoadMoreRows,d=e.groupedResponses,f=Object(q.h)();r.useEffect((function(){f("view:responses:loaded")}),[f]);var p=r.useCallback((function(e){return c({search:e,offset:0,limit:20})}),[c]);return r.createElement(kr.a,{title:"Responses"},r.createElement(qo,{responseNames:n,total:t,groupedResponses:d,onUpdate:i,onDelete:l,onLoadMoreRows:u,onUpdateResponseName:s,searchQuery:a,onSearch:p,onSaveResponse:o}))}var Vo={onDeleteResponses:Fo.a.request,onFetchGroupedResponses:Fo.b.request,onSaveResponse:Fo.c.request,onUpdateResponse:Fo.e.request,onUpdateResponseName:Fo.f.request};var zo=Object(s.b)((function(e){return{groupedResponses:e.responses.groupedResponses,role:e.auth.role,searchQuery:e.responses.searchQuery,responseNames:e.responses.responseNames,total:e.responses.total}}),Vo)((function(e){var t=e.searchQuery,n=e.onFetchGroupedResponses;r.useEffect((function(){n({search:t,offset:0,limit:20})}),[n,t]);var a=Object(q.f)(Fo.b);return r.createElement(Go,Object.assign({},e,{onLoadMoreRows:a}))})),Wo=n(48),Yo=n(762),Ko=n.n(Yo);function Qo(){var e=Object(A.a)(["\n  "," "," ","\n  cursor: pointer;\n  transition: all ease 0.2s;\n"]);return Qo=function(){return e},e}var Xo=i.default.li(Qo(),k.space,ge.d,k.color);function Zo(e){var t=e.options;return r.createElement("ul",{style:{listStyle:"none",paddingLeft:0,textAlign:"left"}},t.map((function(e){var t=r.createElement(Xo,{key:e.label,onClick:e.onClick,color:"neutral_8"},e.label);return e.render?r.createElement("div",{key:e.label},e.render(t)):t})))}function Jo(e){var t=e.isRulesType,n=e.name,a=e.selected,o=e.totalSelected,c=e.onSingleSelect,i=e.onMultiSelect,s=Object(y.a)(e,["isRulesType","name","selected","totalSelected","onSingleSelect","onMultiSelect"]);return r.createElement("div",Object.assign({onClick:function(e){return c&&c(e,!a)}},s),r.createElement(zt.a,{sx:{height:"100%",cursor:"pointer",position:"relative","&:after":{content:"",width:"4px",height:"100%",position:"absolute",right:"0px",transform:"scaleY(".concat(a?1:0,")"),opacity:a?1:0,transition:"transform cubic-bezier(0.51, 0.92, 0.24, 1.15) 0.2s",bg:"primary_2"},"&:hover":{bg:"neutral_1"}},px:4,bg:a?"neutral_1":"transparent",alignItems:"center",justifyContent:"space-between"},r.createElement(It.a,{title:n},r.createElement(h.y,{variant:"bodySecondary"},n)),(o>1||1===o&&!a)&&r.createElement(Vt.b,{show:a&&o>1},r.createElement(Pe.a,{content:"Compare multiple ".concat(t?"rules":"stories")},r.createElement(h.d,{active:a,fontSize:15,variant:"plainIcon",onClick:function(e){e.stopPropagation(),i(!a)}},r.createElement(h.j,{icon:"sitemap"}))))))}Xo.defaultProps={px:4,py:"14px",bgHover:"neutral_1"};var $o=r.memo((function(e){var t=e.isRulesType,n=e.onLoadMoreRows,a=e.onSelect,o=e.searchQuery,c=e.selected,i=e.stories,s=e.total,l=H().addToast,u=r.useCallback((function(e){var t=e.startIndex,r=e.stopIndex;return n?n({search:o,offset:t,limit:r-t+1}):new Promise((function(e){return e()}))}),[o,n]),d=r.useCallback((function(e){var n=e.key,o=e.index,s=e.style,u=i[o];return u?r.createElement(Jo,{isRulesType:t,key:n,name:u.name,selected:c.indexOf(o)>=0,totalSelected:c.length,onSingleSelect:function(e,t){e.ctrlKey?a(t?[].concat(Object(x.a)(c),[o]):c.filter((function(e){return e!==o}))):e.shiftKey?l({key:"no-shift-select",head:"Good idea!",content:"We don't support Shift select just yet - try using Ctrl for now."}):a([o])},onMultiSelect:function(e){return a(e?[].concat(Object(x.a)(c),[o]):c.filter((function(e){return e!==o})))},style:s}):null}),[t,i,c,a,l]);return r.createElement(_t.a,null,(function(e){return r.createElement(_t.e,{isRowLoaded:function(e){var t=e.index;return void 0!==i[t]},loadMoreRows:u,rowCount:s},(function(t){var n=t.onRowsRendered,a=t.registerChild;return r.createElement(_t.f,{ref:a,onRowsRendered:n,height:e.height,width:e.width-1,overscanRowCount:20,rowCount:s,rowHeight:48,rowRenderer:d})}))}))}));function ec(e){var t=e.story,n=e.onCancelAdd,a=e.onSave,o=e.onDelete,c=e.isRulesType,i=H().addToast,s=r.useState(t.story),l=Object(O.a)(s,2),u=l[0],d=l[1];r.useLayoutEffect((function(){d(t.story)}),[t.story]);var f=r.useMemo((function(){if("name"in t)return t.name;var e=/^\s*#+ (.+)/gm.exec(u);return null===e?null:e[1]}),[t,u]),p=r.useCallback((function(){"id"in t||n(),d(t.story)}),[n,t]),m=r.useCallback((function(){return a(Object(E.a)({},t,{story:u}))}),[a,t,u]),b=r.useCallback((function(){return"id"in t&&o(t)}),[o,t]),g=r.useCallback((function(e){"Tab"!==e.key&&(i({content:"You can edit the title of the story from within the markdown",key:"EditStoryTitle"}),e.preventDefault())}),[i]);return r.createElement(j.Flex,{style:{height:"100%"},flexDirection:"column"},r.createElement(en.a,{flex:"0 0 48px",bottom:!0},r.createElement(j.Flex,{style:{height:"100%"},px:4,alignItems:"center"},r.createElement(h.i,{sx:{cursor:"default",caretColor:"transparent"},contentEditable:!0,suppressContentEditableWarning:!0,onKeyDown:g,variant:"h4"},f||""),r.createElement(j.Flex,{flex:"1",flexDirection:"row-reverse",mr:-1},"id"in t&&r.createElement(pe.a,{resource:me.d.Stories,action:me.a.Delete,yes:r.createElement(Pe.a,{content:"Delete ".concat(c?"rule":"story")},r.createElement(h.d,{mx:1,variant:"icon",onClick:b,disabled:!f},r.createElement(h.j,{icon:"trash-alt"})))}),(!("id"in t)||u!==t.story)&&r.createElement(pe.a,{resource:me.d.Stories,action:me.a.Update,yes:r.createElement(r.Fragment,null,r.createElement(h.d,{mx:1,variant:"primary",onClick:m,disabled:!c&&!f},"Save"),r.createElement(h.d,{mx:1,variant:"secondary",onClick:p},"Cancel"))})))),r.createElement(j.Box,{flex:"1",style:{overflow:"auto "}},r.createElement(Xr,{value:u,onChange:d,language:"markdown"})))}var tc=n(422),nc=n(763),rc=n.n(nc),ac=n(764),oc=n.n(ac),cc=n(91),ic=n(385);n(151);function sc(e){var t=e.onReset,n=e.onZoomIn,r=e.onZoomOut;return a.a.createElement(j.Flex,{flexDirection:"column",width:"40px"},t&&a.a.createElement(j.Card,{bg:"neutral_0",sx:{borderRadius:"normal",boxShadow:"0 2px 6px 0 rgba(42, 51, 72, 0.22)",overflow:"hidden"},mb:3},a.a.createElement(Pe.a,{content:"Reset zoom and panning",placement:"left"},a.a.createElement(h.d,{onClick:t,variant:"icon",block:!0},a.a.createElement(h.j,{icon:"location"})))),a.a.createElement(j.Card,{sx:{borderRadius:"normal",boxShadow:"0 2px 6px 0 rgba(42, 51, 72, 0.22)",overflow:"hidden"},bg:"neutral_0"},a.a.createElement(j.Flex,{flexDirection:"column"},a.a.createElement(j.Box,null,a.a.createElement(Pe.a,{content:"Zoom in",placement:"left"},a.a.createElement(h.d,{onClick:n,variant:"icon",block:!0},a.a.createElement(h.j,{icon:"plus"})))),a.a.createElement(j.Box,null,a.a.createElement(Pe.a,{content:"Zoom out",placement:"left"},a.a.createElement(h.d,{onClick:r,variant:"icon",block:!0},a.a.createElement(h.j,{icon:"minus"})))))))}function lc(){var e=Object(A.a)(["\n  position: absolute;\n  bottom: 24px;\n  right: 24px;\n"]);return lc=function(){return e},e}function uc(){var e=Object(A.a)(["\n  background: linear-gradient(90deg, "," 6px, transparent 1%) center,\n    linear-gradient("," 6px, transparent 1%) center,\n    ",";\n  background-size: 8px 8px;\n\n  cursor: grab;\n\n  &:active {\n    cursor: grabbing;\n  }\n\n  & g.edgePath {\n    & .path {\n      stroke: ",";\n    }\n    & marker {\n      fill: ",";\n    }\n  }\n\n  & g.node {\n    & .label-container {\n      filter: drop-shadow(0 5px 10px rgba(153, 165, 214, 0.38));\n      fill: ",";\n      stroke-width: 1;\n      stroke: ",";\n    }\n\n    & .label {\n      font-size: 11px;\n      fill: ",";\n    }\n\n    &.intent {\n      & .label-container {\n        fill: ",";\n        stroke: ",";\n      }\n      & .label {\n        fill: ",";\n      }\n    }\n\n    &.start .label-container,\n    &.end .label-container {\n      fill: ",";\n    }\n  }\n"]);return uc=function(){return e},e}var dc=i.default.svg(uc(),Object(un.a)("colors.neutral_0"),Object(un.a)("colors.neutral_0"),(function(e){return Object(ne.f)(.39,Object(un.a)("colors.neutral_5")(e))}),Object(un.a)("colors.neutral_5"),Object(un.a)("colors.neutral_5"),Object(un.a)("colors.neutral_1"),Object(un.a)("colors.neutral_4"),Object(un.a)("colors.neutral_8"),Object(un.a)("colors.primary_3"),Object(un.a)("colors.primary_2"),Object(un.a)("colors.neutral_0"),Object(un.a)("colors.neutral_0")),fc=i.default.div(lc());function pc(e){var t=e.speed,n=void 0===t?250:t,a=e.dot,o=e.width,c=e.height,s=r.useContext(i.ThemeContext),l=r.useState(null),u=Object(O.a)(l,2),d=u[0],f=u[1],p=s.radii.normal.replace("px",""),m=r.useState(null),b=Object(O.a)(m,2),g=b[0],v=b[1],y=r.useState(null),x=Object(O.a)(y,2),C=x[0],S=x[1],w=r.useState(null),k=Object(O.a)(w,2),T=k[0],R=k[1],A=r.useCallback((function(e){return v(cc.k(e))}),[]),_=r.useCallback((function(e){return S(cc.k(e))}),[]);r.useEffect((function(){if(C&&a){var e=new oc.a.render;try{var t=rc.a.read(a);t.setGraph({nodesep:32,ranksep:32}),t.nodes().forEach((function(e){var n=t.node(e);""===n.class&&(n.class="action");var r,a=n.class.split(" ");(a.includes("start")||a.includes("end"))&&(n=Object(E.a)({},n,{label:(r=n.label,r.charAt(0).toUpperCase()+r.slice(1).toLowerCase()),shape:"circle",height:30,width:30})),"rect"!==n.shape&&void 0!==n.shape||(n=Object(E.a)({},n,{ry:p,rx:p})),t.setNode(e,n)})),e(C,t),f(!1)}catch(n){f(!0)}R(a)}}),[C,a,p]);var I=r.useMemo((function(){return C?ic.a().on("zoom",(function(){return C.attr("transform",cc.e.transform)})):null}),[C]),F=r.useCallback((function(e){return function(){if(I&&g){var t=e>0?e:1/Math.abs(e);I.scaleBy(g.transition().duration(n),t)}}}),[n,I,g]),U=r.useMemo((function(){return T&&C&&g?function(e,t){var n=e.getBoundingClientRect(),r=n.width,a=n.height,o=t.getBBox(),c=o.width,i=o.height,s=(r-c)/2,l=i>a?16:(a-i)/2;return ic.b.translate(s,l)}(g.node(),C.node()):null}),[g,C,T]),N=r.useCallback((function(){U&&g&&I&&I.transform(g.transition().duration(n),U)}),[n,I,g,U]);return r.useEffect((function(){g&&I&&U&&(g.call(I),g.call(I.transform,U))}),[U,g,I]),r.createElement(j.Box,{style:{height:"100%"}},!0===d&&r.createElement(h.a,{variant:"error"},r.createElement(h.y,{variant:"metadata",lineHeight:"initial",inheritColor:!0},"This visualization cannot be rendered.")),r.createElement(dc,{style:{visibility:!0===d?"hidden":"visible"},ref:A,width:o,height:c},r.createElement("g",{ref:_})),r.createElement(fc,null,r.createElement(sc,{onReset:N,onZoomIn:F(1.3),onZoomOut:F(-1.3)})))}function mc(e){var t=e.onDeleteStory,n=e.onDownloadStories,a=e.onFetchStories,o=e.onFetchVisualization,c=e.onLoadMoreRows,i=e.onSaveStory,s=e.onUpdateStory,u=e.onReplaceStories,d=e.searchQuery,f=e.stories,p=e.total,m=e.visualization,b=e.isRulesType,g=Object(q.h)(),v=r.useState(!1),y=Object(O.a)(v,2),E=y[0],x=y[1];r.useEffect((function(){g(b?"view:rules:loaded":"view:stories:loaded")}),[b,g]);var C=Object(l.g)().push,S=r.useCallback((function(e){a({search:e,offset:0,limit:20}),R([0])}),[a]);r.useEffect((function(){S(d)}),[S,d]);var w=r.useState([0]),k=Object(O.a)(w,2),T=k[0],R=k[1];r.useEffect((function(){var e=function(e){return"Escape"===e.key&&R([0])};return window.addEventListener("keydown",e),function(){return window.removeEventListener("keydown",e)}}),[]);var A=r.useState(f[T[0]]),_=Object(O.a)(A,2),I=_[0],F=_[1],U=r.useCallback((function(){R(T.slice(0,1))}),[T]);r.useEffect((function(){if(0!==Object.keys(f).length||E){if(Object.keys(f).length>0&&T.length>0){var e=T.map((function(e){return f[e].id}));o(e),1===T.length?F(f[T[0]]):F(null)}}else F(null)}),[E,o,T,f]);var N=r.useCallback((function(e){return x(!1),"id"in e?s(e):(R([0]),i(e))}),[s,i]),L=r.useCallback((function(e){return p<=1?F(null):R([0]),t(e)}),[t,p]),D=r.useCallback((function(){R([0]),x(!1)}),[]),M=r.useState(!1),P=Object(O.a)(M,2),B=P[0],H=P[1],G=r.useCallback((function(){H(!1),T.length>0?(x(!0),F({story:""}),R([]),o([])):D()}),[D,o,T.length]),V=[{label:"Create new ".concat(b?"rule":"story"),onClick:function(){return G()}},{label:"Create with interactive learning",onClick:function(){return C("/interactive/strict")}},{label:"Upload ".concat(b?"rules":"stories"),render:function(e){return r.createElement(Ko.a,{as:"text",onChange:function(e,t){var n=Object(O.a)(t,1),r=Object(O.a)(n[0],1)[0].target;u(r.result),H(!1)},children:e})}}],z=[r.createElement(pe.a,{resource:b?me.d.Rules:me.d.Stories,action:me.a.Create,yes:r.createElement(qt,{content:r.createElement(Zo,{options:V}),offset:[0,8],visible:B,onClose:function(){return H(!1)}},r.createElement(h.d,{variant:"headerIcon",active:B,onClick:function(){return H((function(e){return!e}))}},r.createElement(h.j,{icon:"plus"})))}),r.createElement(pe.a,{resource:b?me.d.Rules:me.d.Stories,action:me.a.Read,yes:r.createElement(Pe.a,{content:"Export ".concat(b?"rules":"stories")},r.createElement(h.d,{variant:"headerIcon",onClick:n},r.createElement(h.j,{icon:"arrow-to-bottom"})))})],W=r.createElement(en.a,{sx:{height:"100%"},left:!0},r.createElement(tc.a,{style:{height:"100%"},resource:b?me.d.Rules:me.d.Stories,total:p,searchQuery:d,onSearch:S,buttons:z})),Y=T.length>1,K=r.createElement(r.Fragment,null,r.createElement(en.a,{right:!0,flex:"0 0 300px"},r.createElement($o,{isRulesType:b||!1,total:p,stories:f,searchQuery:d,selected:T,onSelect:R,onLoadMoreRows:c})),I&&r.createElement(en.a,{right:!0,sx:{overflow:"hidden"},flex:"1"},r.createElement(ec,{story:I,onSave:N,onCancelAdd:D,onDelete:L,isRulesType:b||!1})),0!==p&&""!==m&&r.createElement(j.Flex,{flexDirection:"column",flex:"1"},r.createElement(en.a,{flex:"0 0 48px",bottom:!0},r.createElement(j.Flex,{sx:{height:"100%"},px:4,alignItems:"center"},Y&&r.createElement(h.j,{mr:2,color:"neutral_6",icon:"sitemap",fontSize:"16px"}),r.createElement(j.Box,{flex:"1"},r.createElement(h.i,{variant:"h4"},Y?"Compare":"Flow")),Y&&r.createElement(h.d,{variant:"plainIcon",onClick:U},r.createElement(h.j,{icon:"times",fontSize:"16px"})))),r.createElement(jr,{message:"Visualization has failed. Please refresh the page."},r.createElement(pc,{dot:m,width:"100%",height:"100%"})))),Q=r.createElement(Tr,{heading:"You have no ".concat(b?"rules":"stories"," yet!"),body:r.createElement(r.Fragment,null,"To learn more about ",b?"rules":"stories",", go"," ",r.createElement(j.Box,{as:"a",color:"primary_1",style:{textDecoration:"none"},href:b?"//rasa.com/docs/rasa/rules/":"//rasa.com/docs/rasa/stories/",target:"_blank"},"here"),"."," "),image:La.a,actions:r.createElement(h.d,{onClick:G,large:!0},"Create new ",b?"rule":"story")});return r.createElement(kr.a,{title:r.createElement(j.Box,{width:251},b?"Rules":"Stories"),content:W,noPadding:!0},r.createElement(j.Flex,{bg:"neutral_0",style:{height:"100%",overflow:"hidden"}},0!==p||E?K:Q))}var bc={onFetchStories:Wo.f.request,onFetchVisualization:Wo.g.request,onChangeStorySelection:Wo.c,onChangeStory:Wo.b,onUpdateStory:Wo.j.request,onSaveStory:Wo.i.request,onDeleteStory:Wo.d.request,onDownloadStories:Wo.e,onReplaceStories:Wo.h};var hc=Object(s.b)((function(e){return{stories:e.rules.rules,selectedStories:e.rules.selectedRules,searchQuery:e.rules.searchQuery,role:e.auth.role,total:e.rules.total,visualization:e.rules.visualization}}),bc)((function(e){return r.createElement(ga.a,{listener:v.b,start:Object(ha.getType)(Wo.f.request),resolve:Object(ha.getType)(Wo.f.success),reject:Object(ha.getType)(Wo.f.failure)},(function(t){return r.createElement(mc,Object.assign({},e,{isRulesType:!0,onLoadMoreRows:t}))}))})),gc=n(38),vc={onFetchStories:gc.f.request,onFetchVisualization:gc.g.request,onChangeStorySelection:gc.c,onChangeStory:gc.b,onUpdateStory:gc.m.request,onSaveStory:gc.i.request,onDeleteStory:gc.d.request,onDownloadStories:gc.e,onReplaceStories:gc.h};var yc=Object(s.b)((function(e){return{stories:e.stories.stories,selectedStories:e.stories.selectedStories,searchQuery:e.stories.searchQuery,role:e.auth.role,total:e.stories.total,visualization:e.stories.visualization}}),vc)((function(e){return r.createElement(ga.a,{listener:v.b,start:Object(ha.getType)(gc.f.request),resolve:Object(ha.getType)(gc.f.success),reject:Object(ha.getType)(gc.f.failure)},(function(t){return r.createElement(mc,Object.assign({},e,{onLoadMoreRows:t}))}))}));function Ec(e){var t=e.config,n=e.error,a=e.onSave,o=Object(q.h)();r.useEffect((function(){o("view:config:loaded")}),[o]);var c=r.useState(t),i=Object(O.a)(c,2),s=i[0],u=i[1],d=r.useState(n),f=Object(O.a)(d,2),p=f[0],m=f[1],b=H().addToast;r.useEffect((function(){p&&b({head:p.name,content:p.message,variant:"error"})}),[p,b]),r.useEffect((function(){u(t)}),[t]),r.useEffect((function(){m(n)}),[n]);var g=s!==t;return r.createElement(kr.a,{title:r.createElement(j.Flex,{alignItems:"center"},"Model Configuration"," ",r.createElement(ze,{content:r.createElement(j.Box,{style:{cursor:"default",maxWidth:"240px",textAlign:"left"}},"Edit the"," ",r.createElement(j.Box,{as:"a",color:"neutral_0",target:"_blank",href:"http://yaml.org/start.html"},"yaml")," ","configuration file for your Rasa model. You can learn more about the available options in"," ",r.createElement(j.Box,{as:"a",color:"neutral_0",target:"_blank",href:"https://rasa.com/docs/"},"the Rasa documentation"))})),scrollable:!0,rightContent:r.createElement(pe.a,{resource:me.d.Models,attributes:["settings"],action:me.a.Update,yes:r.createElement(r.Fragment,null,r.createElement(h.d,{onClick:function(){u(t)},variant:"secondary",large:!0,mr:2,disabled:!g},"Discard"),r.createElement(h.d,{onClick:function(){a(s)},large:!0,mr:3,disabled:!g},"Save changes"))})},r.createElement(j.Box,null,g&&r.createElement(l.a,{message:"Are you sure you want to navigate away before saving the new configuration file?"}),r.createElement(h.e,{p:4,sx:{boxShadow:"0 2px 4px 0 rgba(207, 207, 207, 0.21)",border:0,borderRadius:"large"}},r.createElement(Xr,{language:"yaml",value:s,onChange:function(e){return u(e)}}))))}var xc={onFetchConfig:Dr.a.request,onSave:Dr.d.request};var Oc=Object(s.b)((function(e){return{config:e.projects.config,error:e.projects.error}}),xc)((function(e){var t=e.onFetchConfig,n=Object(y.a)(e,["onFetchConfig"]);return r.useEffect((function(){t()}),[t]),r.createElement(Ec,n)})),jc=n(118),Cc=Object(xt.a)([function(e){return e.models}],(function(e){var t=Object.keys(e).find((function(t){return e[t].tags.some((function(e){return"production"===e||"Active"===e}))}));return t?e[t]:null})),Sc=(Object(xt.a)([function(e){return e.evaluation},function(e){return e.confusionValues},function(e){return e.evaluationFilter}],(function(e,t,n){if(!e)return[];var r=e.intent_evaluation.predictions;if(!n)return[];var a=Object(O.a)(n,2),o=a[0],c=a[1],i=t[o],s=t[c];return r.filter((function(e){return e.intent===i&&e.predicted===s}))})),Object(xt.a)([function(e){return e.loading},function(e){return e.parsedMessage},function(e){return e.predictedActions}],(function(e,t,n){return e.parseMessage||e.confirmPrediction||e.saveEvent?jc.a.Loading:t?jc.a.ClassifyingIntent:n.length>0?jc.a.ConfirmingAction:jc.a.Ready}))),wc=n(765),kc=n.n(wc);function Tc(e){var t=e.conversationId,n=Object(s.c)(),a=Object(s.d)((function(e){return e.interactiveLearning.parsedMessage})),o=Object(s.d)((function(e){return e.examples.intents})),c=r.useCallback((function(e){n(wt.k.request({conversationId:t,event:{event:"user",text:e.user_input.text,parse_data:e.user_input}}))}),[n,t]),i=r.useCallback((function(e){return a&&n(Object(wt.b)(Object(E.a)({},a,{user_input:Object(E.a)({},a.user_input,{intent:e})})))}),[n,a]),l=r.useCallback((function(){return n(Object(wt.a)())}),[n]);return a?r.createElement(j.Flex,{mt:1,flex:"0 0 72px"},r.createElement(en.a,{top:!0,width:.5},r.createElement(j.Flex,{ml:4,style:{height:"100%"},alignItems:"center"},r.createElement(h.y,{variant:"bodySecondary"},a.user_input.text))),r.createElement(j.Flex,{flex:"1"},r.createElement(hn,{autoFocus:!0,block:!0,fullHeight:!0,intent:a.user_input.intent.name,intents:o,onChange:i,onReturn:function(){return a.user_input.intent.name&&c(a)},onEscape:l,rankedIntents:a.user_input.intent_ranking,fullWidth:!0})),r.createElement(h.d,{onClick:function(){return a.user_input.intent.name&&c(a)},active:!0,variant:"headerIcon"},r.createElement(h.j,{icon:"check-circle"}))):null}var Rc=function(){return{text:"",id:S()()}};function Ac(e){var t=e.value,n=e.onChange,a=Object(O.a)(t,3),o=a[0],c=a[1],i=a[2],s=c.length>0?c:[Rc()];return r.createElement(W.d,null,r.createElement(W.a,{width:504,style:{height:"374px",overflow:"auto"}},r.createElement(Ve.a,{text:"Action name"},r.createElement(W.d,{alignItems:"center"},r.createElement(W.a,{sx:{maxWidth:i?0:"100px",transition:"all ease 0.1s"}},r.createElement(h.y,{mr:1},"utter_")),r.createElement(W.a,null,r.createElement(h.l,{placeholder:"Response name",fullWidth:!0,value:o.name,onChangeValue:function(e){return n([Object(E.a)({},o,{name:e}),c,i])}})))),r.createElement(W.d,{mt:3,as:"label",flexDirection:"row",alignItems:"start"},r.createElement(h.f,{mt:"2px",mr:2,checked:i,onChange:function(){n([o,[],!i])}}),r.createElement(h.y,{as:"span",variant:"bodySecondary",style:{display:"inline-flex"}},"This is a custom action",i&&r.createElement(r.Fragment,null,r.createElement("br",null),"Your action server needs to implement this custom action."))),!i&&r.createElement(r.Fragment,null,r.createElement(h.v,{mt:5,mb:4}),r.createElement(W.a,null,r.createElement(Ve.a,{text:"Response Text"},s.map((function(e,t){return r.createElement(W.d,{key:e.id,mb:3},r.createElement(h.l,{value:e.text,onChangeValue:function(t){return n([o,s.map((function(n){return n.id===e.id?Object(E.a)({},n,{text:t}):n})),!1])},placeholder:"Add response text",fullWidth:!0}),t<c.length-1?r.createElement(h.d,{variant:"icon",onClick:function(){return n([o,c.filter((function(t){return t.id!==e.id})),!1])}},r.createElement(h.j,{icon:"times"})):r.createElement(h.d,{variant:"icon",onClick:function(){return n([o,[].concat(Object(x.a)(c),[Rc()]),!1])}},r.createElement(h.j,{icon:"plus"})))})))))))}function _c(e){var t=e.action,n=e.actions,a=e.onChange,o=Object(y.a)(e,["action","actions","onChange"]),c=n.map((function(e){return{label:e.action,value:e.action,data:e}})),i=t&&c.find((function(e){return e.value===t.action})),s=r.useCallback((function(e){return e&&!Array.isArray(e)&&a(e.data)}),[a]);return r.createElement(h.u,Object.assign({prefix:r.createElement("b",null,"Next Action: "),value:i,items:c,onChange:s},o))}function Ic(e){var t=e.conversationId,n=Object(s.c)(),a=Object(s.d)((function(e){return e.interactiveLearning.predictedAction})),o=Object(s.d)((function(e){return e.interactiveLearning.predictedActions})),c=r.useCallback((function(e){return n(Object(wt.c)(e))}),[n]),i=r.useCallback((function(e){return n(wt.f.request({conversationId:t,confirmedAction:e}))}),[n,t]),l=r.useCallback((function(e){return n(wt.g.request(e))}),[n]),u=r.useState(!1),d=Object(O.a)(u,2),f=d[0],p=d[1],m=r.useState([{name:""},[],!1]),b=Object(O.a)(m,2),g=b[0],v=b[1],y=r.useCallback((function(){p(!1),v([{name:""},[],!1])}),[p,v]);return r.createElement(r.Fragment,null,r.createElement(j.Flex,{style:{height:"72px"}},r.createElement(j.Box,{flex:"1"},r.createElement(_c,{action:a,actions:o,autoFocus:!0,block:!0,fullWidth:!0,height:"72px",onChange:c,onCreate:function(){return p(!0)},onReturn:function(){return a&&i(a)}})),r.createElement(h.d,{variant:"headerIcon",active:!0,onClick:function(){return a&&i(a)}},r.createElement(h.j,{icon:"check-circle"}))),r.createElement(Qe,{open:f,onClose:y,title:"Create new action",footer:r.createElement(r.Fragment,null,r.createElement(h.d,{large:!0,onClick:function(){var e=Object(O.a)(g,3),n=e[0],r=e[1],a=e[2];l({action:Object(E.a)({},n,{name:a?n.name:"utter_".concat(n.name)}),responses:r,conversationId:t}),y()},disabled:""===g[0].name||g[2]&&g[0].name.startsWith("utter_")},"Create Action"),r.createElement(h.d,{variant:"secondary",large:!0,mr:2,onClick:y},"Cancel"))},r.createElement(Ac,{value:g,onChange:function(e){return v(e)}})))}function Fc(e){var t=e.onSendMessage,n=Object(s.c)(),a=Object(s.d)((function(e){return e.interactiveLearning.strictMode})),o=r.useCallback((function(e){return n(wt.d(e))}),[n]),c=r.useCallback((function(e){null!==e&&o("false"!==e)}),[o]);return Object(q.g)("strict",c),r.createElement(j.Card,{sx:{borderTop:"1px solid",borderColor:"neutral_4"}},r.createElement(j.Flex,null,r.createElement(j.Box,{flex:"1"},r.createElement(Pt,{onSendMessage:t})),r.createElement(j.Box,null,r.createElement(Pe.a,{content:a?"Switch off interactive learning mode and talk to your bot normally.":"Switch on interactive learning mode to validate every step of the conversation. Guide your bot as it classifies and responds to your messages."},r.createElement(h.d,{variant:"headerIcon",active:a,onClick:function(){return o(!a)}},r.createElement(h.j,{icon:"highlighter"}))))))}function Uc(e){var t=e.conversationId,n=e.chatState,a=e.onSendMessage;if(!t)return null;switch(n){case jc.a.Loading:return r.createElement(j.Card,{sx:{height:"72px",borderTop:"1px solid",borderColor:"neutral_4"}},r.createElement(Lt,null));case jc.a.ClassifyingIntent:return r.createElement(Tc,{conversationId:t});case jc.a.ConfirmingAction:return r.createElement(Ic,{conversationId:t});default:return r.createElement(Fc,{onSendMessage:a})}}function Nc(e){var t=e.awaitingResponse,n=e.conversationEvents,a=e.conversationId,o=e.environment,c=e.loading,i=e.onClearStory,u=e.onCreateConversation,d=e.onUndoConversation,f=e.onFetchEntities,p=e.onFetchIntents,m=e.onFetchModels,b=e.onParseMessage,v=e.onSaveStory,y=e.onSendMessage,E=e.onStartPolling,x=e.onStopPolling,O=e.savedStoryId,C=e.storyName,S=e.strictMode,w=e.onSaveE2ETest,k=e.saveE2ETestLoading,T=e.activeGitRepository,R=H().addToast,A=Object(q.h)();r.useEffect((function(){A("view:interactive:loaded")}),[A]),r.useEffect((function(){p(),f()}),[p,f]),r.useEffect((function(){m({search:"",offset:0,limit:0,tag:"production"})}),[m]),r.useEffect((function(){!c.saveStory&&O&&R({content:"Story saved"})}),[c.saveStory,O,R]);var _=Object(s.d)((function(e){return Sc(e.interactiveLearning)})),I=Object(s.d)((function(e){return!Cc(e.models)})),F=Object(l.g)().push;r.useEffect((function(){null==a&&u({data:{interactive:!0}})}),[a,u]),r.useEffect((function(){return a?(E({conversationId:a,environment:o}),function(){return x()}):function(){}}),[a,o,E,x]);var U=r.useMemo((function(){return function(e){if(S)"/restart"===e?i():b(e);else{if(!a)return;y({senderId:a,text:e,environment:o})}}}),[i,b,y,S,a,o]),N=a&&n[a]||[];return r.createElement(kr.a,{title:"Talk to your bot (Interactive Learning)",noPadding:!0},r.createElement(j.Card,{sx:{height:"100%",borderTop:"1px solid",borderColor:"neutral_5"}},I?r.createElement(Tr,{heading:"There are no active models",body:g.a?"To try out your assistant, train a model and promote it to production":"To try out your assistant, train a model and make it active",image:Ta.a,actions:r.createElement(h.d,{onClick:function(){return F("/models")},large:!0},"View models"),bg:"neutral_0"}):r.createElement(j.Flex,{bg:"neutral_0",sx:{height:"100%"},flexDirection:"row"},r.createElement(j.Card,{width:.5,sx:{borderRight:"1px solid",borderColor:"neutral_4"}},a&&r.createElement(j.Flex,{flexDirection:"column",sx:{height:"100%"}},r.createElement(j.Box,{flex:"1",sx:{overflow:"auto"}},r.createElement(Bt,{awaitingResponse:t,username:a,conversation:N,placeholder:r.createElement(Tr,{heading:"Interactive Learning",body:"Talk to your assistant and hit the strict mode button to validate\u2028 every step of the conversation.",image:kc.a}),onUndoMessage:function(e){d({createPayload:{data:{conversation_id_to_copy_from:a,interactive:!0,until:e},strictMode:S},events:N})},userAvatar:r.createElement(h.j,{icon:["fas","user"]}),noInteract:!0,onSendMessage:_===jc.a.Ready?U:void 0})),r.createElement(Uc,{chatState:_,conversationId:a,onSendMessage:U}))),r.createElement(j.Box,{width:.5,sx:{overflow:"hidden"}},r.createElement(mn,{activeGitRepository:T,saveE2ETestLoading:k,onSaveE2ETest:w,editable:!0,onClearStory:i,onSaveStory:v,storyName:C,conversation:N})))))}var Lc={onClearStory:wt.e,onCreateConversation:wt.h.request,onUndoConversation:wt.l,onFetchEntities:kt.f.request,onFetchIntents:kt.i.request,onFetchModels:le.f.request,onParseMessage:wt.j.request,onSaveStory:gc.i.request,onSendMessage:Et.x.request,onStartPolling:Et.z,onStopPolling:Et.A,onSaveE2ETest:Et.v.request};var Dc=Object(s.b)((function(e){return{awaitingResponse:e.messages.awaitingResponse,conversationEvents:e.messages.conversationEvents,conversationId:e.interactiveLearning.conversationId,environment:e.interactiveLearning.environment,loading:e.interactiveLearning.loading,savedStoryId:e.interactiveLearning.savedStoryId,storyName:e.interactiveLearning.storyName,strictMode:e.interactiveLearning.strictMode,saveE2ETestLoading:e.messages.loading.e2eTest,activeGitRepository:e.gitRepositories.activeGitRepository}}),Lc)((function(e){return r.createElement(Nc,e)})),Mc=n(212),Pc=n(284);var Bc=r.memo((function(e){var t,n=e.suggestion,a=e.onDelete,o=e.onMarkCorrect,c=e.hasIntent,i=e.highlight,s=e.buttonVariant,l=void 0===s?"icon":s,u=e.canCreate,d=e.canDelete,f=c||!!(null===n||void 0===n||null===(t=n.user_input.intent)||void 0===t?void 0:t.name),p=(null===n||void 0===n?void 0:n.conversation_id)&&(null===n||void 0===n?void 0:n.event_id),m="context"===i,b="delete"===i,g="correct"===i;return r.createElement("div",{className:"inbox-table"},r.createElement(j.Flex,{flexDirection:"row-reverse",alignItems:"flex-start",sx:{visibility:i?"visible":"hidden",".inbox-table:hover &":{visibility:"visible"}}},d&&r.createElement(Pe.a,{content:"Delete"},r.createElement(h.d,{mx:1,onClick:function(){a(n)},hover:b,variant:l},r.createElement(h.j,{icon:"trash-alt"}))),u&&r.createElement(Pe.a,{content:f?"Mark Correct":"You need to define an intent before marking this correct"},r.createElement(h.d,{mx:1,onClick:function(){o(n)},disabled:!f,hover:g,variant:l},r.createElement(h.j,{icon:"check-circle"}))),n&&p&&r.createElement(Pe.a,{content:"See Conversation Context"},r.createElement(h.d,{as:"a",target:"_blank",href:"/conversations/".concat(n.conversation_id,"#").concat(n.event_id),rel:"noopener,noreferrer",mx:1,hover:m,variant:l,onClick:function(){}},r.createElement(h.j,{icon:"comments"})))))}));var Hc=r.memo((function(e){var t=e.intents,n=e.suggestion,a=e.onChangeIntent,o=e.onDelete,c=e.onMarkCorrect,i=r.useCallback((function(e){return a(n,e)}),[a,n]);return n?r.createElement(j.Flex,{width:"100%",alignItems:"flex-start"},r.createElement(hn,{intent:n.user_input.intent.name,rankedIntents:n.user_input.intent_ranking,onChange:i,intents:t,onReturn:function(){return c(n)},onEscape:function(){return o(n)},fullWidth:!0})):null}));function qc(e){var t=e.suggestion,n=e.entityTypes,a=e.onChange,o=e.synonyms,c=e.onFetchSynonymByMappedValue,i=r.useCallback((function(e,n){return a(Object(E.a)({},t,{user_input:Object(E.a)({},t.user_input,{text:e,entities:n})}))}),[t,a]);return r.createElement(eo,{onPopupShow:function(){return c({suggestionId:t.id,entities:t.user_input.entities})},text:t.user_input.text,entities:t.user_input.entities,entityTypes:n,synonyms:o,onChange:i})}var Gc=r.memo((function(e){var t=e.entityTypes,n=e.selected,a=e.suggestion,o=e.synonyms,c=e.onChange,i=e.onChangeSelected,s=e.onFetchSynonymByMappedValue;return a?r.createElement(j.Flex,{alignItems:"center",justifyContent:"space-between"},r.createElement(j.Box,{as:"label",flex:"0 0 auto",width:"32px"},r.createElement(h.f,{checked:n,onChange:function(e){return i("shiftKey"in e&&e.shiftKey)}})),r.createElement(j.Box,{flex:"1 1 auto",alignSelf:"flex-start"},r.createElement(jr,null,r.createElement(qc,{suggestion:a,onChange:c,entityTypes:t,synonyms:o,onFetchSynonymByMappedValue:s})))):null}));var Vc=r.memo((function(e){var t=e.entityTypes,n=e.fetchSynonym,a=e.highlightedRow,o=e.intents,c=e.items,i=e.loadMore,s=e.metadata,l=e.acceptInboxItem,u=e.deleteInboxItem,d=e.updateInboxItem,f=e.updateIntent,p=e.updateItemSelection,m=e.synonyms,b=Object(q.e)(me.d.Examples,me.a.Create),g=Object(q.e)(me.d.Logs,me.a.Delete),v=r.useCallback((function(e,a){var o=a.index,c=a.metadata.selectedItems;return r.createElement(Gc,{suggestion:e,entityTypes:t,selected:c.has(o),synonyms:m,onChange:d,onChangeSelected:function(e){return p(o,e)},onFetchSynonymByMappedValue:n})}),[t,m,d,p,n]);return r.createElement(h.x,{variant:"flattened",rows:c,metadata:s,onLoadMore:i,highlight:a},r.createElement(h.g,{title:"Sentence",width:"50%"},v),r.createElement(h.g,{title:"Predicted Intent and Confidence",width:"35%"},(function(e){return r.createElement(Hc,{suggestion:e,intents:o,onChangeIntent:f,onDelete:u,onMarkCorrect:l})})),r.createElement(h.g,{width:"15%"},(function(e,t){var n=t.highlighted,a=t.metadata.highlightAction;return r.createElement(Bc,{suggestion:e,highlight:n&&(a||"hover")||void 0,onDelete:u,onMarkCorrect:l,canCreate:b,canDelete:g})})))}));function zc(e){var t=e.children;return r.createElement(j.Flex,{flexDirection:"column",height:"100%",sx:{position:"relative"}},t)}var Wc=r.memo((function(e){var t=e.sortBy,n=e.sortOrder,a=e.updateSorting,o=e.onClick,c=Object(q.l)(!1),i=Object(O.a)(c,2),s=i[0],l=i[1],u=function(e,t,n){return r.createElement(j.Flex,{width:"100%",alignItems:"center",sx:{"&:hover":{bg:"neutral_1"}}},r.createElement(j.Box,{ml:4,width:"13px"},t&&r.createElement(h.j,{icon:["fas","check"],color:"primary_2",width:"13px"})),r.createElement(h.y,{width:1,as:"div",variant:"bodySecondary",lineHeight:"48px",pl:3,pr:4},e,n&&r.createElement(h.y,{as:"span",display:"inline",pl:1,color:"neutral_6"},"(default)")))},d=[{label:"Sort by:",customLabel:function(e){return r.createElement(h.y,{width:1,as:"div",variant:"bodySecondary",fontWeight:"bold",sx:{cursor:"auto"},lineHeight:"48px",px:4},"Sort by:")}},{label:"Newest first",action:function(){a("time","desc")},customLabel:function(e){return u("Newest first","time"===t&&"desc"===n,!0)}},{label:"Oldest first",action:function(){a("time","asc")},customLabel:function(e){return u("Oldest first","time"===t&&"asc"===n)}},{label:"Confidence - low to high",action:function(){a("confidence","asc")},customLabel:function(e){return u("Confidence - low to high","confidence"===t&&"asc"===n)}},{label:"Confidence - high to low",action:function(){a("confidence","desc")},customLabel:function(e){return u("Confidence - high to low","confidence"===t&&"desc"===n)}}];return r.createElement(Qn,{animation:"shift-toward",offset:[0,-8],options:d,onClose:l,visible:s},r.createElement(h.d,{variant:"headerIcon",onClick:function(){l(),o&&o()},active:s},r.createElement(h.j,{icon:["fal","sort-amount-down"]})))}));var Yc=r.memo((function(e){var t=e.checked,n=e.item,a=e.onChange,o=r.useCallback((function(){return a(n)}),[n,a]);return r.createElement(j.Box,{as:"label",key:n,width:"25%",sx:{display:"block",marginBottom:"16px"}},r.createElement(h.w,{spacing:12},r.createElement(h.f,{onChange:o,checked:t}),r.createElement(h.y,null,n)))}));function Kc(e){var t=e.show,n=e.items,a=e.label,o=e.selected,c=e.onCancel,i=e.onApply,s=r.useState(o),l=Object(O.a)(s,2),u=l[0],d=l[1];r.useEffect((function(){t||d(o)}),[t,o]);var f=r.useCallback((function(e){d((function(t){var n=new Set(t);return n.has(e)?n.delete(e):n.add(e),n}))}),[d]);return r.createElement(h.h,{height:"455px",show:t,overlay:!0},r.createElement(j.Flex,{height:"100%",flexDirection:"column",py:3,sx:{backgroundColor:"neutral_0",boxShadow:"rgba(37, 49, 70, 0.3) 0px 2px 6px 0px"}},r.createElement(h.i,{variant:"h4",px:4},a," (",n.length,")"),r.createElement(j.Flex,{flexWrap:"wrap",sx:{overflowY:"scroll",padding:"24px"}},n.map((function(e){return r.createElement(Yc,{key:e,item:e,onChange:f,checked:u.has(e)})}))),r.createElement(h.v,null),r.createElement(j.Box,{px:4,pt:3,alignSelf:"flex-end"},r.createElement(h.w,{spacing:8},r.createElement(h.d,{onClick:c,variant:"secondary",large:!0},"Cancel"),r.createElement(h.d,{onClick:function(){return i(u)},large:!0},"Apply Filters")))))}var Qc=n(769);function Xc(e){var t=e.label,n=e.pluralLabel,a=e.total,o=e.onClearSelection,c=e.children,s=r.useContext(i.ThemeContext),l=1===a?t:n;return r.createElement(j.Flex,{width:"100%",height:"64px",color:"neutral_0",backgroundColor:"primary_2",justifyContent:"space-between",alignItems:"center",pl:4,pr:Object(Qc.a)()+s.space[4]+"px",sx:{position:"absolute",top:"56px",left:0,zIndex:1}},r.createElement(j.Flex,{width:.5},r.createElement(j.Box,{as:"label",flex:"0 0 auto",width:"32px"},r.createElement(h.f,{checked:!0,partial:!0,variant:"primary",onChange:o})),r.createElement(j.Box,{flex:"1 1 auto",alignSelf:"flex-start"},r.createElement(h.y,{variant:"inverse"},a," ",l))),c)}function Zc(e){var t=e.intent,n=e.total,a=e.onClearSelection,o=e.onDelete,c=e.onMarkCorrect,i=e.onChangeIntent,s=e.intents,l=Object(q.e)(me.d.Examples,me.a.Create),u=Object(q.e)(me.d.Logs,me.a.Delete);return r.createElement(Xc,{label:"item selected",pluralLabel:"items selected",total:n,onClearSelection:a},r.createElement(j.Box,{width:"35%"},r.createElement(j.Flex,{width:"100%",alignItems:"flex-start"},r.createElement(hn,{intent:t||"Multiple intents selected",onChange:i,intents:s,fullWidth:!0,variant:"inverse"}))),r.createElement(j.Box,{width:"15%"},r.createElement(Bc,{highlight:"hover",hasIntent:!0,onDelete:o,onMarkCorrect:c,canCreate:l,canDelete:u,buttonVariant:"iconInverse"})))}var Jc={fetchInboxItems:be.d.request,fetchEntityTypes:kt.f.request,fetchIntents:kt.i.request,fetchSynonyms:oo.b.request,fetchSynonym:be.e.request,updateInboxItem:be.a,acceptInboxItem:kt.m.request,deleteInboxItem:be.c.request};var $c=Object(s.b)((function(e){return{items:e.suggestions.suggestions,intents:e.examples.intents,entityTypes:e.examples.entityTypes,synonyms:e.synonyms.synonyms,total:e.suggestions.total,searchQuery:e.suggestions.searchQuery}}),Jc)((function(e){var t=e.fetchInboxItems,n=e.fetchEntityTypes,a=e.fetchIntents,o=e.fetchSynonyms,c=e.fetchSynonym,i=e.updateInboxItem,s=e.acceptInboxItem,l=e.deleteInboxItem,u=e.items,d=e.intents,f=e.entityTypes,p=e.synonyms,m=e.total,b=e.searchQuery,g=te(),v=g.setOnboardingShown,y=g.currentOnboardingStep,x=g.removeStep,C=r.useState("time"),S=Object(O.a)(C,2),w=S[0],k=S[1],T=r.useState("desc"),R=Object(O.a)(T,2),A=R[0],_=R[1],I=r.useCallback((function(e){e&&(s(e),"onboarding_annotate_data"===y&&v(!0),x("onboarding_annotate_data"))}),[s,y,v,x]),F=r.useCallback((function(e){e&&l(e)}),[l]),U=r.useState(b),N=Object(O.a)(U,2),L=N[0],D=N[1];Object(q.b)((function(){L!==b&&t({search:L,offset:0,limit:50,sortBy:w,sortOrder:A})}),200,[t,b,L,w,A]);var M=r.useCallback((function(e){t({search:b,offset:Math.max(1,e-50),limit:e,sortBy:w,sortOrder:A})}),[t,b,w,A]);r.useEffect((function(){n()}),[n]),r.useEffect((function(){a()}),[a]),r.useEffect((function(){o({search:""})}),[o]);var P=r.useCallback((function(e,t){return i(Object(E.a)({},e,{user_input:Object(E.a)({},e.user_input,{intent:t})}))}),[i]),B=r.useState(new Set),H=Object(O.a)(B,2),G=H[0],V=H[1],z=r.useState(null),W=Object(O.a)(z,2),Y=W[0],K=W[1],Q=r.useCallback((function(e,t){V((function(n){var r=new Set(n);if(t&&null!==Y&&Y!==e){var a=Math.min(Y,e),o=Math.max(Y,e)+1;Array(o-a).fill(0).forEach((function(e,t){return r.add(t+a)}))}else r.has(e)?r.delete(e):(K(e),r.add(e));return r}))}),[V,Y]),X=r.useCallback((function(){V(new Set)}),[V]),Z=r.useMemo((function(){return Array.from(G)}),[G]),J=r.useMemo((function(){var e,t=null,n=Object(Mc.a)(G);try{for(n.s();!(e=n.n()).done;){var r=e.value,a=u[r].user_input.intent.name;if(null===t)t=a;else if(a!==t)return null}}catch(o){n.e(o)}finally{n.f()}return t}),[G,u]),$=Z.length>0,ee=Object(q.l)(!1),ne=Object(O.a)(ee,2),re=ne[0],ae=ne[1],oe=r.useCallback((function(){I(Z.map((function(e){return u[e]}))),X()}),[Z,X,u,I]),ce=r.useCallback((function(){F(Z.map((function(e){return u[e]}))),X()}),[Z,X,u,F]),ie=r.useCallback((function(e){Z.forEach((function(t){P(u[t],e)}))}),[Z,u,P]),se=r.useState(0),le=Object(O.a)(se,2),ue=le[0],de=le[1],fe=Object(q.k)(200),pe=Object(O.a)(fe,2),me=pe[0],be=pe[1],he=Object(q.k)(200),ge=Object(O.a)(he,2),ve=ge[0],ye=ge[1],Ee=Object(q.k)(200),xe=Object(O.a)(Ee,2),Oe=xe[0],je=xe[1],Ce=(me?"correct":Oe&&"context")||ve&&"delete"||void 0;Object(Pc.a)("j",(function(){return de((function(e){return Math.min(e+1,u.length)}))}),[u]),Object(Pc.a)("k",(function(){return de((function(e){return Math.max(e-1,0)}))}),[]),Object(Pc.a)("s",(function(){return be((function(){return I(u[ue])}))}),[be,I,u,ue]),Object(Pc.a)("d",(function(){return ye((function(){return F(u[ue])}))}),[ye,F,u,ue]),Object(Pc.a)("c",(function(){return je((function(){var e=u[ue];e.conversation_id&&e.event_id&&dt("/conversations/".concat(e.conversation_id,"#").concat(e.event_id))}))}),[je,F,u,ue]);var Se=r.useState(new Set),we=Object(O.a)(Se,2),ke=we[0],Te=we[1],Re=r.useMemo((function(){return{highlightAction:Ce,selectedItems:G}}),[Ce,G]),Ae=r.useCallback((function(e){return"Search ".concat(e," items")}),[]),_e=r.useCallback((function(e){Te(e);var t=Array.from(e);D(t.length?"intent:".concat(t.join(",")):"")}),[Te,D]);Object(q.b)((function(){var e=b.match(/intent:([^\s]*)/);if(e){var t=Object(O.a)(e,2)[1];Te((function(){return new Set(t.split(","))}))}}),200,[b,ke,Te]);var Ie=r.createElement(h.d,{variant:"headerIcon",onClick:ae,active:re},r.createElement(h.j,{icon:"sliders-h"})),Fe=r.createElement(Wc,{sortBy:w,sortOrder:A,updateSorting:function(e,n){k(e),_(n),t({search:L,offset:0,limit:50,sortBy:e,sortOrder:n})},onClick:function(){return re&&ae()}});return r.createElement(zc,null,r.createElement(j.Box,{sx:{minWidth:"790px",width:"100%",height:"100%"}},r.createElement(h.t,{buttons:[Fe,Ie],count:m,query:L,label:Ae,onChange:D}),r.createElement(j.Flex,{sx:{position:"absolute",top:"72px",left:0,zIndex:1},width:"100%"},r.createElement(Kc,{items:d,label:"Intents",selected:ke,onApply:function(e){_e(e),ae()},onCancel:ae,show:re})),$&&r.createElement(Zc,{intent:J,total:Z.length,onClearSelection:X,onDelete:ce,onMarkCorrect:oe,onChangeIntent:ie,intents:d}),r.createElement(Vc,{entityTypes:f,fetchSynonym:c,highlightedRow:ue,intents:d,items:u,loadMore:M,metadata:Re,acceptInboxItem:I,deleteInboxItem:F,updateInboxItem:i,updateIntent:P,updateItemSelection:Q,synonyms:p})))}));function ei(e){return r.createElement(kr.a,{title:"NLU Inbox",noPadding:!0},r.createElement(j.Box,{height:"100%",width:"100%",px:7,pt:10},r.createElement($c,null)))}Object(h.B)();var ti=g.a&&b()({loader:function(){return Promise.all([n.e(3),n.e(4)]).then(n.bind(null,1596))},loading:function(e){return r.createElement(Lt,Object.assign({},e,{pt:7}),"Loading Analytics")}}),ni=g.a&&b()({loader:function(){return n.e(5).then(n.bind(null,1595))},loading:function(e){return r.createElement(Lt,Object.assign({},e,{pt:7}),"Loading Roles")}}),ri=g.a&&b()({loader:function(){return n.e(6).then(n.bind(null,1597))},loading:function(e){return r.createElement(Lt,Object.assign({},e,{pt:7}),"Loading Users")}}),ai=Object(d.createBrowserHistory)({basename:""}),oi=Object(v.a)(ai),ci=oi.store,ii=oi.persistor,si=Object(i.default)(f.BaseModalBackground).attrs((function(){return{"data-e2e":"ModalBackground"}})).withConfig({displayName:"App__StyledModalBackground",componentId:"t51pt2-0"})(["z-index:110;opacity:0;transition:all cubic-bezier(0.46,0.1,0.52,0.98) 250ms;"]);var li=document.getElementById("root");li&&c.a.render(r.createElement((function(){return r.createElement(r.Fragment,null,r.createElement(ie,null),r.createElement(s.a,{store:ci},r.createElement(u.a,{persistor:ii},r.createElement(l.d,{history:ai},r.createElement(h.z,null,r.createElement(i.ThemeProvider,{theme:h.C},r.createElement(V,null,r.createElement(B,null,r.createElement(ee,null,r.createElement(f.ModalProvider,{backgroundComponent:si},r.createElement(l.e,null,ti&&r.createElement(yt,{authRequired:!0,path:"/analytics",component:ti}),r.createElement(yt,{authRequired:!0,path:"/interactive",component:Dc}),r.createElement(l.b,{from:"/talk",to:"/interactive"}),r.createElement(yt,{authRequired:!0,path:"/conversations/:conversationId?/:timestamp?",component:Lr}),r.createElement(yt,{authRequired:!0,path:"/nlu-inbox",component:ei}),r.createElement(yt,{authRequired:!0,path:"/data",component:Io}),r.createElement(yt,{authRequired:!0,path:"/models",component:_a}),r.createElement(yt,{authRequired:!0,path:"/responses",component:zo}),r.createElement(yt,{authRequired:!0,path:"/config",component:Oc}),r.createElement(yt,{authRequired:!0,path:"/domain",component:$r}),r.createElement(yt,{authRequired:!0,path:"/rules",component:hc}),r.createElement(yt,{authRequired:!0,path:"/stories",component:yc}),ri&&r.createElement(yt,{authRequired:!0,path:"/users",component:ri}),ni&&r.createElement(yt,{authRequired:!0,path:"/roles",component:ni}),r.createElement(l.b,{from:"/data/settings",to:"/config"}),r.createElement(l.c,{path:"/guest/conversations/:environment/:chatToken",component:ba}),r.createElement(l.c,{path:"/login",component:ca}),r.createElement(l.c,{path:"/enterprise-login/:singleUseToken",component:ca}),r.createElement(l.b,{to:"/conversations"}))))))))))))})),li)},152:function(e,t,n){"use strict";var r=n(13),a=n(0),o=n(3),c=n(16),i=Object(r.default)(o.Box).withConfig({displayName:"Ellipsis",componentId:"xogpw5-0"})([""," text-overflow:ellipsis;overflow:hidden;white-space:nowrap;"],c.maxWidth);i.defaultProps={as:"div"},t.a=a.memo(i)},166:function(e,t,n){"use strict";n.d(t,"a",(function(){return x}));var r=n(14),a=n(7),o=n(13),c=n(0),i=n(50),s=(n(616),n(45)),l=n(276),u=n(6),d=n(22),f=n(3),p=n(422),m=n(216),b=n.n(m),h=n(40),g=n(1);function v(e){var t=e.actions,n=e.onChangeSelected,r=e.resource,a=e.selected,o=e.total;return c.createElement(f.Flex,{bg:"primary_2",width:"100%",alignItems:"center",alignSelf:"stretch"},c.createElement(f.Box,{className:"ReactVirtualized__Table__rowColumn",flex:"0 1 auto"},c.createElement(f.Flex,{alignItems:"center"},c.createElement(f.Box,{flex:"0 1 auto",mr:3},c.createElement("label",null,c.createElement(g.f,{variant:"primary",checked:!0,partial:a<o,onChange:function(){return n([])}}))),c.createElement(f.Box,{flex:"1"},c.createElement(g.y,{variant:"bodySecondary",fontWeight:1,color:"neutral_0"},Object(h.toLower)(Object(h.startCase)(b()(r.toString(),a,!0)))," selected")))),c.createElement(f.Box,{flex:"1 0"}),c.createElement(f.Box,{className:"ReactVirtualized__Table__rowColumn",flex:"0 1 auto"},t))}function y(e){var t=e.add,n=e.tableDimensions,r=e.adding,a=e.bulkActions,o=e.buttons,s=void 0===o?[]:o,l=e.disableLabels,m=e.filters,b=void 0===m?function(){return null}:m,h=e.filtersOpen,g=e.highlightAddRenderer,y=e.onChangeFiltersOpen,E=e.onChangeSelected,x=e.onSearch,O=e.onSetAdding,j=e.quickFilters,C=e.resource,S=e.searchQuery,w=void 0===S?"":S,k=e.selected,T=e.title,R=e.total,A=Object(d.a)(e,["add","tableDimensions","adding","bulkActions","buttons","disableLabels","filters","filtersOpen","highlightAddRenderer","onChangeFiltersOpen","onChangeSelected","onSearch","onSetAdding","quickFilters","resource","searchQuery","selected","title","total"]),_=A.className,I=A.style,F=c.useCallback((function(e){return k.length>0?c.createElement(f.Box,Object.assign({},e,{style:Object(u.a)({},e.style,{height:"64px"})}),c.createElement(v,{total:R,selected:k.length,onChangeSelected:E,resource:C,actions:a})):t&&r?c.createElement(f.Box,Object.assign({},e,{style:Object(u.a)({},g&&{backgroundColor:"#F6F7FB"},{},e.style,{height:"auto",minHeight:e.style.height,overflow:"visible"},l?{position:"absolute",top:"unset",zIndex:1,display:"flex"}:{})}),t((function(){return O(!1)}),n)):l?null:Object(i.h)(e)}),[k,R,E,C,a,t,n,r,O,l,g]);return c.createElement(c.Fragment,null,c.createElement(p.a,{adding:r,buttons:s,className:_,filters:b,filtersOpen:h,onChangeFiltersOpen:y,onSearch:x,resource:C,searchQuery:w,setAdding:t&&O,style:Object(u.a)({},I,{height:56}),title:T,total:R,quickFilters:j,quickFiltersStyle:Object(u.a)({},I,{height:"auto"})}),c.createElement(F,Object.assign({},A,{style:Object(u.a)({},I,{height:64}),className:"".concat(A.className," ReactVirtualized__Dimmable").concat(h?"_Dim":"")})))}var E=c.memo(Object(o.default)(i.g).withConfig({displayName:"Table__StyledTable",componentId:"sc-1s86f98-0"})(["& .ReactVirtualized{&__Dimmable{&,&_Dim{","}&_Dim{filter:brightness(0.5);}}&__Table{&__header{&Row{&:first-of-type{border-radius:"," "," 0 0;}padding:0 !important;background-color:",";text-transform:none;}&TruncatedText{text-transform:none;font-size:","px;color:",";}}&__headerRow,&__row{background-color:",";box-sizing:border-box;border-bottom:1px solid ",";}&__Grid{background-color:",";outline:none;border-radius:0 0 "," ",";}&__headerColumn:first-of-type,&__rowColumn:first-of-type{margin-left:","px;}&__headerColumn:last-of-type,&__rowColumn:last-of-type{margin-right:","px;}&__row{transition:all ease 0.2s;&ColumnOnHover{visibility:hidden;}&Column_overflow{overflow:visible !important;}&:hover{background-color:",";}&_focused{background-color:"," !important;}&_focused,&:hover{& .ReactVirtualized__Table__rowColumnOnHover{visibility:visible;}}}}}"],l.a,Object(s.a)("radii.large"),Object(s.a)("radii.large"),Object(s.a)("colours.neutral_0"),Object(s.a)("fontSizes.2"),Object(s.a)("colours.neutral_8"),Object(s.a)("colours.neutral_0"),Object(s.a)("colours.neutral_2"),Object(s.a)("colours.neutral_1"),Object(s.a)("radii.large"),Object(s.a)("radii.large"),Object(s.a)("space.4"),Object(s.a)("space.4"),Object(s.a)("colours.neutral_1"),Object(s.a)("colours.neutral_0")));function x(e){var t=e.addRenderer,n=e.autoHeight,o=e.bulkActionsRenderer,s=e.buttons,l=void 0===s?[]:s,u=e.children,d=e.clearCache,f=e.data,p=e.deferredMeasurementCache,m=e.disableDimmable,b=e.disableHeader,h=e.disableLabels,g=e.filtersRenderer,v=e.focused,x=e.gridStyle,O=e.groupedTotal,j=e.headerHeight,C=e.headerStyle,S=e.highlightAddRenderer,w=e.noRowsRenderer,k=e.onLoadMoreRows,T=e.onSearch,R=e.overscanRowCount,A=e.quickFilters,_=e.resource,I=e.rowHeight,F=e.rowStyle,U=e.searchQuery,N=e.scrollToIndex,L=e.title,D=e.total,M=e.forwardedRef,P=c.useRef(null),B=c.useState(!1),H=Object(a.a)(B,2),q=H[0],G=H[1],V=c.useState([]),z=Object(a.a)(V,2),W=z[0],Y=z[1],K=c.useState(!1),Q=Object(a.a)(K,2),X=Q[0],Z=Q[1],J=c.useCallback((function(e,t){Y((function(n){return t?[].concat(Object(r.a)(n),[e]):n.filter((function(t){return t!==e}))}))}),[Y]),$=c.useMemo((function(){return W.map((function(e){return f[e]}))}),[W,f]),ee=c.useCallback((function(e){var t=e.startIndex,n=e.stopIndex;return k?k({search:U||"",offset:t,limit:n-t+1}):new Promise((function(e){return e()}))}),[U,k]),te=c.useCallback((function(){P.current&&P.current.resetLoadMoreRowsCache()}),[P]),ne=c.useMemo((function(){return o&&o({setSelected:Y,selected:W,dataSelected:$})}),[o,Y,W,$]),re=c.useMemo((function(){return void 0!==j?j:(A?56:0)+(T||ne?56:0)+64}),[j,A,T,ne]),ae=c.useMemo((function(){return m||!X&&!q?"ReactVirtualized__Dimmable":"ReactVirtualized__Dimmable_Dim"}),[m,X,q]),oe=c.useCallback((function(){return w&&w(X,Z)}),[w,X,Z]);return c.createElement(i.a,{onResize:d},(function(e){return c.createElement(i.e,{isRowLoaded:function(e){var t=e.index;return void 0!==f[t]},loadMoreRows:ee,rowCount:D,ref:P},(function(r){var a=r.onRowsRendered,o=r.registerChild;return c.createElement(E,Object.assign({},e,{gridStyle:x,disableHeader:!!b,headerHeight:re,rowHeight:I||64,ref:M||o,rowGetter:function(e){var t=e.index;return f[t]},rowCount:D,scrollToIndex:N,overscanRowCount:R,autoHeight:n,onRowsRendered:a,noRowsRenderer:oe,gridClassName:ae,rowClassName:function(e){var t=e.index;return W.includes(t)?"ReactVirtualized__Table__row_selected":v===t?"ReactVirtualized__Table__row_focused":void 0},rowStyle:function(e){var t=e.index;return C&&-1===t?C:F&&-1!==t?F({index:t}):void 0},headerRowRenderer:function(n){return c.createElement(y,Object.assign({add:t,tableDimensions:e,bulkActions:ne,buttons:l,highlightAddRenderer:S,filters:g,filtersOpen:q,onChangeFiltersOpen:G,onChangeSelected:Y,onSearch:T,quickFilters:A,resource:_,searchQuery:U,selected:W,title:L,total:O||D,adding:X,disableLabels:h,onSetAdding:Z},n))}}),u({onChangeSelected:J,selected:W,dataSelected:$,onResetCache:te,cache:p}))}))}))}},169:function(e,t,n){e.exports=n.p+"static/media/nlu_training_placeholder.23a1172e.svg"},17:function(e,t,n){"use strict";n.d(t,"h",(function(){return a})),n.d(t,"g",(function(){return o})),n.d(t,"i",(function(){return c})),n.d(t,"k",(function(){return i})),n.d(t,"m",(function(){return s})),n.d(t,"l",(function(){return l})),n.d(t,"o",(function(){return u})),n.d(t,"d",(function(){return d})),n.d(t,"p",(function(){return f})),n.d(t,"j",(function(){return p})),n.d(t,"f",(function(){return m})),n.d(t,"c",(function(){return b})),n.d(t,"e",(function(){return h})),n.d(t,"n",(function(){return g})),n.d(t,"b",(function(){return v})),n.d(t,"a",(function(){return y}));var r=n(2),a=Object(r.createAsyncAction)("FETCH EXAMPLES","FETCH EXAMPLES SUCCESS","FETCH EXAMPLES FAILURE")(),o=Object(r.createAsyncAction)("FETCH EXAMPLE","FETCH EXAMPLE SUCCESS","FETCH EXAMPLE FAILURE")(),c=Object(r.createAsyncAction)("FETCH INTENTS","FETCH INTENTS SUCCESS","FETCH INTENTS FAILURE")(),i=Object(r.createAsyncAction)("SAVE EXAMPLE","SAVE EXAMPLE SUCCESS","SAVE EXAMPLE FAILURE")(),s=Object(r.createAsyncAction)("SAVE EXAMPLE FROM SUGGESTION","SAVE EXAMPLE FROM SUGGESTION SUCCESS","SAVE EXAMPLE FROM SUGGESTION FAILURE")(),l=Object(r.createAsyncAction)("SAVE EXAMPLE FROM CORRECTION","SAVE EXAMPLE FROM CORRECTION SUCCESS","SAVE EXAMPLE FROM CORRECTION FAILURE")(),u=Object(r.createAsyncAction)("UPDATE EXAMPLE","UPDATE EXAMPLE SUCCESS","UPDATE EXAMPLE FAILURE")(),d=Object(r.createAsyncAction)("DELETE EXAMPLE","DELETE EXAMPLE SUCCESS","DELETE EXAMPLE FAILURE")(),f=Object(r.createAsyncAction)("UPLOAD EXAMPLES","UPLOAD EXAMPLES SUCCESS","UPLOAD EXAMPLES FAILURE")(),p=Object(r.createAsyncAction)("FETCH WARNINGS","FETCH WARNINGS SUCCESS","FETCH WARNINGS FAILURE")(),m=Object(r.createAsyncAction)("FETCH ENTITY TYPES","FETCH ENTITY TYPES SUCCESS","FETCH ENTITY TYPES FAILURE")(),b=Object(r.createAsyncAction)("CHECK DRAFT EXAMPLE","CHECK DRAFT EXAMPLE SUCCESS","CHECK DRAFT EXAMPLE FAILURE")(),h=Object(r.createStandardAction)("DOWNLOAD EXAMPLES")(),g=Object(r.createStandardAction)("SEARCH EXAMPLES")(),v=Object(r.createStandardAction)("CHANGE EXAMPLE")(),y=Object(r.createStandardAction)("CHANGE CORRECTION")()},189:function(e,t,n){"use strict";var r=n(13),a=n(3),o=n(16),c=Object(r.default)(a.Flex).withConfig({displayName:"Menu",componentId:"hqn2o1-0"})([""," list-style:none;"],o.height);c.defaultProps={as:"ul",m:0,pl:0,flexDirection:"row"},t.a=c},20:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(5),a=n(28);function o(e){var t=e.response;if(!t)return Object(r.c)();if(401===t.status&&t.data.reasons){var n=t.data.reasons;if(n.includes("Signature has expired."))return Object(r.f)(Object(a.h)("Authentication token expired"));if(n.includes("Auth required."))return Object(r.f)(Object(a.h)("Authentication token invalid"))}return Object(r.c)()}},213:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(2),a=Object(r.createAsyncAction)("FETCH ANALYTICS","FETCH ANALYTICS SUGGEST","FETCH ANALYTICS FAILURE")();Object(r.createStandardAction)("SET ANALYTICS RANGE")()},214:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(2),a=Object(r.createAsyncAction)("FETCH VERSION","FETCH VERSION SUCCESS","FETCH VERSION FAILURE")()},215:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(22),a=n(13),o=n(0),c=n(16),i=n(1),s=n(152),l=Object(c.variant)({prop:"actionVariant",key:"actions"}),u=Object(a.default)(i.y).withConfig({displayName:"Action__ActionBubble",componentId:"zqrxuc-0"})(["",""],l),d=a.default.span.withConfig({displayName:"Action__ConfidenceContainer",componentId:"zqrxuc-1"})(["font-weight:normal;"]);function f(e){var t=e.children,n=e.variant,a=e.confidence,c=(e.ref,Object(r.a)(e,["children","variant","confidence","ref"]));return o.createElement(s.a,null,o.createElement(u,Object.assign({actionVariant:n,variant:"captionSecondary"},c),t,a&&o.createElement(d,null," (",a.toFixed(2),")")))}f.defaultProps={fontSize:0,letterSpacing:0,color:"neutral_6"}},23:function(e,t,n){"use strict";n.d(t,"j",(function(){return b})),n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return g})),n.d(t,"e",(function(){return v})),n.d(t,"f",(function(){return y})),n.d(t,"i",(function(){return E})),n.d(t,"h",(function(){return x})),n.d(t,"g",(function(){return O})),n.d(t,"l",(function(){return j})),n.d(t,"d",(function(){return C})),n.d(t,"m",(function(){return S})),n.d(t,"k",(function(){return w})),n.d(t,"c",(function(){return k}));var r=n(7),a=n(0),o=n(2),c=n(21),i=n(72),s=n(153),l=n(743),u=n(8),d=Object(s.b)(s.c,(function(e,t){return e.length===t.length}))((function(e){return e.permissions}),(function(e){var t=new l.AccessControl(e);return t.grant(u.f),t})),f=n(113),p=n(214),m=n(100),b=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,r=a.useRef(0),o=a.useRef(null),c=a.useCallback((function(){e.apply(null,n),r.current=Date.now()}),[r,e,n]);a.useEffect((function(){o.current&&clearTimeout(o.current);var e=Date.now()-r.current;return e>=t?c():o.current=setTimeout(c,t-e),function(){o.current&&clearTimeout(o.current)}}),[t,c])},h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=a.useRef(null);a.useEffect((function(){return r.current&&clearTimeout(r.current),r.current=setTimeout(e.bind(null,n),t),function(){r.current&&clearTimeout(r.current)}}),[n,e,t])},g=function(e,t,n){var r=a.useCallback((function(r){if(t&&e.current){var a=r.target;if(!e.current.contains(a)){if(n)for(var o=a;null!==o.parentElement;)if(o=o.parentElement,n(o))return;t()}}}),[t,n,e]);a.useEffect((function(){return document.addEventListener("mousedown",r),function(){document.removeEventListener("mousedown",r)}}),[e,t,n,r])};function v(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=Object(c.d)((function(e){return d(e.auth)}));return a.useMemo((function(){return!e&&!t||(Array.isArray(e)?e:[e]).some((function(e){var a=r.permission({role:"current",action:t,resource:e}),o=a.attributes.includes("*")||n.every((function(e){return a.attributes.includes(e)}));return a.granted&&o}))}),[r,e,t,n])}function y(e){var t=a.useMemo((function(){return f.b.createAsyncFunction({start:Object(o.getType)(e.request),resolve:Object(o.getType)(e.success),reject:Object(o.getType)(e.failure)})}),[e.request,e.success,e.failure]),n=t.asyncFunction,r=t.unsubscribe;return a.useEffect((function(){return function(){return r()}}),[r]),n}function E(){var e=Object(c.c)();a.useEffect((function(){e(m.a.request())}),[e]);var t=Object(c.d)((function(e){return e.telemetry}));return{userGroups:t.user_groups,userId:t.user_id}}function x(){var e=Object(c.c)();return a.useCallback((function(t,n){return e(m.c.request({event:t,payload:n}))}),[e])}function O(e,t){var n=Object(i.h)(),r=a.useMemo((function(){return new URLSearchParams(n.search).get(e)}),[n.search,e]);a.useEffect((function(){t(r)}),[t,r])}function j(e){var t=a.useState(e),n=Object(r.a)(t,2),o=n[0],c=n[1],i=a.useCallback((function(){return c((function(e){return!e}))}),[c]);return a.useMemo((function(){return[o,i]}),[o,i])}function C(e){var t=a.useState(!!window.matchMedia(e).matches),n=Object(r.a)(t,2),o=n[0],c=n[1];return a.useEffect((function(){var t=window.matchMedia(e),n=function(){return c(!!t.matches)};return t.addListener(n),n(),function(){t.removeListener(n)}}),[e]),o}function S(){var e=Object(c.c)();a.useEffect((function(){e(p.a.request())}),[e]);var t=Object(c.d)((function(e){return e.application.version}));if(!t)return{};var n=t["rasa-x"],r=t.updates?t.updates["rasa-x"].version:n;return{currentVersion:n,latestVersion:r,changelog:t.updates?t.updates["rasa-x"].changelog_url:void 0,updateAvailable:n!==r}}function w(e){var t=a.useState(!1),n=Object(r.a)(t,2),o=n[0],c=n[1];return[o,a.useCallback((function(t){c(!0),setTimeout((function(){t(),c(!1)}),e)}),[c,e])]}function k(e){var t=a.useState(0),n=Object(r.a)(t,2),o=n[0],c=n[1],i=a.useRef(null),s=a.useCallback((function(e){i.current=e}),[]);return a.useEffect((function(){var e=i.current;if(e){var t=window.getComputedStyle(e),n=t.fontSize,r=t.lineHeight,a=t.paddingBottom,o=t.paddingTop,s=e.rows;e.rows=1;var l="normal"===r?1.2*parseFloat(n):parseFloat(r),u=e.scrollHeight-(parseFloat(a)+parseFloat(o)),d=Math.floor(u/l);e.rows=s,c(d)}}),[e]),{rows:o,setTextarea:s,textarea:i}}},26:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(0),a=n(97);function o(e){var t=Object.assign({},e);return r.createElement(a.a,t)}o.defaultProps={px:3,py:2,maxWidth:320}},27:function(e,t,n){"use strict";n.d(t,"f",(function(){return a})),n.d(t,"e",(function(){return o})),n.d(t,"k",(function(){return c})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return s})),n.d(t,"h",(function(){return l})),n.d(t,"l",(function(){return u})),n.d(t,"j",(function(){return d})),n.d(t,"d",(function(){return f})),n.d(t,"i",(function(){return p})),n.d(t,"g",(function(){return m})),n.d(t,"c",(function(){return b}));var r=n(2),a=Object(r.createAsyncAction)("FETCH MODELS","FETCH MODELS SUCCESS","FETCH MODELS FAILURE")(),o=Object(r.createAsyncAction)("FETCH HEALTH","FETCH HEALTH SUCCESS","FETCH HEALTH FAILURE")(),c=Object(r.createAsyncAction)("TRAIN MODEL","TRAIN MODEL SUCCESS","TRAIN MODEL FAILURE")(),i=Object(r.createAsyncAction)("DELETE MODEL","DELETE MODEL SUCCESS","DELETE MODEL FAILURE")(),s=Object(r.createAsyncAction)("ADD MODEL ENVIRONMENT","ADD MODEL ENVIRONMENT SUCCESS","ADD MODEL ENVIRONMENT FAILURE")(),l=Object(r.createAsyncAction)("REMOVE MODEL ENVIRONMENT","REMOVE MODEL ENVIRONMENT SUCCESS","REMOVE MODEL ENVIRONMENT FAILURE")(),u=Object(r.createAsyncAction)("UPLOAD MODEL","UPLOAD MODEL SUCCESS","UPLOAD MODEL FAILURE")(),d=Object(r.createStandardAction)("START POLLING HEALTH")(),f=Object(r.createAsyncAction)("FETCH EVALUATION","FETCH EVALUATION SUCCESS","FETCH EVALUATION FAILURE")(),p=Object(r.createStandardAction)("START EVALUATUION")(),m=Object(r.createStandardAction)("FILTER EVALUATION")(),b=Object(r.createAsyncAction)("FETCH ENVIRONMENTS","FETCH ENVIRONMENTS SUCCESS","FETCH ENVIRONMENTS FAILURE")()},276:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return d}));var r=n(33),a=n(13),o=n(0),c=n(3);function i(){var e=Object(r.a)(["\n      filter: brightness(0.5);\n    "]);return i=function(){return e},e}function s(){var e=Object(r.a)(["\n  &:after {\n    content: '';\n    opacity: 0.9;\n    background-color: #f6f7fb;\n    position: absolute;\n    width: 100%;\n    height: 100vw;\n    z-index: 99;\n    top: 100%;\n  }\n"]);return s=function(){return e},e}function l(){var e=Object(r.a)(["\n  transition: filter 0.2s linear;\n  filter: brightness(1);\n  background-color: #fffffe; /* Slightly off-white so it is always darkened by the filter*/\n"]);return l=function(){return e},e}var u=Object(a.css)(l()),d=Object(a.css)(s()),f=Object(a.default)(c.Box).withConfig({displayName:"Dimmable",componentId:"g9xzpg-0"})([""," ",""],u,(function(e){return e.dim&&Object(a.css)(i())}));o.memo(f)},279:function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));var r=n(0),a=n(67),o=n.n(a),c=n(18),i=n(1),s=n(8),l=n(30),u=n(215),d=n(415),f=n(89),p=n.n(f),m=n(57);function b(e){var t=e.reverseAlign,n=e.variant,a=e.style,o=e.customContent;return r.createElement(i.n,{reverseAlign:t,variant:n,style:a},r.createElement(m.a,{py:3,px:"20px",sx:{fontSize:1},bottom:!0},r.createElement("strong",null,"Custom output payload:")),r.createElement(i.y,{pt:2,pb:3,px:"20px",sx:{whiteSpace:"pre",textOverflow:"initial",overflowX:"scroll",fontSize:0},variant:"code"},p.a.dump(o)))}var h=n(101),g=n(137),v=n(752),y=n.n(v),E=n(753),x=n.n(E);function O(e){var t=e.children;return r.createElement("span",null,t)}function j(e){var t=e.children,n=e.href;return r.createElement("a",{href:n,onClick:function(e){return e.stopPropagation()},rel:"noopener noreferrer",target:"_blank",style:{overflowWrap:"break-word"}},t)}function C(e){var t=e.text;return e.markdown?r.createElement(y.a,{source:t,skipHtml:!1,allowedTypes:["text","root","break","paragraph","emphasis","strong","link","list","listItem","image"],renderers:{paragraph:O,link:j},plugins:[x.a]}):r.createElement(O,null,t)}var S=n(26);function w(e){var t=e.confidence,n=(e.confidenceFilter,e.children),a=e.data,f=e.flagged,p=e.formatted,m=e.highlighted,v=e.last,y=e.onFlagMessage,E=e.onUndoMessage,x=e.onMessageButtonClick,O=e.optimistic,j=e.text,w=e.timestamp,k=e.user,T=e.userAvatar,R=e.interactive,A=e.selected,_=r.useCallback((function(){}),[]),I=!!k||!!O,F=r.useMemo((function(){return k?T?r.createElement(i.b,{variant:"medium"},T):R?r.createElement(i.b,{variant:"medium",username:k}):r.createElement(i.b,{variant:"medium",bg:"neutral_3"},r.createElement(i.j,{fontSize:14,icon:["fas","user"]})):r.createElement(i.b,{variant:"medium"},r.createElement(i.j,{icon:["fas","robot"]}))}),[k,T,R]),U=r.useMemo((function(){return f?"flagged":m&&!I?"neutral":I?"primary":"secondary"}),[f,m,I]),N=!!y;return r.createElement(r.Fragment,null,r.createElement(g.a,{flexDirection:k?"row-reverse":"row",alignItems:"end"},r.createElement(c.d,{sx:{flexShrink:0}},F),r.createElement(c.d,{justifyContent:k?"flex-end":"flex-start",mx:2,width:["calc(100% - 100px)","auto","auto"]},r.createElement(S.a,{disabled:!w,content:w&&o.a.unix(w).format("h:mm a, D MMM YYYY"),placement:k?"right":"left",py:"10px",offset:[0,8]},r.createElement(c.d,{flexDirection:"column",style:{maxWidth:"320px"}},a&&a.image&&r.createElement(i.k,{onLoad:_,src:a.image,width:1,sx:{borderRadius:"16px 16px 0 0"}}),!j&&!a&&!n&&r.createElement(i.n,{reverseAlign:I,variant:U},r.createElement(i.y,{sx:{color:"neutral_6",fontStyle:"italic"}},"There is no response text here")),(j||n)&&r.createElement(i.n,{"data-qa":"conversation-message-bubbles_div",style:a&&a.image?{borderRadius:"0 0 16px 16px"}:{},reverseAlign:I,variant:U},j&&r.createElement(C,{text:j,markdown:!k}),n),a&&a.custom&&r.createElement(b,{reverseAlign:I,variant:"custom",style:j?{marginTop:"8px"}:{},customContent:a.custom}),a&&a.attachment&&!a.custom&&!a.image&&r.createElement(i.n,{reverseAlign:I,variant:U,style:j?{marginTop:"8px",width:"auto"}:{width:"auto"}},r.createElement(i.y,{sx:{color:"neutral_6",fontSize:"14px",fontStyle:"italic"}},r.createElement(i.j,{icon:["fal","paperclip"],color:"neutral_6",fontSize:"12px",mr:1}),a.attachment)),r.createElement(i.o,{buttons:a&&a.buttons,onClick:v?x:null})))),k&&N&&r.createElement(h.b,{alignSelf:"center",show:A},r.createElement(S.a,{content:A?"Annotating message: You are viewing details about this message on the right.":"Incorrect intent? Annotate this message"},r.createElement(i.d,Object.assign({variant:"plainIcon",onClick:function(e){}},A&&{color:"neutral_7"}),r.createElement(i.j,{icon:"highlighter",fontSize:3})))),y&&w&&r.createElement(h.b,{show:f,alignSelf:"center"},r.createElement(S.a,{content:"Something went wrong? Flag this message to find it easily later"},r.createElement(i.d,Object.assign({variant:"plainIcon",onClick:function(e){e.stopPropagation(),y(w,!f)}},f&&{color:"secondary_2"}),r.createElement(i.j,{icon:["fas","flag-alt"]})))),E&&w&&r.createElement(h.b,{show:!1,alignSelf:"center"},r.createElement(d.a,{onClick:function(){return E(w)}}))),r.createElement(l.a,{resource:s.d.Stories,action:s.a.Read,yes:k&&p?r.createElement(c.d,{flexDirection:"row-reverse",mt:2,mr:7},r.createElement(c.a,null,r.createElement(S.a,{content:"Intent and Confidence",placement:"bottom"},r.createElement(u.a,{confidence:t},p)))):null}))}w.defaultProps={data:null,text:null,children:null,highlighted:!1,selected:!1,user:!1,optimistic:!1,onMessageButtonClick:null,last:!1}},28:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return c})),n.d(t,"i",(function(){return i})),n.d(t,"g",(function(){return s})),n.d(t,"e",(function(){return l})),n.d(t,"c",(function(){return u})),n.d(t,"f",(function(){return d})),n.d(t,"h",(function(){return f}));var r=n(2),a=Object(r.createAsyncAction)("CREATE ENTERPRISE USER","CREATE ENTERPRISE USER SUCCESS","CREATE ENTERPRISE USER FAILURE")(),o=Object(r.createAsyncAction)("CHANGE PASSWORD","CHANGE PASSWORD SUCCESS","CHANGE PASSWORD FAILURE")(),c=Object(r.createAsyncAction)("FETCH FEATURES","FETCH FEATURES SUCCESS","FETCH FEATURES FAILURE")(),i=Object(r.createAsyncAction)("SAVE FEATURE","SAVE FEATURE SUCCESS","SAVE FEATURE FAILURE")(),s=Object(r.createAsyncAction)("LOGIN","LOGIN SUCCESS","LOGIN FAILURE")(),l=Object(r.createAsyncAction)("FETCH SSO URL","FETCH SSO URL SUCCESS","FETCH SSO URL FAILURE")(),u=Object(r.createAsyncAction)("FETCH ENTERPRISE TOKEN","FETCH ENTERPRISE TOKEN SUCCESS","FETCH ENTERPRISE TOKEN FAILURE")(),d=Object(r.createAsyncAction)("FETCH TEMPORARY ACCESS TOKEN","FETCH TEMPORARY ACCESS TOKEN SUCCESS","FETCH TEMPORARY ACCESS TOKEN FAILURE")(),f=Object(r.createStandardAction)("LOGOUT")()},30:function(e,t,n){"use strict";var r=n(23);t.a=function(e){var t=e.resource,n=e.action,a=e.attributes,o=void 0===a?[]:a,c=e.yes,i=void 0===c?null:c,s=e.no;return Object(r.e)(t,n,o)?i:s||null}},31:function(e,t,n){"use strict";n.d(t,"g",(function(){return a})),n.d(t,"h",(function(){return o})),n.d(t,"b",(function(){return c})),n.d(t,"i",(function(){return i})),n.d(t,"d",(function(){return s})),n.d(t,"f",(function(){return l})),n.d(t,"e",(function(){return u})),n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return f}));var r=n(2),a=Object(r.createAsyncAction)("FETCH REGEX","FETCH REGEX SUCCESS","FETCH REGEX FAILURE")(),o=Object(r.createAsyncAction)("FETCH REGEXES","FETCH REGEXES SUCCESS","FETCH REGEXES FAILURE")(),c=Object(r.createAsyncAction)("CREATE REGEX","CREATE REGEX SUCCESS","CREATE REGEX FAILURE")(),i=Object(r.createAsyncAction)("UPDATE REGEX","UPDATE REGEX SUCCESS","UPDATE REGEX FAILURE")(),s=Object(r.createAsyncAction)("DELETE REGEX","DELETE REGEX SUCCESS","DELETE REGEX FAILURE")(),l=Object(r.createAsyncAction)("FETCH LOOKUP TABLES","FETCH LOOKUP TABLES SUCCESS","FETCH LOOKUP TABLES FAILURE")(),u=Object(r.createAsyncAction)("FETCH LOOKUP TABLE","FETCH LOOKUP TABLE SUCCESS","FETCH LOOKUP TABLE FAILURE")(),d=Object(r.createAsyncAction)("CREATE LOOKUP TABLE","CREATE LOOKUP TABLE SUCCESS","CREATE LOOKUP TABLE FAILURE")(),f=Object(r.createAsyncAction)("DELETE LOOKUP TABLE","DELETE LOOKUP TABLE SUCCESS","DELETE LOOKUP TABLE FAILURE")()},32:function(e,t,n){"use strict";n.d(t,"e",(function(){return a})),n.d(t,"g",(function(){return o})),n.d(t,"c",(function(){return c})),n.d(t,"j",(function(){return i})),n.d(t,"d",(function(){return s})),n.d(t,"f",(function(){return l})),n.d(t,"h",(function(){return u})),n.d(t,"i",(function(){return d})),n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return p}));var r=n(2),a=Object(r.createAsyncAction)("FETCH GIT REPOSITORIES","FETCH GIT REPOSITORIES SUCCESS","FETCH GIT REPOSITORIES FAILURE")(),o=Object(r.createAsyncAction)("FETCH SSH KEY","FETCH SSH KEY SUCCESS","FETCH SSH KEY FAILURE")(),c=Object(r.createAsyncAction)("CONNECT GIT REPOSITORY","CONNECT GIT REPOSITORY SUCCESS","CONNECT GIT REPOSITORY FAILURE")(),i=Object(r.createAsyncAction)("UPDATE GIT REPOSITORY","UPDATE GIT REPOSITORY SUCCESS","UPDATE GIT REPOSITORY FAILURE")(),s=Object(r.createAsyncAction)("DELETE GIT REPOSITORY","DELETE GIT REPOSITORY SUCCESS","DELETE GIT REPOSITORY FAILURE")(),l=Object(r.createAsyncAction)("FETCH GIT REPOSITORY STATUS","FETCH GIT REPOSITORY STATUS SUCCESS","FETCH GIT REPOSITORY STATUS FAILURE")(),u=Object(r.createStandardAction)("START POLLING STATUS")(),d=Object(r.createStandardAction)("STOP POLLING STATUS")(),f=Object(r.createAsyncAction)("COMMIT GIT CHANGES","COMMIT GIT CHANGES SUCCESS","COMMIT GIT CHANGES FAILURE")(),p=Object(r.createAsyncAction)("DISCARD GIT CHANGES","DISCARD GIT CHANGES SUCCESS","DISCARD GIT CHANGES FAILURE")()},34:function(e,t,n){"use strict";n.d(t,"h",(function(){return a})),n.d(t,"l",(function(){return o})),n.d(t,"j",(function(){return c})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return s})),n.d(t,"k",(function(){return l})),n.d(t,"i",(function(){return u})),n.d(t,"c",(function(){return d})),n.d(t,"f",(function(){return f})),n.d(t,"e",(function(){return p})),n.d(t,"d",(function(){return m})),n.d(t,"g",(function(){return b}));var r=n(2),a=Object(r.createAsyncAction)("CREATE INTERACTIVE LEARNING CONVERSATION","CREATE INTERACTIVE LEARNING CONVERSATION SUCCESS","CREATE INTERACTIVE LEARNING CONVERSATION FAILURE")(),o=Object(r.createStandardAction)("UNDO INTERACTIVE LEARNING CONVERSATION")(),c=Object(r.createAsyncAction)("PARSE MESSAGE FOR INTERACTIVE LEARNING","PARSE MESSAGE FOR INTERACTIVE LEARNING SUCCESS","PARSE MESSAGE FOR INTERACTIVE LEARNING FAILURE")(),i=Object(r.createStandardAction)("CHANGE PARSED MESSAGE")(),s=Object(r.createStandardAction)("CANCEL PARSED MESSAGE")(),l=Object(r.createAsyncAction)("SAVE EVENT","SAVE EVENT SUCCESS","SAVE EVENT FAILURE")(),u=Object(r.createAsyncAction)("FETCH INTERACTIVE LEARNING PREDICTION","FETCH INTERACTIVE LEARNING PREDICTION SUCCESS","FETCH INTERACTIVE LEARNING PREDICTION FAILURE")(),d=Object(r.createStandardAction)("CHANGE PREDICTION")(),f=Object(r.createAsyncAction)("CONFIRM PREDICTION","CONFIRM PREDICTION SUCCESS","CONFIRM PREDICTION FAILURE")(),p=Object(r.createAction)("CLEAR INTERACTIVE LEARNING",(function(e){return function(t){return e(t)}})),m=Object(r.createStandardAction)("CHANGE STRICT MODE")(),b=Object(r.createAsyncAction)("CREATE ACTION","CREATE ACTION SUCCESS","CREATE ACTION FAILURE")()},38:function(e,t,n){"use strict";n.d(t,"f",(function(){return a})),n.d(t,"g",(function(){return o})),n.d(t,"i",(function(){return c})),n.d(t,"m",(function(){return i})),n.d(t,"d",(function(){return s})),n.d(t,"n",(function(){return l})),n.d(t,"j",(function(){return u})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return f})),n.d(t,"a",(function(){return p})),n.d(t,"h",(function(){return m})),n.d(t,"e",(function(){return b})),n.d(t,"k",(function(){return h})),n.d(t,"l",(function(){return g}));var r=n(2),a=Object(r.createAsyncAction)("FETCH STORIES","FETCH STORIES SUCCESS","FETCH STORIES FAILURE")(),o=Object(r.createAsyncAction)("FETCH STORY VISUALIZATION","FETCH STORY VISUALIZATION SUCCESS","FETCH STORY VISUALIZATION FAILURE")(),c=Object(r.createAsyncAction)("SAVE STORY","SAVE STORY SUCCESS","SAVE STORY FAILURE")(),i=Object(r.createAsyncAction)("UPDATE STORY","UPDATE STORY SUCCESS","UPDATE STORY FAILURE")(),s=Object(r.createAsyncAction)("DELETE STORY","DELETE STORY SUCCESS","DELETE STORY FAILURE")(),l=Object(r.createAsyncAction)("UPLOAD STORIES","UPLOAD STORIES SUCCESS","UPLOAD STORIES FAILURE")(),u=Object(r.createStandardAction)("SEARCH STORIES")(),d=Object(r.createStandardAction)("CHANGE STORY")(),f=Object(r.createStandardAction)("CHANGE STORY SELECTION")(),p=Object(r.createStandardAction)("ADD STORIES")(),m=Object(r.createStandardAction)("REPLACE STORIES")(),b=Object(r.createStandardAction)("DOWNLOAD STORIES")(),h=Object(r.createStandardAction)("SET SHOULD REPLACE STORIES")(),g=Object(r.createStandardAction)("SET STORIES TO CONFIRM")()},390:function(e,t,n){"use strict";var r=n(0),a=n(3),o=n(1);t.a=r.memo((function(e){var t=e.p,n=e.name,c=e.items,i=e.checkedItems,s=e.onChange,l=e.placeholder,u=e.header,d=e.item,f=e.stickyHeader;return r.createElement(a.Flex,{flexDirection:"column",style:{height:"100%",overflow:"hidden"}},r.createElement(a.Box,{p:t,pb:0},u?u():r.createElement(o.i,{variant:"h4"},n," (",c.length,")")),r.createElement(a.Box,{px:t,pt:1,style:{height:"100%",overflow:f?"scroll":"auto"}},0===c.length&&l,c.map((function(e){var t=i.indexOf(e);return r.createElement(a.Flex,{key:e,as:"label",my:20,alignItems:"center"},r.createElement(o.f,{onChange:function(){return s(t>=0?i.slice(0,t).concat(i.slice(t+1)):i.concat([e]))},checked:t>=0}),d?d({item:e}):r.createElement(o.y,{ml:"12px",variant:"bodySecondary",lineHeight:"inherit"},e))}))))}))},411:function(e,t,n){"use strict";n.d(t,"a",(function(){return S}));var r=n(7),a=n(4),o=n.n(a),c=n(2),i=n(5),s=n(209),l=n(67),u=n.n(l),d=n(52),f=n(10),p=n(20),m=n(11),b=n(12),h=n(59),g=n(34),v=n(114),y=o.a.mark(w),E=o.a.mark(k),x=o.a.mark(R),O=o.a.mark(A),j=o.a.mark(Y),C=o.a.mark(K),S=function(e){return{isOptimistic:!0,input_channel:null,text:e,timestamp:(new Date).getTime()/1e3,event:"user",is_flagged:!1,parse_data:{entities:[],intent:{name:"",confidence:0},intent_ranking:[],text:e}}};function w(e,t){var n,r,a,c,s,l,d;return o.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return n=t.payload,r=n.filter,a=n.limit,c=n.offset,o.prev=1,o.next=4,Object(i.b)(m.R,e,a,c,r.date.from&&u()(r.date.from).toISOString(),r.date.to&&u()(r.date.to).toISOString(),r.coreConfidence,r.nluConfidence,r.minimumMessages,r.intents,r.entities,r.actions,r.reviewStatus,r.slots,r.tags,r.policies,r.channels,r.flaggedOnly,r.storiesNotRecognised);case 4:return s=o.sent,l=s.total,d=s.conversations,o.next=9,Object(i.f)(b.q.success({total:l,conversations:d,offset:c}));case 9:o.next=17;break;case 11:return o.prev=11,o.t0=o.catch(1),o.next=15,Object(p.a)(o.t0);case 15:return o.next=17,Object(i.f)(b.q.failure(o.t0));case 17:case"end":return o.stop()}}),y,null,[[1,11]])}function k(e,t){var n,r,a,c,s,l;return o.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return n=t.payload,r=n.conversationId,a=n.environment,c=n.until,s=n.since,o.prev=1,o.next=4,Object(i.b)(m.Q,e,r,a,c,s);case 4:return l=o.sent,o.next=7,Object(i.f)(b.h.success({conversation:l,partial:!!s&&s>0}));case 7:o.next=15;break;case 9:return o.prev=9,o.t0=o.catch(1),o.next=13,Object(p.a)(o.t0);case 13:return o.next=15,Object(i.f)(b.h.failure(o.t0));case 15:case"end":return o.stop()}}),E,null,[[1,9]])}var T=Object(h.a)(m.ub,b.s);function R(e,t){var n,r,a,c,s;return o.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return n=t.payload,r=n.text,a=n.senderId,c=n.environment,s=S(r),o.prev=2,o.next=5,Object(i.b)(m.Sb,e,a,s.text,c);case 5:return o.next=7,Object(i.f)(b.x.success({message:s,senderId:a,environment:c}));case 7:o.next=15;break;case 9:return o.prev=9,o.t0=o.catch(2),o.next=13,Object(p.a)(o.t0);case 13:return o.next=15,Object(i.f)(b.x.failure({error:o.t0,message:s,senderId:a}));case 15:case"end":return o.stop()}}),x,null,[[2,9]])}function A(e,t){var n,r,a,c,l,u;return o.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return n=t.payload,r=n.conversationId,a=n.environment,c=n.timestamp,o.prev=1,o.next=4,Object(i.b)(m.Q,e,r,a,c);case 4:l=o.sent,u=new Blob([JSON.stringify(l)],{type:"application/javascript;charset=utf-8"}),Object(s.saveAs)(u,"".concat(r,"-dump.json")),o.next=15;break;case 9:return o.prev=9,o.t0=o.catch(1),o.next=13,Object(p.a)(o.t0);case 13:return o.next=15,Object(i.f)(b.h.failure(o.t0));case 15:case"end":return o.stop()}}),O,null,[[1,9]])}var _=Object(h.b)(m.m,b.c,(function(e,t){return{conversationId:t.conversationId}}),(function(e){return[e.conversationId]})),I=Object(h.a)(m.L,b.l),F=Object(h.a)(m.K,b.k),U=Object(h.a)(m.I,b.i),N=Object(h.a)(m.M,b.m),L=Object(h.a)(m.J,b.j),D=Object(h.b)(m.H,b.g,h.c,(function(e){return[e.botName,e.description]})),M=Object(h.a)(m.G,b.f),P=Object(h.b)(m.Gb,b.t,(function(e,t){return{conversationId:t.conversationId,timestamp:t.timestamp}}),(function(e){return[e.conversationId,e.timestamp]})),B=Object(h.b)(m.hc,b.B,(function(e,t){return{conversationId:t.conversationId,timestamp:t.timestamp}}),(function(e){return[e.conversationId,e.timestamp]})),H=Object(h.b)(m.nc,b.C,(function(e,t){return{conversationId:t.conversationId,status:t.status}}),(function(e){return[e.conversationId,e.status]})),q=Object(h.a)(m.P,b.p),G=Object(h.b)(m.Mb,b.u,(function(e,t){return{conversationId:t.conversationId,tags:e}}),(function(e){return[e.conversationId,e.tags]})),V=Object(h.b)(m.n,b.d,(function(e,t){return{conversationId:t.conversationId,tag:t.tag}}),(function(e){return[e.conversationId,e.tag]})),z=Object(h.a)(m.N,b.n),W=Object(h.b)(m.O,b.o,h.c,(function(e){return[e.slot,e.q]}));function Y(e){var t,n,a,s,l,u,f,p,m,h,v,y,E;return o.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.payload,n=t.conversationId,a=t.environment,s=t.guest,o.next=3,Object(i.h)((function(e){var t=e.messages.conversationEvents[n];return t?t[t.length-1].timestamp:0}));case 3:l=o.sent,u=s?b.r:b.h.request;case 5:return o.next=8,Object(i.f)(u({conversationId:n,environment:a,since:l}));case 8:return o.next=10,Object(i.i)([Object(c.getType)(b.h.success),Object(c.getType)(b.h.failure)]);case 10:return(f=o.sent).type===Object(c.getType)(b.h.success)&&(p=f.payload.conversation.events).length>0&&(l=p[p.length-1].timestamp),o.next=14,Object(i.h)((function(e){return[e.interactiveLearning.conversationId,e.interactiveLearning.strictMode]}));case 14:if(m=o.sent,h=Object(r.a)(m,2),v=h[0],y=h[1],v!==n||!y){o.next=23;break}return o.next=21,Object(i.g)({userMessage:Object(i.i)(Object(c.getType)(b.x.success)),botMessage:Object(i.i)(Object(c.getType)(g.f.success)),refresh:Object(i.d)(d.e)});case 21:o.next=28;break;case 23:return o.next=25,Object(i.h)((function(e){return e.messages.awaitingResponse}));case 25:return E=o.sent,o.next=28,Object(i.d)(E?d.c:d.e);case 28:o.next=5;break;case 30:case"end":return o.stop()}}),j)}function K(e){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(i.g)({poll:Object(i.b)(Y,e),stop:Object(i.i)(Object(c.getType)(b.A))});case 2:case"end":return t.stop()}}),C)}var Q=Object(h.b)(m.Ob,b.v);t.b=[Object(f.b)(b.x.request,R),Object(f.c)(b.w,R),Object(f.b)(b.h.request,k),Object(f.b)(b.c.request,_),Object(f.c)(b.r,k),Object(f.b)(b.s.request,T),Object(f.b)(b.q.request,w),Object(f.b)(b.e,A),Object(f.b)(b.l.request,I),Object(f.b)(b.k.request,F),Object(f.b)(b.i.request,U),Object(f.b)(b.m.request,N),Object(f.b)(b.j.request,L),Object(f.b)(b.g.request,D),Object(f.c)(b.f.request,M),Object(f.b)(b.t.request,P),Object(f.b)(b.B.request,B),Object(f.b)(b.C.request,H),Object(f.b)(b.p.request,q),Object(f.b)(b.u.request,G),Object(f.b)(b.d.request,V),Object(f.b)(b.n.request,z),Object(f.b)(b.o.request,W),Object(f.b)(b.v.request,Q),Object(f.a)(Object(c.getType)(b.z),K,!1,!0),Object(f.a)(Object(c.getType)(b.v.success),v.b)]},415:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(0),a=n(1);function o(e){var t=e.onClick;return r.createElement(a.d,{variant:"secondary",onClick:t},"Correct this")}},417:function(e,t,n){e.exports=n.p+"static/media/conversations_placeholder.6ff85dae.svg"},418:function(e,t,n){e.exports=n.p+"static/media/models_placeholder.af83e9db.svg"},419:function(e,t,n){"use strict";var r=n(33),a=n(13),o=n(0),c=n(1),i=n(99);function s(){var e=Object(r.a)(["\n            transform: scaleX(0);\n            opacity: 0;\n          "]);return s=function(){return e},e}function l(){var e=Object(r.a)(["\n            transform: scaleX(1);\n            opacity: 1;\n          "]);return l=function(){return e},e}var u=Object(a.default)((function(e){return o.createElement(c.i,Object.assign({as:"li"},e))})).withConfig({displayName:"Tab",componentId:"sc-15w7qyw-0"})(["position:relative;cursor:pointer;text-align:center;"," "," &:after{content:'';border-radius:2px;width:100%;height:2px;position:absolute;left:0;float:left;bottom:0;"," transition:transform cubic-bezier(0.51,0.92,0.24,1.15) 0.2s;}&:hover:after{display:block;}"],(function(e){return!e.active&&"font-weight: 400;"}),i.a,(function(e){return e.active?Object(a.css)(l()):Object(a.css)(s())}));u.defaultProps={p:3,variant:"h4",afterBg:"primary_2"},t.a=o.memo(u)},422:function(e,t,n){"use strict";n.d(t,"a",(function(){return k}));var r=n(14),a=n(7),o=n(33),c=n(0),i=n(3),s=n(13),l=n(116),u=n.n(l),d=n(216),f=n.n(d),p=n(40),m=n(1),b=n(99),h=n(8),g=n(30),v=n(23),y=n(22),E=Object(s.default)(i.Box).withConfig({displayName:"Expandable__Container",componentId:"sc-1vaci0m-0"})(["position:absolute;left:0;right:0;overflow:hidden;z-index:99;display:flex;max-height:0;height:auto;transition:max-height 0.4s ease;box-shadow:rgba(37,49,70,0.3) 0px 2px 6px 0px;",""],(function(e){return e.expanded&&"\n    max-height: 456px;\n  "})),x=c.memo((function(e){e.ref;var t=Object(y.a)(e,["ref"]);return c.createElement(E,t)})),O=c.memo((function(e){var t=e.expanded,n=e.children,r=e.onApply,a=e.onCancel;return c.createElement(x,{expanded:t,bg:"neutral_0"},c.createElement(i.Card,{flex:"1",sx:{borderBottom:"1px solid",borderColor:"neutral_4"}},c.createElement(i.Flex,{flexDirection:"column",style:{maxHeight:"100%",height:"100%"}},c.createElement(i.Card,{flex:"1 1 auto",sx:{borderBottom:"1px solid",borderColor:"neutral_4",overflow:"hidden",display:"flex",flexDirection:"column"}},n),c.createElement(i.Flex,{py:3,px:4,flex:"0 0 auto",mr:-1,flexDirection:"row-reverse"},c.createElement(i.Box,{mx:1},c.createElement(m.d,{large:!0,onClick:r,variant:"primary"},"Apply Filters")),c.createElement(i.Box,{mx:1},c.createElement(m.d,{large:!0,variant:"secondary",onClick:a},"Cancel"))))))})),j=n(26),C=n(57);function S(){var e=Object(o.a)(["\n  &:hover,\n  &:active,\n  &:focus-within {\n    ","\n  }\n"]);return S=function(){return e},e}var w=Object(s.default)(i.Flex)(S(),b.b);function k(e){var t=e.adding,n=e.buttons,o=void 0===n?[]:n,s=e.className,l=e.filters,d=void 0===l?function(){return null}:l,b=e.filtersOpen,y=e.onChangeFiltersOpen,E=e.onSearch,x=e.quickFilters,S=e.resource,k=e.searchQuery,T=void 0===k?"":k,R=e.setAdding,A=e.quickFiltersStyle,_=e.style,I=void 0===_?{}:_,F=e.title,U=e.total,N=c.useState(T),L=Object(a.a)(N,2),D=L[0],M=L[1],P=c.useState(T),B=Object(a.a)(P,2),H=B[0],q=B[1];Object(v.b)((function(){E&&D!==T&&E(D||"")}),200,[E,D,T]);var G=c.useState(u.a.parse("")),V=Object(a.a)(G,2),z=V[0],W=V[1];c.useEffect((function(){W(u.a.parse(H))}),[H]);var Y=c.useMemo((function(){return d(z.getConditionArray(),(function(e){var t=z.clone();t.conditionArray=e,q(t.toString())}))}),[d,z]),K=c.useCallback((function(e){return function(t){if(x){var n=x.clear?u.a.parse(""):z.clone(),r=n.getConditionArray().filter((function(e){return e.keyword!==x.keyword}));t&&e&&r.push({keyword:x.keyword,value:e,negated:!1}),n.conditionArray=r;var a=n.toString();q(a),M(a)}}}),[x,z]),Q=c.useMemo((function(){if(!x)return null;var e=z.getConditionArray().filter((function(e){return e.keyword===x.keyword})),t=0===e.length;return c.createElement(c.Fragment,null,x.all&&c.createElement(m.s,{onChange:t?void 0:K(),active:t,label:x.all,permanent:!0,total:void 0!==x.total?x.total:U}),x.values.map((function(t){var n=t.label,r=t.total;return c.createElement(m.s,{onChange:K(n),active:1===e.length&&e[0].value===n,key:n,label:n,total:r})})))}),[x,z,K,U]),X=R&&c.createElement(g.a,{resource:S,action:h.a.Create,yes:c.createElement(j.a,{content:"Add ".concat(Object(p.startCase)(f()(S.toString(),1,!1)).toLowerCase()),hideOnClick:!0,disabled:t},c.createElement(m.d,{active:t,variant:"headerIcon",onClick:function(){return R(!t)},"data-qa":"table-header-add_button"},c.createElement(m.j,{icon:"plus"})))}),Z=c.useCallback((function(){return y&&y(!b)}),[y,b]),J=c.useCallback((function(){Z(),M(H)}),[H,Z,M]),$=Y&&y&&c.createElement(g.a,{resource:S,action:h.a.Read,yes:c.createElement(m.d,{active:b,variant:"headerIcon",onClick:Z,"data-qa":"table-header-filters_button"},c.createElement(m.j,{icon:"sliders-h"}))}),ee=[].concat(Object(r.a)(o),[X,$]).filter((function(e){return!!e})),te="Search ".concat(Object(p.startCase)(f()(S.toString(),U,!0)).toLowerCase(),"..."),ne=c.useCallback((function(){Z(),q(D)}),[Z,q,D]);return c.createElement(c.Fragment,null,Q&&c.createElement(i.Box,{style:A,as:"section",flex:"0 1 auto",mb:2},Q),(E||ee.length>0)&&c.createElement(i.Flex,{className:s,style:I,color:"white",justifyContent:"space-between",alignItems:"center"},F&&c.createElement(m.i,{variant:"h4",pl:4},F," ",c.createElement(i.Box,{as:"span",color:"neutral_6",style:{fontWeight:"normal"}},"(",U,")")),E&&c.createElement(w,{px:4,flex:"1",alignItems:"center",bgActive:"neutral_1",style:{height:"100%"}},c.createElement(i.Box,null,c.createElement(m.j,{icon:"search",color:"neutral_6"})),c.createElement(i.Box,{flex:"1",alignSelf:"stretch"},c.createElement(m.l,{fullWidth:!0,fullHeight:!0,onChangeValue:M,placeholder:te,value:D,variant:"search"}))),!E&&c.createElement(i.Box,{flex:"1"}),ee.map((function(e,t){return c.createElement(C.a,{left:!0,key:t},e)}))),Y&&c.createElement(i.Box,{style:{width:I.width,left:I.left,position:"absolute"}},c.createElement(O,{expanded:b,onApply:J,onCancel:ne},Y)))}},43:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"g",(function(){return c})),n.d(t,"d",(function(){return i})),n.d(t,"a",(function(){return s})),n.d(t,"e",(function(){return l})),n.d(t,"f",(function(){return u}));var r=n(2),a=Object(r.createAsyncAction)("FETCH USERS","FETCH USERS SUCCESS","FETCH USERS FAILURE")(),o=Object(r.createAsyncAction)("FETCH USER","FETCH USER SUCCESS","FETCH USER FAILURE")(),c=Object(r.createAsyncAction)("UPDATE USER","UPDATE USER SUCCESS","UPDATE USER FAILURE")(),i=Object(r.createAsyncAction)("SAVE USER ROLES","SAVE USER ROLES SUCCESS","SAVE USER ROLES FAILURE")(),s=Object(r.createAsyncAction)("DELETE USER","DELETE USER SUCCESS","DELETE USER FAILURE")(),l=Object(r.createStandardAction)("SAVE USERS")(),u=Object(r.createStandardAction)("SEARCH USERS")()},44:function(e,t,n){"use strict";n.d(t,"f",(function(){return a})),n.d(t,"e",(function(){return o})),n.d(t,"d",(function(){return c})),n.d(t,"h",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return u})),n.d(t,"g",(function(){return d}));var r=n(2),a=Object(r.createAsyncAction)("SAVE SUGGESTION","SAVE SUGGESTION SUCCESS","SAVE SUGGESTION FAILURE")(),o=Object(r.createAsyncAction)("FETCH SYNONYM BY MAPPED VALUE","FETCH SYNONYM BY MAPPED VALUE SUCCESS","FETCH SYNONYM BY MAPPED VALUE FAILURE")(),c=Object(r.createAsyncAction)("FETCH SUGGESTIONS","FETCH SUGGESTIONS SUCCESS","FETCH SUGGESTIONS FAILURE")(),i=Object(r.createStandardAction)("SET TOTAL FETCHED CONVERSATIONS")(),s=Object(r.createAsyncAction)("DELETE SUGGESTION","DELETE SUGGESTION SUCCESS","DELETE SUGGESTION FAILURE")(),l=Object(r.createAsyncAction)("CHECK DRAFT SUGGESTION","CHECK DRAFT SUGGESTION SUCCESS","CHECK DRAFT SUGGESTION FAILURE")(),u=Object(r.createStandardAction)("CHANGE SUGGESTION")(),d=Object(r.createStandardAction)("SEARCH SUGGESTIONS")()},47:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"f",(function(){return o})),n.d(t,"e",(function(){return c})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return s})),n.d(t,"a",(function(){return l}));var r=n(2),a=Object(r.createAsyncAction)("FETCH SYNONYMS","FETCH SYNONYMS SUCCESS","FETCH SYNONYMS FAILURE")(),o=Object(r.createAsyncAction)("UPDATE SYNONYM VALUE","UPDATE SYNONYM VALUE SUCCESS","UPDATE SYNONYM VALUE FAILURE")(),c=Object(r.createAsyncAction)("UPDATE SYNONYM REFERENCE","UPDATE SYNONYM REFERENCE SUCCESS","UPDATE SYNONYM REFERENCE FAILURE")(),i=Object(r.createAsyncAction)("ADD SYNONYM","ADD SYNONYM SUCCESS","ADD SYNONYM FAILURE")(),s=Object(r.createAsyncAction)("ADD SYNONYM VALUES","ADD SYNONYM VALUES SUCCESS","ADD SYNONYM VALUES FAILURE")(),l=Object(r.createAsyncAction)("DELETE SYNONYM VALUES","DELETE SYNONYM VALUES SUCCESS","DELETE SYNONYM VALUES FAILURE")();Object(r.createStandardAction)("SEARCH SYNONYMS")()},48:function(e,t,n){"use strict";n.d(t,"f",(function(){return a})),n.d(t,"g",(function(){return o})),n.d(t,"i",(function(){return c})),n.d(t,"j",(function(){return i})),n.d(t,"d",(function(){return s})),n.d(t,"k",(function(){return l})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return d})),n.d(t,"a",(function(){return f})),n.d(t,"h",(function(){return p})),n.d(t,"e",(function(){return m}));var r=n(2),a=Object(r.createAsyncAction)("FETCH RULES","FETCH RULES SUCCESS","FETCH RULES FAILURE")(),o=Object(r.createAsyncAction)("FETCH RULE VISUALIZATION","FETCH RULE VISUALIZATION SUCCESS","FETCH RULE VISUALIZATION FAILURE")(),c=Object(r.createAsyncAction)("SAVE RULE","SAVE RULE SUCCESS","SAVE RULE FAILURE")(),i=Object(r.createAsyncAction)("UPDATE RULE","UPDATE RULE SUCCESS","UPDATE RULE FAILURE")(),s=Object(r.createAsyncAction)("DELETE RULE","DELETE RULE SUCCESS","DELETE RULE FAILURE")(),l=Object(r.createAsyncAction)("UPLOAD RULE","UPLOAD RULE SUCCESS","UPLOAD RULE FAILURE")(),u=Object(r.createStandardAction)("CHANGE RULES")(),d=Object(r.createStandardAction)("CHANGE RULE SELECTION")(),f=Object(r.createStandardAction)("ADD RULES")(),p=Object(r.createStandardAction)("REPLACE RULES")(),m=Object(r.createStandardAction)("DOWNLOAD RULES")()},51:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return i})),n.d(t,"a",(function(){return s})),n.d(t,"d",(function(){return l}));var r=n(2),a=Object(r.createAsyncAction)("FETCH GROUPED RESPONSES","FETCH GROUPED RESPONSES SUCCESS","FETCH GROUPED RESPONSES FAILURE")(),o=Object(r.createAsyncAction)("ADD RESPONSE","ADD RESPONSE SUCCESS","ADD RESPONSE FAILURE")(),c=Object(r.createAsyncAction)("UPDATE RESPONSE","UPDATE RESPONSE SUCCESS","UPDATE RESPONSE FAILURE")(),i=Object(r.createAsyncAction)("UPDATE RESPONSE NAME","UPDATE RESPONSE NAME SUCCESS","UPDATE RESPONSE NAME FAILURE")(),s=Object(r.createAsyncAction)("DELETE RESPONSE","DELETE RESPONSE SUCCESS","DELETE RESPONSE FAILURE")(),l=Object(r.createStandardAction)("SEARCH RESPONSES")()},518:function(e,t,n){"use strict";n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return d}));var r=n(7),a=n(22),o=n(6),c=n(2),i=n(67),s=n.n(i),l=n(213),u={PT1H:{start:s()().endOf("hour").subtract(1,"day").add(1,"minute").unix(),end:s()().endOf("hour").unix()},P1D:{start:s()().endOf("day").subtract(1,"month").add(1,"hour").unix(),end:s()().endOf("day").unix()},P1M:{start:s()().endOf("month").subtract(1,"year").add(1,"day").unix(),end:s()().endOf("month").unix()}},d={metrics:{conversation_length:[],conversation_steps:[],sessions_per_user:[],conversations:[],new_users:[],user_messages:[],bot_messages:[],total_messages:[]},start:u.P1D.start,end:u.P1D.end,bucket:"P1D",loading:!1},f=function(e,t,n){return n.map((function(n,r){return{value:n,timestamp:e+r*t}}))};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Object(c.getType)(l.a.request):var n=t.payload,i=n.bucket,s=n.start,u=n.end;return Object(o.a)({},e,{bucket:i,start:s,end:u,loading:!0});case Object(c.getType)(l.a.success):var p=e.start,m=t.payload,b=m.bin_width,h=Object(a.a)(m,["bin_width"]),g=Object.entries(h).map((function(e){var t=Object(r.a)(e,2),n=t[0],a=t[1];return[n,f(p,b,a)]})).reduce((function(e,t){var n=Object(r.a)(t,2),a=n[0],c=n[1];return Object(o.a)({},e,{[a]:c})}),{});return Object(o.a)({},e,{metrics:g,loading:!1});case Object(c.getType)(l.a.failure):return Object(o.a)({},e,{loading:!1});default:return e}}},52:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"e",(function(){return o})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return i}));var r=!1,a="true"===Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_ENTERPRISE:"false",REACT_APP_GIT_SHA:"53aa338",REACT_APP_API_URL:"/"}).REACT_APP_SERVER||!1,o=3e3,c=500,i=15},54:function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"a",(function(){return o})),n.d(t,"e",(function(){return c})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return s}));var r=n(2),a=Object(r.createAsyncAction)("SAVE CONFIG","SAVE CONFIG SUCCESS","SAVE CONFIG FAILURE")(),o=Object(r.createAsyncAction)("FETCH CONFIG","FETCH CONFIG SUCCESS","FETCH CONFIG FAILURE")(),c=Object(r.createAsyncAction)("SAVE DOMAIN","SAVE DOMAIN SUCCESS","SAVE DOMAIN FAILURE")(),i=Object(r.createAsyncAction)("FETCH DOMAIN","FETCH DOMAIN SUCCESS","FETCH DOMAIN FAILURE")(),s=Object(r.createAsyncAction)("FETCH DOMAIN WARNINGS","FETCH DOMAIN WARNINGS SUCCESS","FETCH DOMAIN WARNINGS FAILURE")()},57:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(6),a=n(22),o=n(0),c=n(3);function i(e){var t=e.top,n=e.right,i=e.bottom,s=e.left,l=Object(a.a)(e,["top","right","bottom","left"]);return o.createElement(c.Card,Object.assign({},l,{sx:Object(r.a)({flexShrink:0,borderColor:"neutral_4",borderTopStyle:t?"solid":"",borderTopWidth:t?"1px":"",borderRightStyle:n?"solid":"",borderRightWidth:n?"1px":"",borderBottomStyle:i?"solid":"",borderBottomWidth:i?"1px":"",borderLeftStyle:s?"solid":"",borderLeftWidth:s?"1px":""},l.sx)}))}},59:function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return u}));var r=n(14),a=n(4),o=n.n(a),c=n(5),i=n(20),s=void 0;function l(e,t){var n=o.a.mark(r);function r(r){var a;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(c.b)(e,r);case 3:return a=n.sent,n.next=6,Object(c.f)(t.success(a));case 6:n.next=14;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,Object(i.a)(n.t0);case 12:return n.next=14,Object(c.f)(t.failure(n.t0));case 14:case"end":return n.stop()}}),n,null,[[0,8]])}return r}function u(e,t,n,a){var s=o.a.mark(l);function l(l,u){var d,f,p;return o.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,d=a?a(u.payload):[u.payload],o.next=4,c.b.apply(void 0,[e,l].concat(Object(r.a)(d)));case 4:return f=o.sent,p=n?n(f,u.payload):f,o.next=8,Object(c.f)(t.success(p));case 8:o.next=16;break;case 10:return o.prev=10,o.t0=o.catch(0),o.next=14,Object(i.a)(o.t0);case 14:return o.next=16,Object(c.f)(t.failure(o.t0));case 16:case"end":return o.stop()}}),s,null,[[0,10]])}return l}},654:function(e,t,n){"use strict";var r=n(33),a=n(0),o=n(13),c=n(189);function i(){var e=Object(r.a)([""]);return i=function(){return e},e}var s=Object(o.default)(c.a)(i());s.defaultProps={justifyContent:"center",alignItems:"flex-end",height:"100%"},t.a=a.memo(s)},68:function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return c})),n.d(t,"f",(function(){return i})),n.d(t,"g",(function(){return s})),n.d(t,"a",(function(){return l})),n.d(t,"e",(function(){return u}));var r=n(2),a=Object(r.createAsyncAction)("FETCH ROLES","FETCH ROLES SUCCESS","FETCH ROLES FAILURE")(),o=Object(r.createAsyncAction)("FETCH ROLE","FETCH ROLE SUCCESS","FETCH ROLE FAILURE")(),c=Object(r.createAsyncAction)("FETCH ROLE USERS","FETCH ROLE USERS SUCCESS","FETCH ROLE USERS FAILURE")(),i=Object(r.createAsyncAction)("SAVE ROLE","SAVE ROLE SUCCESS","SAVE ROLE FAILURE")(),s=Object(r.createAsyncAction)("UPDATE ROLE","UPDATE ROLE SUCCESS","UPDATE ROLE FAILURE")(),l=Object(r.createAsyncAction)("DELETE ROLE","DELETE ROLE SUCCESS","DELETE ROLE FAILURE")(),u=Object(r.createStandardAction)("FIND AND UPDATE ROLE")()},751:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return d}));var r=n(6),a=n(14),o=n(7),c=n(0),i=n(13),s=n(18),l=n(766);"undefined"===typeof ResizeObserver&&(e.ResizeObserver=n(475).default);var u=c.forwardRef((function(e,t){return c.createElement(l.a,Object.assign({forwardedRef:t},e))}));function d(e){var t=c.useState(null),n=Object(o.a)(t,2),l=n[0],d=n[1],f=c.useState(!0),p=Object(o.a)(f,2),m=p[0],b=p[1],h=c.useContext(i.ThemeContext);c.useEffect((function(){var e=window.location.hash;""!==e&&setTimeout((function(){var t=e.replace("#",""),n=document.getElementById(t);n&&n.scrollIntoView()}),0)}),[]);var g=c.useMemo((function(){return e.awaitingResponse?[].concat(Object(a.a)(e.events),[{event:"typing",timestamp:-1}]):e.events}),[e.awaitingResponse,e.events]);c.useEffect((function(){null!==l&&m&&g.length>0&&(l.scrollTop=l.scrollHeight-l.clientHeight)}),[g,l,m]);var v=c.useCallback((function(){if(null!==l){var e=l.scrollTop===l.scrollHeight-l.clientHeight;b(e)}}),[b,l]);return c.createElement(s.d,{flexDirection:"column",justifyContent:"flex-start",ref:d,height:"100%",overflow:"auto",onScroll:v,sx:{["@media (max-device-width: ".concat(h.breakpoints[1],")")]:{'[data-e2e^="EventContainer-"]:first-of-type':{marginTop:"auto"},'[data-e2e^="EventContainer-"]:last-of-type':{marginBottom:"12px"}}}},g.map((function(t,n){return c.createElement(u,{data:Object(r.a)({},e,{events:g}),index:n,style:{},key:n})})))}}).call(this,n(87))},756:function(e,t,n){e.exports=n.p+"static/media/filters_placeholder.3e303cf2.svg"},760:function(e,t,n){e.exports=n.p+"static/media/rasa_horizontal_logo_white.bf7620f2.svg"},761:function(e,t,n){e.exports=n.p+"static/media/rasa_horizontal_logo.23a7393c.svg"},765:function(e,t,n){e.exports=n.p+"static/media/chat_placeholder.634e5dc0.svg"},766:function(e,t,n){"use strict";n.d(t,"a",(function(){return _}));var r=n(0),a=n(40),o=n(83),c=n(215),i=n(415),s=n(101),l=n(137),u=n(6),d=n(13),f=n(3),p=n(16),m=Object(d.default)(f.Box).attrs((function(e){return Object(u.a)({bg:e.highlighted?"neutral_2":"transparent",borderColor:e.highlighted?"primary_2":"transparent",pt:1===e.index?4:2},e)})).withConfig({displayName:"EventContainer",componentId:"sc-8hb55e-0"})([""," "," "," border-style:solid;border-bottom-width:0;border-right-width:2px;border-left-width:0;border-top-width:0;"],p.borderRight,p.borderColor,p.space);m.defaultProps={px:[0,3,4],py:[0,1,2]};var b=m,h=n(26);function g(e){for(var t=e.data,n=e.style,a=e.event,u=e.highlighted,d=e.forwardedRef,f=t.onMessageClick,p=t.onUndoMessage,m=a.timestamp,g="action"!==a.event||"utter_"!==a.name.substring(0,6),v=("confidence"in a?a.confidence:null),y=t.events.filter((function(e){return e.timestamp<a.timestamp}));y.length>0&&"user"!==y[0].event&&"bot"!==y[0].event;)y=y.slice(1);return r.createElement(b,{style:n,highlighted:u,onClick:function(){return f(a)},ref:d,"data-e2e":"EventContainer-".concat(a.event,"-").concat(a.timestamp),"data-qa":"conversation-message-action_div"},r.createElement(l.a,{flexDirection:"row",alignItems:"end"},r.createElement(h.a,{content:"Action and Confidence"},r.createElement(c.a,{ml:7,confidence:v},Object(o.f)(a))),p&&g&&y.length>0&&r.createElement(s.b,{show:!1,alignSelf:"center"},r.createElement(i.a,{onClick:function(){return p(m)}}))))}var v=n(279);function y(e){var t,n,a=e.data,c=e.style,i=e.event,s=e.highlighted,l=e.last,u=e.forwardedRef,d=e.selected,f=a.filter,p=a.onMessageClick,m=a.onUndoMessage,h=a.onFlagMessage,g=a.onMessageButtonClick,y=a.username,E=a.userAvatar,x=a.interactive,O=i.timestamp,j=r.useCallback((function(e){"Enter"===e.key&&p(i)}),[i,p]),C=f&&f.nluConfidence||void 0,S=(null===(t=i.metadata)||void 0===t||null===(n=t.rasa_x_id)||void 0===n?void 0:n.toString())||"";return r.createElement(b,{style:c,highlighted:s,role:"button",onClick:function(){return p(i)},onKeyPress:j,tabIndex:0,"data-e2e":"EventContainer-".concat(i.event,"-").concat(i.timestamp),ref:u,id:S},r.createElement(v.a,{data:"bot"===i.event&&i.data||null,formatted:Object(o.f)(i),highlighted:s,last:l,onUndoMessage:m,onFlagMessage:h,onMessageButtonClick:g,optimistic:"user"===i.event&&!!i.isOptimistic,flagged:i.is_flagged,text:i.text,timestamp:O,user:"user"===i.event?y:null,userAvatar:E,confidence:"user"===i.event?i.parse_data.intent.confidence:null,confidenceFilter:C,interactive:x,selected:d}))}var E=n(1);function x(e){var t=e.forwardedRef,n=e.style;return r.createElement(E.v,{py:6,px:4,ref:t,style:n},r.createElement(E.y,{as:"span",variant:"metadata",color:"neutral_6"},"Restart"))}var O=n(67),j=n.n(O);function C(e){var t=e.forwardedRef,n=e.event.timestamp,a=e.style;return r.createElement(E.v,{py:6,px:4,ref:t,style:a},r.createElement(E.y,{as:"span",variant:"metadata",color:"neutral_6"},"Conversation session started on ",j.a.unix(n).format("D MMM YYYY")))}var S=n(33);function w(){var e=Object(S.a)(["\n  animation: "," 1s ease-in-out infinite;\n  animation-direction: alternate;\n"]);return w=function(){return e},e}function k(){var e=Object(S.a)(["\n  from { opacity: 1; }\n  to { opacity: 0; }\n"]);return k=function(){return e},e}var T=Object(d.keyframes)(k()),R=Object(d.default)(E.j)(w(),T),A=r.memo((function(e){var t=e.forwardedRef,n=e.style;return r.createElement(b,{style:n,ref:t,"data-e2e":"EventContainer-Typing"},r.createElement(v.a,null,r.createElement(R,{icon:"ellipsis-h",size:"2x"})))}));function _(e){var t=e.data,n=e.index,o=e.style,c=e.forwardedRef,i=t.events,s=t.selectedTimestamp,l=n>=Object(a.findLastIndex)(i,(function(e){return"bot"===e.event})),u=i[n],d={data:t,index:n,style:o,highlighted:u.timestamp<=s&&(u.nextBreakEvent||1/0)>s,last:l,forwardedRef:c,selected:u.timestamp===s};return"restart"===u.event?r.createElement(x,Object.assign({},d,{event:u})):"session_started"===u.event?r.createElement(C,Object.assign({},d,{event:u})):"typing"===u.event?r.createElement(A,Object.assign({},d,{event:u})):"user"!==u.event&&"bot"!==u.event||!u.text&&("bot"!==u.event||!u.data.custom)?r.createElement(g,Object.assign({},d,{event:u})):r.createElement(y,Object.assign({},d,{event:u}))}},787:function(e,t,n){e.exports=n(1429)},8:function(e,t,n){"use strict";n.d(t,"f",(function(){return f})),n.d(t,"a",(function(){return r})),n.d(t,"d",(function(){return a})),n.d(t,"c",(function(){return p})),n.d(t,"b",(function(){return m}));var r,a,o=n(6),c=n(14),i=n(7),s=n(2),l=n(522),u=n.n(l),d=n(28),f="current";!function(e){e.Create="create",e.Read="read",e.List="read",e.Update="update",e.Delete="delete"}(r||(r={})),function(e){e.ActionPrediction="actionPrediction",e.AllEvaluations="allEvaluations",e.Analytics="analytics",e.Branch="branch",e.BulkData="bulkData",e.BulkResponses="bulkResponseTemplates",e.BulkStories="bulkStories",e.ChatToken="chatToken",e.ClientEvaulation="clientEvaluation",e.ClientEvents="clientEvents",e.ClientMessages="clientMessages",e.Clients="clients",e.Commit="commit",e.ConversationActions="conversationActions",e.ConversationEntities="conversationEntities",e.ConversationIntents="conversationIntents",e.ConversationPolicies="conversationPolicies",e.Domain="domain",e.EntitySynonyms="entity_synonyms",e.Environments="environments",e.Examples="examples",e.Features="features",e.Intents="intents",e.Logs="logs",e.Lookup="lookup",e.MessageFlags="messageFlags",e.MessageIntents="messageIntents",e.Messages="messages",e.Metadata="metadata",e.Models="models",e.NLGResponse="nlgResponse",e.Projects="projects",e.Regexes="regexes",e.Repositories="repositories",e.RepositoryStatus="repository_status",e.Responses="responseTemplates",e.Roles="roles",e.Rules="rules",e.Statistics="statistics",e.Stories="stories",e.Tests="tests",e.User="user",e.UserGoals="userGoals",e.Users="users",e.Warnings="warnings"}(a||(a={}));var p="none",m={accessToken:null,apiToken:"",error:null,features:[],guestAccessToken:null,guestUsername:null,loading:!1,role:[p],username:null,permissions:[],newEnterpriseUser:!1,enterpriseUser:!1},b={get:"read",list:"read"};function h(e){var t={};return e.forEach((function(e){var n=e.split(":"),r=Object(i.a)(n,2),s=r[0],l=r[1],u=s.split("."),d=b[l]||l,p=Object.entries(a).find((function(e){return Object(i.a)(e,2)[1]===u[0]}));if(void 0!==p){var m=a[p[0]],h=u.slice(1);t[m]||(t[m]={});var g=t[m][d]||{role:f,resource:m,action:d,possession:"any",attributes:[]};if("*"!==g.attributes[0]){var v=0===h.length?["*"]:[].concat(Object(c.a)(g.attributes),Object(c.a)(h));t[m][d]=Object(o.a)({},g,{attributes:v})}}})),Object.keys(t).flatMap((function(e){var n=t[e];return Object.keys(n).map((function(e){return n[e]}))}))}t.e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Object(s.getType)(d.g.failure):return Object(o.a)({},e,{error:t.payload,accessToken:null,username:null});case Object(s.getType)(d.f.success):var n=t.payload.access_token,r=u()(n),a=r.username;return Object(o.a)({},e,{guestAccessToken:n,guestUsername:a});case Object(s.getType)(d.c.success):case Object(s.getType)(d.g.success):var c=t.payload.access_token,i=u()(c),l=i.username,f=i.scopes,p=i.user,b=p.roles,g=p.api_token,v=Object(o.a)({},e,{error:null,accessToken:c,username:l,permissions:h(f)}),y=Object(o.a)({},v,{apiToken:g,role:b});return t.type===Object(s.getType)(d.g.success)?y:Object(o.a)({},y,{newEnterpriseUser:null===l,enterpriseUser:!0});case Object(s.getType)(d.h):var E=t.payload;if(!E)return Object(o.a)({},m);var x=new Error;return x.message=E,Object(o.a)({},m,{error:x});case Object(s.getType)(d.d.success):return Object(o.a)({},e,{features:t.payload});case Object(s.getType)(d.i.success):var O=t.payload;return Object(o.a)({},e,{features:e.features.map((function(e){return e.name===O.name?O:e}))});case Object(s.getType)(d.b.success):var j=t.payload,C=j.username,S=j.api_token,w=j.roles;return Object(o.a)({},e,{error:null,username:C,apiToken:S,role:w});case Object(s.getType)(d.b.failure):return Object(o.a)({},e,{error:t.payload});case Object(s.getType)(d.c.failure):return Object(o.a)({},e,{error:t.payload,newEnterpriseUser:!1,enterpriseUser:!1});default:return e}}},81:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(22),a=n(0),o=n.n(a),c=n(3),i=n(1);function s(e){var t=e.text,n=e.children,a=Object(r.a)(e,["text","children"]);return o.a.createElement(i.y,Object.assign({variant:"bodySecondary",as:"label",fontWeight:700,width:"100%"},a),o.a.createElement(c.Box,{mb:2,children:t}),n)}},83:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return m})),n.d(t,"f",(function(){return b})),n.d(t,"e",(function(){return h})),n.d(t,"c",(function(){return v}));var r=n(14),a=n(7),o=n(6),c=n(2),i=n(40),s=n(52),l=n(411),u=n(12),d=n(28),f=n(136),p={Tester:"Tester (Share your bot)",facebook:"Facebook",mattermost:"Mattermost",rasa:"Internal (Interactive Learning)",rocketchat:"Rocket.Chat",slack:"Slack",socketio:"Socket.io",telegram:"Telegram",twilio:"Twilio",webexteams:"Webex Teams"},m=[{label:"All (default)",status:null},{label:"Reviewed",status:"reviewed"},{label:"Saved for later",status:"saved_for_later"},{label:"Unread",status:"unread"}];function b(e,t){switch(e.event){case"user":var n=e.parse_data.intent?e.parse_data.intent.name:"null",r=e.parse_data.entities;if(t){var a=(/\/\S+/.test(e.text)?{text:e.text}:r.reduce((function(e,t){var n=t.entity,r=t.value,a=t.start,o=t.end,c="[".concat(r,"](").concat(n,")");return{text:e.text.substring(0,a+e.offset)+c+e.text.substring(o+e.offset),offset:c.length-r.length}}),{text:e.text,offset:0})).text;return"".concat(n,": ").concat(a)}var c=0===r.length?"":JSON.stringify(r.reduce((function(e,t){return Object(o.a)({},e,{[t.entity]:t.value})}),{}));return"".concat(n).concat(c);case"slot":return"slot".concat(JSON.stringify({[e.name]:e.value}));case"action":return e.name;case"bot":return e.text;case"active_loop":case"form":return"active_loop".concat(JSON.stringify({name:e.name}));default:return e.event}}var h={channels:[],intents:[],entities:[],actions:[],policies:[],reviewStatus:null,slots:[],tags:[],confidence:null,coreConfidence:null,nluConfidence:null,minimumMessages:null,flaggedOnly:!1,storiesNotRecognised:!1},g=Object(o.a)({},h,{date:{from:null,to:null}}),v={actions:[],awaitingResponse:!1,channels:[],conversationDeletionFailed:!1,conversations:{},conversationEvents:{},conversationsStatistics:null,draftFilter:g,entities:[],environment:"production",userEnvironment:"production",error:null,fastRefreshes:0,filter:g,intents:[],loading:{conversation:!1,conversations:!1,e2eTest:!1},policies:[],slotNames:[],slotValues:[],total:0,selectedIntent:{conversationId:null,intent:null,timestamp:null},chatToken:null,botName:null,botDescription:null,tags:[],e2eTest:null};function y(e){for(var t=["restart","session_started"],n=!1,c=function(r){if(t.some((function(t){return t===e[r].event})))return e[r-1].nextBreakEvent===e[r].timestamp&&(n=!0),"break"},i=e.length-1;0<i;i--){if("break"===c(i))break}if(n)return e;var s=e.reduceRight((function(e,n,c){var i=Object(a.a)(e,2),s=i[0],l=i[1];return[[].concat(Object(r.a)(s.slice(0,c)),[Object(o.a)({},n,{nextBreakEvent:l})],Object(r.a)(s.slice(c+1))),t.some((function(e){return e===n.event}))?n.timestamp:l]}),[e,null]);return Object(a.a)(s,1)[0]}t.d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Object(c.getType)(d.h):return v;case Object(c.getType)(u.h.request):return Object(o.a)({},e,{loading:Object(o.a)({},e.loading,{conversation:!0})});case Object(c.getType)(u.h.failure):return Object(o.a)({},e,{loading:Object(o.a)({},e.loading,{conversation:!1}),error:t.payload});case Object(c.getType)(u.h.success):var n=t.payload,a=n.conversation,p=a.events,m=a.sender_id,b=n.partial,h=e.conversationEvents,g=e.environment,E=(h[m]||[]).filter((function(e){return!("isOptimistic"in e)||!0!==e.isOptimistic}));if(b&&0===p.length)return e;var x=E.length>0?E[E.length-1].timestamp:0,O=p.length>0?p[0].timestamp:void 0,j=O&&O<=x?p.filter((function(e){return x<e.timestamp})):p,C=[].concat(Object(r.a)(E.length>0?E:[]),Object(r.a)(j)),S=C[C.length-1],w=!S||"action"===S.event&&"action_listen"===S.name,k=e.fastRefreshes>s.d,T=h[m],R=T&&C.length===T.length&&C[C.length-1].timestamp===T[T.length-1].timestamp,A=R?h:Object(o.a)({},h,{[m]:y(C)});return Object(o.a)({},e,{conversationEvents:A,error:null,userEnvironment:g,loading:Object(o.a)({},e.loading,{conversation:!1}),awaitingResponse:!w&&!k,fastRefreshes:w?0:e.fastRefreshes+(k?0:1)});case Object(c.getType)(u.w):case Object(c.getType)(u.x.request):var _=t.payload,I=_.text,F=_.senderId,U=Object(l.a)(I),N=e.conversationEvents,L=N[F]||[],D=Object(i.sortedIndexBy)(L,U,(function(e){return e.timestamp}));return Object(o.a)({},e,{conversationEvents:Object(o.a)({},N,{[F]:[].concat(Object(r.a)(L.slice(0,D)),[U],Object(r.a)(L.slice(D+1)))})});case Object(c.getType)(u.x.success):var M=t.payload,P=M.message,B=M.senderId,H=e.conversationEvents,q=H[B]||[],G=Object(i.sortedLastIndexBy)(q,P,(function(e){return Object(i.isEqual)(e,P)}));return G<0?e:Object(o.a)({},e,{awaitingResponse:!0,conversationEvents:Object(o.a)({},H,{[B]:[].concat(Object(r.a)(q.slice(0,G)),Object(r.a)(q.slice(G+1)))})});case Object(c.getType)(u.x.failure):var V=t.payload,z=V.message,W=V.senderId,Y=e.conversationEvents,K=Y[W]||[];return Object(o.a)({},e,{awaitingResponse:!1,conversationEvents:Object(o.a)({},Y,{[W]:K.filter((function(e){return!Object(i.isEqual)(e,z)}))})});case Object(c.getType)(u.B.success):case Object(c.getType)(u.t.success):var Q=t.type===Object(c.getType)(u.t.success),X=t.payload,Z=X.conversationId,J=X.timestamp,$="FLAG MESSAGE SUCCESS"===t.type,ee=e.conversationEvents,te=ee[Z]||[];return Object(o.a)({},e,{conversations:Object(i.mapValues)(e.conversations,(function(e){return e.sender_id!==Z?e:Object(o.a)({},e,{has_flagged_messages:$||te.some((function(e){return e.timestamp!==J&&e.is_flagged}))})})),conversationEvents:Object(o.a)({},ee,{[Z]:te.map((function(e){return e.timestamp!==J?e:Object(o.a)({},e,{is_flagged:Q})}))})});case Object(c.getType)(u.q.request):var ne=t.payload.filter;return Object(o.a)({},e,{loading:Object(o.a)({},e.loading,{conversations:!0}),draftFilter:ne,filter:ne});case Object(c.getType)(u.q.success):var re=t.payload,ae=re.conversations,oe=re.total,ce=re.offset,ie=oe>=e.total?e.conversations:{},se=Object(f.a)(ie,ae,ce||0,(function(e,t){return e.sender_id===t.sender_id}));return Object(o.a)({},e,{conversations:se,total:oe,loading:Object(o.a)({},e.loading,{conversations:!1})});case Object(c.getType)(u.c.request):return Object(o.a)({},e,{conversationDeletionFailed:!1});case Object(c.getType)(u.c.success):var le=t.payload.conversationId,ue=Object.keys(e.conversations).find((function(t){return e.conversations[t].sender_id===le})),de=Object(i.pickBy)(e.conversations,(function(e,t){return t!==ue})),fe=Object.keys(de).map((function(e,t){return{[t]:de[e]}})),pe=Object.assign.apply(Object,[{}].concat(Object(r.a)(fe)));return Object(o.a)({},e,{conversationDeletionFailed:!1,conversations:pe,conversationEvents:Object(i.pickBy)(e.conversationEvents,(function(e,t){return t!==ue})),total:e.total-1});case Object(c.getType)(u.c.failure):return Object(o.a)({},e,{conversationDeletionFailed:!0});case Object(c.getType)(u.C.success):var me=t.payload,be=me.conversationId,he=me.status;return Object(o.a)({},e,{conversations:Object(i.mapValues)(e.conversations,(function(e){return e.sender_id!==be?e:Object(o.a)({},e,{review_status:he})}))});case Object(c.getType)(u.p.success):return Object(o.a)({},e,{tags:t.payload});case Object(c.getType)(u.u.success):var ge=t.payload,ve=ge.tags,ye=ge.conversationId;return Object(o.a)({},e,{tags:[].concat(Object(r.a)(e.tags.filter((function(e){return void 0===ve.find((function(t){return t.id===e.id}))}))),Object(r.a)(ve)),conversations:Object(i.mapValues)(e.conversations,(function(e){return e.sender_id!==ye?e:Object(o.a)({},e,{tags:Object(r.a)(new Set([].concat(Object(r.a)(e.tags),Object(r.a)(ve.map((function(e){return e.id}))))))})}))});case Object(c.getType)(u.d.success):var Ee=t.payload,xe=Ee.tag,Oe=Ee.conversationId;return Object(o.a)({},e,{conversations:Object(i.mapValues)(e.conversations,(function(e){return e.sender_id!==Oe?e:Object(o.a)({},e,{tags:e.tags.filter((function(e){return e!==xe.id}))})}))});case Object(c.getType)(u.v.request):return Object(o.a)({},e,{loading:Object(o.a)({},e.loading,{e2eTest:!0})});case Object(c.getType)(u.v.success):var je=t.payload;return Object(o.a)({},e,{e2eTest:je,loading:Object(o.a)({},e.loading,{e2eTest:!1})});case Object(c.getType)(u.v.failure):return Object(o.a)({},e,{loading:Object(o.a)({},e.loading,{e2eTest:!1}),error:t.payload});case Object(c.getType)(u.a):return Object(o.a)({},e,{environment:t.payload});case Object(c.getType)(u.y):return Object(o.a)({},e,{selectedIntent:t.payload});case Object(c.getType)(u.l.success):return Object(o.a)({},e,{intents:t.payload.sort()});case Object(c.getType)(u.k.success):return Object(o.a)({},e,{entities:t.payload.sort()});case Object(c.getType)(u.i.success):return Object(o.a)({},e,{actions:t.payload.sort()});case Object(c.getType)(u.m.success):return Object(o.a)({},e,{policies:t.payload.sort()});case Object(c.getType)(u.n.success):return Object(o.a)({},e,{slotNames:t.payload.sort()});case Object(c.getType)(u.o.success):return Object(o.a)({},e,{slotValues:t.payload.sort()});case Object(c.getType)(u.j.success):return Object(o.a)({},e,{channels:t.payload.sort()});case Object(c.getType)(u.g.success):return Object(o.a)({},e,{chatToken:t.payload.chat_token});case Object(c.getType)(u.f.success):return Object(o.a)({},e,{botName:t.payload.bot_name,botDescription:t.payload.description});case Object(c.getType)(u.b):return Object(o.a)({},e,{draftFilter:t.payload});case Object(c.getType)(u.s.success):return Object(o.a)({},e,{conversationsStatistics:t.payload});default:return e}}},96:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(0),a=n(3),o=n(13),c=n(16),i=n(1),s=r.memo((function(e){var t=e.content,n=e.leftContent,s=e.centreContent,l=e.rightContent,u=e.title,d=r.useContext(o.ThemeContext);return r.createElement(a.Flex,{style:{height:Object(c.get)(d,"space.10")},"data-qa":"title-bar_div",alignItems:"center",justifyContent:"space-between"},n&&r.createElement(a.Box,{flex:"0 1 auto"},n),r.createElement(a.Box,{p:4},r.createElement(i.i,{variant:"h3"},u)),t&&r.createElement(a.Box,{flex:"1 1",alignSelf:"stretch"},t),!t&&r.createElement(r.Fragment,null,s&&r.createElement(a.Flex,{height:"100%"},s),l&&r.createElement(a.Flex,{alignItems:"right"},l)))}));function l(e){var t=e.noPadding,n=e.title,o=e.content,c=e.leftContent,i=e.centreContent,l=e.rightContent,u=e.children,d=e.scrollable;return r.createElement(a.Flex,{flex:"1",flexDirection:"column",style:{maxWidth:"100%",overflow:"hidden"}},r.createElement(a.Box,{flex:"0 0 auto",style:{boxShadow:"0 2px 6px 0 #ECEFF7",zIndex:99}},r.createElement(s,{title:n,content:o,leftContent:c,centreContent:i,rightContent:l})),r.createElement(a.Box,{flex:"1 1 auto",px:t?0:10,py:t?0:7,style:{height:"100%",overflow:d?"auto":"hidden"},bg:"neutral_3"},u,d&&r.createElement(a.Box,{pb:t?0:7})))}},97:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n(6),a=n(14),o=n(7),c=n(22),i=n(13),s=n(0),l=n(745),u=n(188),d=(n(1006),n(1007),n(1008),n(1009),n(16)),f=n(3),p=n(1),m=Object(i.default)((function(e){e.p,e.pt,e.bg,e.borderRadius,e.boxShadow,e.textAlign;var t=Object(c.a)(e,["p","pt","bg","borderRadius","boxShadow","textAlign"]);return s.createElement(l.a,t)})).withConfig({displayName:"BaseTooltip__Tippy",componentId:"sc-1ryivhs-0"})(["&&{"," "," ","}.tippy-content{padding:0;}.tippy-content > div{"," ","}.tippy-arrow{transform:scale(0.9);}&&[data-placement^='top']{.tippy-arrow::before{border-top-color:",";}}&&[data-placement^='bottom']{.tippy-arrow::before{border-bottom-color:",";}}&&[data-placement^='left']{.tippy-arrow::before{border-left-color:",";}}&&[data-placement^='right']{.tippy-right-arrow::before{border-color:",";}}&&[data-placement^='right-start']{.tippy-arrow::before{margin-left:-1px;transform:scale(0.8);border-right-color:",";}}"],d.boxShadow,d.borderRadius,d.color,d.space,d.textAlign,(function(e){return Object(d.color)(e).backgroundColor}),(function(e){return Object(d.color)(e).backgroundColor}),(function(e){return Object(d.color)(e).backgroundColor}),(function(e){return Object(d.color)(e).backgroundColor}),(function(e){return Object(d.color)(e).backgroundColor}));function b(e){var t=e.containerStyle,n=e.children,i=e.heading,l=e.content,d=e.inline,b=e.m,h=e.mt,g=e.mr,v=e.mb,y=e.ml,E=e.mx,x=e.my,O=e.p,j=e.pt,C=e.pr,S=e.pb,w=e.pl,k=e.px,T=e.py,R=e.onCloseClick,A=(e.onClose,Object(c.a)(e,["containerStyle","children","heading","content","inline","m","mt","mr","mb","ml","mx","my","p","pt","pr","pb","pl","px","py","onCloseClick","onClose"])),_={m:b,mt:h,mr:g,mb:v,ml:y,mx:E,my:x},I=Object.fromEntries(Object.entries({p:O,pt:j,pr:C,pb:S,pl:w,px:k,py:T}).filter((function(e){var t=Object(o.a)(e,2);t[0];return void 0!==t[1]}))),F=[u.a].concat(Object(a.a)(A.sticky?[u.e]:[]),Object(a.a)(A.inlinePositioning?[u.d]:[]));return s.createElement(f.Box,Object.assign({sx:Object(r.a)({},t,{},d&&{display:"inline-block"})},_),s.createElement(m,Object.assign({borderRadius:"normal",bg:"neutral_8",plugins:F,content:s.createElement(f.Flex,Object.assign({flexDirection:"column"},I),i&&s.createElement(f.Flex,{flexDirection:"row",alignItems:"center",mb:2},s.createElement(p.i,{flex:1,variant:"h4",inheritColor:!0,mb:0},i),R&&s.createElement(f.Box,{onClick:R,style:{cursor:"pointer"}},s.createElement(p.j,{icon:"times"}))),s.createElement(p.y,{as:"div",variant:"bodySecondary",inheritColor:!0},l)),animation:"shift-toward",arrow:!0},A),s.createElement(f.Flex,{as:"span"},n)))}b.defaultProps={maxWidth:"initial"}},99:function(e,t,n){"use strict";n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return d})),n.d(t,"a",(function(){return f}));var r=n(33),a=n(13),o=n(16);function c(){var e=Object(r.a)(["\n  &:after {\n    ",";\n  }\n"]);return c=function(){return e},e}function i(){var e=Object(r.a)(["\n  &:disabled {\n    ","\n    ","\n    ","\n  }\n"]);return i=function(){return e},e}function s(){var e=Object(r.a)(["\n  &:hover:not(:disabled) {\n    ","\n  }\n"]);return s=function(){return e},e}var l=Object(a.css)(s(),Object(o.system)({colorHover:{property:"color",scale:"colors"},bgHover:{property:"backgroundColor",scale:"colors"},borderColorHover:{property:"borderColor",scale:"colors"}})),u=(Object(a.css)(i(),Object(o.system)({colorDisabled:{property:"color",scale:"colors"}}),Object(o.system)({borderColorDisabled:{property:"borderColor",scale:"colors"}}),Object(o.system)({bgDisabled:{property:"backgroundColor",scale:"colors"}})),Object(o.system)({bgActive:{property:"backgroundColor",scale:"colors"}})),d=Object(o.system)({colorActive:{property:"color",scale:"colors"}}),f=Object(a.css)(c(),Object(o.system)({afterBg:{property:"backgroundColor",scale:"colors"}}))}},[[787,1,2]]]);